(function(g){var window=this;'use strict';var Lt=function(m){m.publish("cardstatechange",m.qJ()&&m.fT()?1:0)},ud=function(m,F){var L=g.nM(F);
const u=L?F:arguments;for(L=L?0:1;L<u.length;L++){if(m==null)return;m=m[u[L]]}return m},B_G=function(m){const F=g.qr(m);
m=g.w$(m);return new g.bI(F.x,F.y,m.width,m.height)},HMc=function(m,F,L){let u;
return u=g.HS(m,F,function(){g.J5(u);L.apply(m,arguments)},{})},rw=function(m){m=g.CM(m);
delete qU[m];g.qT(qU)&&Ah&&Ah.stop()},Cy2=function(){Ah||(Ah=new g.d1(function(){Jv2()},20));
const m=Ah;m.isActive()||m.start()},Jv2=function(){var m=g.Af();
g.GM(qU,function(F){mN6(F,m)});
g.qT(qU)||Cy2()},yW=function(m,F,L,u){g.rd.call(this);
if(!Array.isArray(m)||!Array.isArray(F))throw Error("Start and end parameters must be arrays");if(m.length!=F.length)throw Error("Start and end points must be the same length");this.B=m;this.L=F;this.duration=L;this.O=u;this.coords=[];this.progress=this.j=0;this.V=null},mN6=function(m,F){F<m.startTime&&(m.endTime=F+m.endTime-m.startTime,m.startTime=F);
m.progress=(F-m.startTime)/(m.endTime-m.startTime);m.progress>1&&(m.progress=1);m.j=1E3/(F-m.V);m.V=F;FCN(m,m.progress);m.progress==1?(m.X=0,rw(m),m.onFinish(),m.yn()):m.isPlaying()&&m.tq()},FCN=function(m,F){typeof m.O==="function"&&(F=m.O(F));
m.coords=Array(m.B.length);for(let L=0;L<m.B.length;L++)m.coords[L]=(m.L[L]-m.B[L])*F+m.B[L]},LCR=function(m,F){g.rL.call(this,m);
this.coords=F.coords;this.x=F.coords[0];this.y=F.coords[1];this.z=F.coords[2];this.duration=F.duration;this.progress=F.progress;this.fps=F.j;this.state=F.X},G2=function(m,F,L,u,q){yW.call(this,F,L,u,q);
this.element=m},vG=function(m,F,L,u,q){if(F.length!=2||L.length!=2)throw Error("Start and end points must be 2D");
G2.call(this,m,F,L,u,q)},uZt=function(m){return Math.pow(m,3)},qR6=function(m){return 3*m*m-2*m*m*m},ld=function(m){return m.baseUrl||null},ww=function(m,F){return g.P2(g.iq(m,F),L=>!!L)},AfC=function(m,F,L){function u(iy){var hv=iy.hovercardButton;
if(!hv)return null;hv=hv.subscribeButtonRenderer;if(!hv)return null;const BN=A(hv.unsubscribedButtonText),NT=A(hv.subscribedButtonText);let WN,rl;hv.subscribed?(WN=A(hv.subscriberCountWithUnsubscribeText),rl=A(hv.subscriberCountText)):(WN=A(hv.subscriberCountText),rl=A(hv.subscriberCountWithSubscribeText));let W$=null;return iy.signinEndpoint&&((W$=ud(iy,"signinEndpoint","webNavigationEndpointData","url"))||(W$=g.p(hv.signInEndpoint?.commandMetadata,g.rb)?.url),!W$)?null:BN&&(NT||W$)?{subscribed:hv.subscribed,
subscribeText:BN,subscribeCount:WN,unsubscribeText:NT,unsubscribeCount:rl,enabled:hv.enabled,signinUrl:W$,classic:iy.useClassicSubscribeButton}:null}
function q(iy){if(iy){var hv=[],BN=iy.videoId;BN&&hv.push("v="+BN);(BN=iy.playlistId)&&hv.push("list="+BN);(iy=iy.startTimeSeconds)&&hv.push("t="+iy);return"/watch?"+hv.join("&")}}
function A(iy){if(!iy)return null;const hv=iy.simpleText;return hv?hv:iy.runs?g.iq(iy.runs,BN=>BN.text).join(""):null}
F=F.endscreenElementRenderer;if(!F)return null;const r=F.style,y=F.endpoint||{};let G=null;var v=null,l=!1;let w=null,V=null,I=null,P=null;var N=!1;let x=null,X=null;var M=null;let t=null,h=null,qb=null;if(r==="VIDEO")g.p(y,g.KD)?G=g.p(y,g.KD).url:(qb=g.p(y,g.nl),G=q(qb)),v=!1,w=m,F.thumbnailOverlays?(l=F.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,V=A(l.text),l=l.style==="LIVE"):V=A(F.videoDuration);else if(r==="PLAYLIST")g.p(y,g.KD)?G=g.p(y,g.KD).url:(qb=g.p(y,g.nl),G=q(qb)),v=!1,w=
m,I=A(F.playlistLength);else if(r==="CHANNEL"){if(N=ud(y,"browseEndpoint","browseId"))P=N,G=`/channel/${P}`;v=!1;w="new";(N=!!F.isSubscribe)?x=u(F):X=A(F.subscribersText)}else r==="WEBSITE"?((M=ud(y,"urlEndpoint","url"))&&(G=M),v=!0,w="new",M=F.icon.thumbnails[0].url):r==="CREATOR_MERCHANDISE"&&(F.productPrice&&(t=A(F.productPrice)),F.additionalFeesText&&(h=A(F.additionalFeesText)),(v=ud(y,"urlEndpoint","url"))&&(G=v),v=!0,w="new");m=ud(F,"title","accessibility","accessibilityData","label");const yv=
F.endpoint?F.endpoint.clickTrackingParams:null;let kA="";if(F.metadata){const iy=A(F.metadata);iy&&(kA=iy)}return{id:`element-${L}`,type:r,title:A(F.title),metadata:kA,callToAction:A(F.callToAction),cA:F.image,iconUrl:M,left:Number(F.left),width:Number(F.width),top:Number(F.top),aspectRatio:Number(F.aspectRatio),startMs:Math.floor(Number(F.startMs)),endMs:Math.floor(Number(F.endMs)),videoDuration:V,VT:l,playlistLength:I,channelId:P,subscribeButton:x,subscribersText:X,isSubscribe:N,targetUrl:G||null,
Yd:v,sessionData:yv?{itct:yv}:null,UF:w,xG:m?m:null,isPlaceholder:F.isPlaceholder,impressionUrls:ww(F.impressionUrls||[],ld),by:ww(F.hovercardShowUrls||[],ld),clickUrls:ww(y.loggingUrls||[],ld),visualElement:g.ee(F.trackingParams),productPrice:t,additionalFeesText:h,watchEndpoint:qb||null}},VW=function(m,F){const L={startMs:Math.floor(Number(m.startMs)),
impressionUrls:ww(m.impressionUrls||[],ld),elements:ww(m.elements||[],(u,q)=>AfC(F,u,q))};
m.trackingParams&&(L.visualElement=g.ee(m.trackingParams));return L},jx=function(m){return m.player.K().playerStyle==="creator-endscreen-editor"},rfq=function(m){return m.player.getVideoData().dJ?"current":m.W?"new":"current"},IS=function(m,F,L=!0){m.player.Ow("creatorendscreen");
m.G&&(m.G.dispose(),m.G=null,m.O.dispose(),m.O=null);for(var u of Object.values(m.B))u.dispose();m.B={};m.j={};m.Z.length>0&&(m.Z.forEach(q=>{q.dispose()}),m.Z.length=0);
m.X&&(g.ue(m.X,"ytp-ce-element-show"),m.X.setAttribute("aria-hidden","true"));m.L=0;if((m.endscreen=F)&&F.elements){L&&yfc(m);L=[];u=new g.Du(F.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});L.push(u);m.player.K().B||(m.G=new g.H({U:"div",J:"ytp-ce-shadow"}),g.jB(m.player,m.G.element,4),m.O=new g.NX(m.G,200));for(u=0;u<F.elements.length;++u){const q=F.elements[u],A=GtN(m,q);if(!A){g.x2(new g.Dj("buildEndscreenElement null",q));continue}m.B[q.id]=A;m.j[q.id]=q;g.jB(m.player,
A.element,4);const r=new g.Du(q.startMs,q.endMs,{id:"ytp-ce-element-"+q.id,namespace:"creatorendscreen"});L.push(r);veN(m,A,q)}m.player.dF(L);m.dY()}},lCC=function(m){var F=m.player.getVideoData(),L=F.videoId;
m.V&&m.V.abort();L={method:"POST",onFinish:q=>{var A=m.V=null;q.status===200&&(q=q.responseText,q.substring(0,3)===")]}"&&(q=q.substring(3),A=JSON.parse(q),A=VW(A,rfq(m))));IS(m,A)},
urlParams:{v:L},withCredentials:!0};m.W&&(L.urlParams.ptype="embedded");const u=F.wx;u&&(L.postParams={ad_tracking:u});if(F=g.liN(F))if(F=g.J9(F),F=g.dF(F))m.V=g.Ow(F,L)},yfc=function(m){const F=g.gr(),L=g.z_();
L&&F&&m.endscreen.visualElement&&g.lO(g.Wa)(void 0,L,F,m.endscreen.visualElement)},GtN=function(m,F){var L=null;
switch(F.type){case "VIDEO":m={U:"div",UR:["ytp-ce-element","ytp-ce-video"],C:{tabindex:"0","aria-label":F.xG||"","aria-hidden":"true"},D:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-covering-image",C:RS(F)},{U:"div",J:"ytp-ce-covering-shadow-top"},{U:"a",J:"ytp-ce-covering-overlay",C:{href:$u(m,F.targetUrl),tabindex:"-1"},D:[{U:"div",UR:["ytp-ce-video-title","ytp-webkit-ellipsis"],C:{dir:g.Id(F.title||"")},G0:F.title},{U:"div",J:F.VT?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
G0:F.videoDuration||void 0}]}]};L=new g.H(m);break;case "PLAYLIST":m={U:"div",UR:["ytp-ce-element","ytp-ce-playlist"],C:{tabindex:"0","aria-label":F.xG||"","aria-hidden":"true"},D:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-covering-image",C:RS(F)},{U:"div",J:"ytp-ce-covering-shadow-top"},{U:"a",J:"ytp-ce-covering-overlay",C:{href:$u(m,F.targetUrl),tabindex:"-1"},D:[{U:"div",UR:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],C:{dir:g.Id(F.title||"")},G0:F.title},{U:"div",J:"ytp-ce-playlist-count",
D:[{U:"div",J:"ytp-ce-playlist-icon"},{U:"div",J:"ytp-ce-playlist-count-text",G0:F.playlistLength||void 0}]}]}]};L=new g.H(m);break;case "CHANNEL":L={U:"div",UR:["ytp-ce-element","ytp-ce-channel",F.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],C:{tabindex:"0","aria-label":F.xG||"","aria-hidden":"true"},D:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-expanding-overlay",D:[{U:"div",J:"ytp-ce-expanding-overlay-hider"},{U:"div",J:"ytp-ce-expanding-overlay-background"},{U:"div",J:"ytp-ce-expanding-overlay-content",
D:[{U:"div",J:"ytp-ce-expanding-overlay-body",D:[{U:"div",J:"ytp-ce-expanding-overlay-body-padding",D:[{U:"a",UR:["ytp-ce-channel-title","ytp-ce-link"],C:{href:$u(m,F.targetUrl),target:"_blank",tabindex:"-1",dir:g.Id(F.title||"")},G0:F.title},F.subscribeButton?{U:"div",J:"ytp-ce-subscribe-container",D:[{U:"div",J:"ytp-ce-channel-subscribe"}]}:"",F.subscribersText?{U:"div",J:"ytp-ce-channel-subscribers-text",G0:F.subscribersText}:"",F.metadata?{U:"div",UR:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],G0:F.metadata}:""]}]}]}]},{U:"div",J:"ytp-ce-expanding-image",C:RS(F)}]};L=new g.H(L);const q=g.G0(document,"div","ytp-ce-channel-subscribe",L.element)[0];if(F.subscribeButton&&F.channelId){g.Fs(q,"ytp-ce-subscribe-button");let A;if(m.player.K().B){var u=null;A=F.sessionData.itct}else u="endscreen",A=null;u=new g.HC(F.subscribeButton.subscribeText,F.subscribeButton.subscribeCount,F.subscribeButton.unsubscribeText,F.subscribeButton.unsubscribeCount,!!F.subscribeButton.enabled,!!F.subscribeButton.classic,
F.channelId,!!F.subscribeButton.subscribed,u,A,m.player,!1);q.appendChild(u.element);m.Z.push(u)}break;case "WEBSITE":m={U:"div",UR:["ytp-ce-element","ytp-ce-website"],C:{tabindex:"0","aria-label":F.xG||"","aria-hidden":"true"},D:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-expanding-overlay",D:[{U:"div",J:"ytp-ce-expanding-overlay-hider"},{U:"div",J:"ytp-ce-expanding-overlay-background"},{U:"div",J:"ytp-ce-expanding-overlay-content",D:[{U:"div",J:"ytp-ce-expanding-overlay-body",D:[{U:"div",
J:"ytp-ce-expanding-overlay-body-padding",D:[{U:"div",J:"ytp-ce-website-title",C:{dir:g.Id(F.title||"")},G0:F.title},{U:"div",J:"ytp-ce-website-metadata",G0:F.metadata},{U:"a",UR:["ytp-ce-website-goto","ytp-ce-link"],C:{href:$u(m,F.targetUrl),target:"_blank",tabindex:"-1"},G0:F.callToAction}]}]}]}]},{U:"div",J:"ytp-ce-expanding-image",C:RS(F)},{U:"div",J:"ytp-ce-expanding-icon",C:w2e(F.iconUrl)}]};L=new g.H(m);break;case "CREATOR_MERCHANDISE":L="",F.productPrice&&(L={U:"div",J:"ytp-ce-merchandise-price-container",
D:[{U:"div",J:"ytp-ce-merchandise-price",G0:F.productPrice}]},F.additionalFeesText&&L.D.push({U:"div",J:"ytp-ce-merchandise-additional-fees",G0:F.additionalFeesText})),m={U:"div",UR:["ytp-ce-element","ytp-ce-merchandise"],C:{tabindex:"0","aria-label":F.xG||"","aria-hidden":"true"},D:[{U:"div",J:"ytp-ce-element-shadow"},{U:"div",J:"ytp-ce-expanding-overlay",D:[{U:"div",J:"ytp-ce-expanding-overlay-hider"},{U:"div",J:"ytp-ce-expanding-overlay-background"},{U:"div",J:"ytp-ce-expanding-overlay-content",
D:[{U:"div",J:"ytp-ce-expanding-overlay-body",D:[{U:"div",J:"ytp-ce-expanding-overlay-body-padding",D:[{U:"div",J:"ytp-ce-merchandise-title",C:{dir:g.Id(F.title||"")},G0:F.title},L,{U:"div",J:"ytp-ce-merchandise-metadata",G0:F.metadata},{U:"a",UR:["ytp-ce-merchandise-goto","ytp-ce-link"],C:{href:$u(m,F.targetUrl),target:"_blank",tabindex:"-1"},G0:F.callToAction}]}]}]}]},{U:"div",J:"ytp-ce-expanding-image",C:RS(F)},{U:"div",J:"ytp-ce-merchandise-invideo-cta-container",D:[{U:"div",J:"ytp-ce-merchandise-invideo-cta",
G0:F.callToAction||void 0}]}]},L=new g.H(m)}F.isPlaceholder&&g.Fs(L.element,"ytp-ce-placeholder");return L},veN=function(m,F,L){function u(){r(1)}
function q(){r(-1)}
F.listen("mouseenter",()=>{ex(m,F,L)});
F.listen("mouseleave",()=>{PG(m,F,L)});
m.player.K().B||F.listen("click",()=>{g.Fs(F.element,"ytp-ce-element-hover")});
F.listen("click",y=>{VCe(m,L,y)});
F.listen("keypress",y=>{VCe(m,L,y)});
F.listen("focus",()=>{ex(m,F,L)});
F.listen("blur",()=>{PG(m,F,L)});
F.listen("touchstart",()=>{ex(m,F,L)});
var A=g.vr("ytp-ce-expanding-overlay-hider",F.element);A&&F.A(A,"touchstart",y=>{y.stopPropagation();g.ue(F.element,"ytp-ce-element-hover");g.ue(F.element,"ytp-ce-force-expand")});
F.listen("keydown",y=>{m.XN=y.keyCode===9&&!y.shiftKey});
const r=y=>{m.L+=y;m.L>0?(g.Fs(F.element,"ytp-ce-force-expand"),id(m,L.id,!0)):(g.ue(F.element,"ytp-ce-force-expand"),g.ue(F.element,"ytp-ce-element-hover"),id(m,L.id,!1))};
A=y=>{y&&(F.listen("blur",()=>{y.style.display!="none"&&m.XN&&y.focus()}),F.A(y,"focus",u),F.A(y,"blur",q))};
A(g.vr("ytp-sb-subscribe",F.element));A(g.vr("ytp-sb-unsubscribe",F.element));F.listen("focus",u);F.listen("blur",q)},gw=function(m,F,L){function u(){A||(q++,q===F.length&&(r.stop(),L&&L()))}
if(!F||F.length===0||jx(m))L&&L();else{F=jG2(m,F);var q=0,A=!1,r=new g.d1(()=>{A=!0;L&&L()},1E3,m);
r.start();for(m=0;m<F.length;m++)g.sM(F[m],u)}},RS=function(m){let F;
m.cA&&(F=m.cA.thumbnails);return w2e(F?F[F.length-1].url:null)},$u=function(m,F){m=m.player.K();
if(F){if(F.startsWith("//"))return m.protocol+":"+F;if(F.startsWith("/"))return g.Gj(m)+F}else return"";return F},w2e=function(m){return m?{style:"background-image: url("+m+")"}:{}},ex=function(m,F,L){g.mI(F.element,"ytp-ce-element-hover")||(L.type==="VIDEO"||L.type==="PLAYLIST"?g.Fs(F.element,"ytp-ce-element-hover"):m.player.K().B?(new g.d1(()=>{g.Fs(F.element,"ytp-ce-element-hover")},200)).start():g.Fs(F.element,"ytp-ce-element-hover"),gw(m,L.by),id(m,L.id,!0))},PG=function(m,F,L){g.ue(F.element,
"ytp-ce-element-hover");
g.ue(F.element,"ytp-ce-force-expand");id(m,L.id,!1)},VCe=function(m,F,L){if(F.targetUrl&&(!L||L.type!=="keypress"||L.keyCode===13)){for(var u=L.target;u&&!g.mI(u,"ytp-ce-element");){g.mI(u,"subscribe-label")&&z2(m,F);
if(g.mI(u,"ytp-ce-channel-subscribe"))return;u=u.parentElement||null}if(!u||g.mI(u,"ytp-ce-element-hover")){L.preventDefault();L.stopPropagation();if(u=m.B[F.id])PG(m,u,F),u.element.blur();if(L.ctrlKey||L.metaKey||F.UF==="new")z2(m,F),m.player.sendVideoStatsEngageEvent(17,void 0),m.player.pauseVideo(),L=g.J9($u(m,F.targetUrl)),L=g.dF(L),g.HF(L,void 0,F.sessionData);else{const q=g.mm(m.player.K())||m.player.getVideoData().dJ,A=()=>{var r=$u(m,F.targetUrl),y=F.sessionData,G=F.watchEndpoint;const v=
g.$1(r);q&&v&&(v.v||v.list)?m.player.JO(v.v,y,v.list,!1,void 0,G||void 0):g.BF(r,y)};
z2(m,F,()=>{m.player.sendVideoStatsEngageEvent(17,A)})}}}},id=function(m,F,L){m.G&&(L?m.O.show():m.O.hide());
for(const u of Object.keys(m.B))u!==F&&g.E(m.B[u].element,"ytp-ce-element-shadow-show",L)},z2=function(m,F,L){gw(m,F.clickUrls,L);
(m=g.z_())&&F.Yd&&g.CV(m,F.visualElement)},jG2=function(m,F){var L=m.player.getVideoData().clientPlaybackNonce;
m=m.player.getCurrentTime().toFixed(2);L={CPN:L,AD_CPN:L,MT:m};m=[];for(let u=0;u<F.length;u++)m.push(ICZ(F[u],L));return m},ICZ=function(m,F){return m.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,L=>{let u=unescape(L);
u=u.substring(1,u.length-1);return F[u]?escape(F[u]):L})},Rm8=function(m){return typeof m==="string"?m:""},Yu=function(m,F,L){for(const u in F)if(F[u]===m)return m;
return L},aS=function(m){if(!m)return null;
var F=g.J9(Rm8(m.value));F=g.dF(F);if(!F)return null;const L=Yu(m.target,$N8,"current");if(L==null)m=null;else{var u=m.show_link_icon;m=new emC(F,L,u==="true"||u==="false"?u==="true":!0,m.pause_on_navigation!=null?m.pause_on_navigation:!0)}return m},zm6=function(m){if(!m)return null;
const F=Yu(m.type,PqZ),L=Yu(m.trigger,ic6);m=m.url;m=Array.isArray(m)&&m.length?m[0]:m;m=aS(m?m:null);return F?new geZ(F,L,m):null},YRR=function(m,F){return g.DC(m.action,F)},D3=function(m,F){m="background-image: url("+m+");";
const L=[];F&&L.push(F);return{U:"div",J:"iv-card-image",C:{style:m},D:L}},NU=function(m){return m.customMessage?T2("div","iv-card-message",m.customMessage):""},pt=function(m){if(!m.metaInfo||m.metaInfo.length===0)return"";
const F=[];for(const L of m.metaInfo)F.push(T2("li","",L));return{U:"ul",J:"iv-card-meta-info",D:F}},Kt=function(m,F,L,u){if(u)for(const q of F)m.X(q,u,L.id,L.sessionData,L.uV.click,5)},T2=function(m,F,L){F?typeof F==="string"?F={"class":F}:Array.isArray(F)&&(F={"class":F.join(" ")}):F={};
F.dir=g.Id(L);return{U:m,C:F,G0:L}},aC8=function(m){if(!m.customMessage)return"";
const F=["iv-card-action","iv-card-primary-link"],L={};m.oa&&(F.push("iv-card-action-icon"),L.style="background-image: url("+m.oa+");");L.dir=g.Id(m.customMessage);const u=[{U:"span",G0:m.customMessage}];m.showLinkIcon&&(u.push("\u00a0"),u.push({U:"span",J:"iv-card-link-icon"}));return{U:"div",UR:F,C:L,D:u}},DNC=function(m){var F;
(F=m)&&!(F=m.length>1?m.charAt(0)==="/"&&m.charAt(1)!=="/":m==="/")&&(F=m.replace(/^(https?:)?\/\//,"").split("/",1),F=!F||F.length<1||!F[0]?[]:F[0].toLowerCase().split(".").reverse(),F=F[0]==="com"&&F[1]==="youtube"||F[0]==="be"&&F[1]==="youtu");return F?m.indexOf("/redirect?")===-1:!1},T6C=function(m,F){return F?F:DNC(m)?"current":"new"},ft=function(m,F,L,u,q,A,r){m.context.X.listen(F,"click",y=>{m.i9(L,u,q,A||[],r||0,y)});
m.context.X.listen(F,"touchstart",()=>{m.Pb=!1});
m.context.X.listen(F,"touchmove",()=>{m.Pb=!0})},N6R=function(m){if(g.p(m,g.KD)?.url)return g.p(m,g.KD).url;
if((m=g.p(m,g.nl))&&m.videoId){let F="/watch?v="+m.videoId;m.playlistId&&(F+="&list="+m.playlistId);m.index&&(F+="&index="+m.index);m.startTimeSeconds&&(F+="&t="+m.startTimeSeconds);return F}return null},xu=function(m,F,L){return{u$:(m.impressionLoggingUrlsV2s||[]).map(u=>u.baseUrl||""),
click:(L.loggingUrls||[]).map(u=>u.baseUrl||""),
close:(F.dismissLoggingUrlsV2s||[]).map(u=>u.baseUrl||""),
Xn:(F.impressionLoggingUrlsV2s||[]).map(u=>u.baseUrl||""),
N_:(F.clickLoggingUrlsV2s||[]).map(u=>u.baseUrl||"")}},oS=function(m,F){if(F.onClickCommand&&g.p(F.onClickCommand,g.adj)?.targetId==="engagement-panel-error-corrections"){m.T=F;
var L=!0}else L=!1;if(!L||p28(m,F))if(L=KCC(m,F)){var u={OL:F,V9:L.element,Wz:!1};if(F.onClickCommand)m.Y.N("web_infocards_teaser_show_logging_fix")&&(m.XI||xNc(m),MU(m,F.id),L=m.findLastIndex(u),g.XZ(m.cards,L,0,u));else{m.isInitialized||fCR(m);MU(m,F.id);const q=m.findLastIndex(u);g.XZ(m.cards,q,0,u);L.ER(m.B,q);m.M0()}F.autoOpen?m.addCueRange(F.startMs,0x8000000000000,F.id,()=>{m.G||(m.X=u,Z3(m),MCt(m,u),Sx(m,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(L=m.context.Y.getCurrentTime()*1E3,L<5E3&&L>F.startMs&&
Zc6(m,u),m.addCueRange(F.startMs,F.startMs+1,F.id,()=>{Zc6(m,u)}),Z3(m))}},XL=function(m){m.G&&(m.RW.hide(),g.u$(m.sR),g.ue(m.context.Y.getRootNode(),g.Om.IV_DRAWER_OPEN),m.G=!1,Lt(m.Y),m.j&&m.j.stop(),m.j=new g.d1(()=>{m.OR&&(m.OR.focus(),m.OR=null)},330),m.j.start())},SRc=function(m,F){F=F.data;
F.autoOpenMs&&m.addCueRange(F.autoOpenMs,0x8000000000000,"",()=>{Sx(m,"YOUTUBE_DRAWER_AUTO_OPEN")});
F.autoCloseMs&&m.addCueRange(F.autoCloseMs,0x8000000000000,"",()=>{XL(m)});
const L=F.headerText;g.Kk(m.SY,L);m.O&&(m.Y.N("player_tooltip_data_title_killswitch")?m.O.setAttribute("title",L):m.O.setAttribute("data-tooltip-title",L));F.eventId&&(m.eventId=F.eventId);m.tF=g.ee(F.trackingParams);m.Z=g.ee(F.closeTrackingParams);m.iD=g.ee(F.iconTrackingParams)},th=function(m,F,L){let u=-1,q=-1;
for(let A=0;A<m.length;A++){if(m[A].height===F||m[A].width===L)return m[A];((m[A].height||0)<F||(m[A].width||0)<L)&&(u<0||(m[u].height||0)<(m[A].height||0)||(m[u].width||0)<(m[A].width||0))?u=A:((m[A].height||0)>=F||(m[A].width||0)>=L)&&(q<0||(m[q].height||0)>(m[A].height||0)||(m[q].width||0)>(m[A].width||0))&&(q=A)}return m[q>=0?q:u]},ED=function(m,F,L,u){return{feature:L.feature?L.feature:"cards",
src_vid:m.context.videoData.videoId,annotation_id:F,ei:m.context.videoData.eventId||"",itct:u.trackingParams||""}},oec=function(m,F){const L=F.cardId?F.cardId:`cr:${m.L}`;
var u=m.Y.K().experiments.fu("enable_error_corrections_infocard_web_client");if(!F.content&&F.teaser.simpleCardTeaserRenderer&&u){u=F.teaser.simpleCardTeaserRenderer;var q=F.icon?F.icon.infoCardIconRenderer:null;if(u.channelAvatar&&u.channelAvatar.thumbnails&&u.channelAvatar.thumbnails.length>0)var A=th(u.channelAvatar.thumbnails,22,22).url;F={id:L,timestamp:m.L,type:"simple",teaserText:g.yf(u.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),
autoOpen:!!F.autoOpen,sessionData:{},sponsored:!1,uV:{},aM:null,pf:u.trackingParams?g.ee(u.trackingParams):null,iD:q&&q.trackingParams?g.ee(q.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,oa:null,title:"",customMessage:"",url:null,onClickCommand:u.onTapCommand||null,YA:A};oS(m,F)}else if(F.content?.simpleCardContentRenderer){if(!F.cueRanges.length)return;A=F.content?.simpleCardContentRenderer;u=F.teaser.simpleCardTeaserRenderer;q=F.icon?F.icon.infoCardIconRenderer:null;F={id:L,
timestamp:m.L,type:"simple",teaserText:g.yf(u.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:ED(m,L,F,A),sponsored:!1,uV:xu(A,u,A.command),aM:A.trackingParams?g.ee(A.trackingParams):null,pf:u.trackingParams?g.ee(u.trackingParams):null,iD:q&&q.trackingParams?g.ee(q.trackingParams):null,imageUrl:th(A.image.thumbnails,290,290).url,displayDomain:A.displayDomain?g.yf(A.displayDomain):null,showLinkIcon:!!A.showLinkIcon,
oa:null,title:A.title?g.yf(A.title):"",customMessage:A.callToAction?g.yf(A.callToAction):"",url:g.p(A.command,g.KD).url?aS({pause_on_navigation:!m.context.videoData.isLivePlayback,target:"new",value:g.p(A.command,g.KD).url}):null,onClickCommand:null};oS(m,F)}else if(F.content?.collaboratorInfoCardContentRenderer){if(!F.cueRanges.length)return;A=F.content?.collaboratorInfoCardContentRenderer;u=F.teaser.simpleCardTeaserRenderer;q=F.icon?F.icon.infoCardIconRenderer:null;F={id:L,timestamp:m.L,type:"collaborator",
teaserText:g.yf(u.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:ED(m,L,F,A),sponsored:!1,uV:xu(A,u,A.endpoint),aM:A.trackingParams?g.ee(A.trackingParams):null,pf:u.trackingParams?g.ee(u.trackingParams):null,iD:q&&q.trackingParams?g.ee(q.trackingParams):null,channelId:g.p(A.endpoint,g.dW).browseId,customMessage:A.customText?g.yf(A.customText):null,profileImageUrl:th(A.channelAvatar.thumbnails,290,
290).url,title:A.channelName?g.yf(A.channelName):"",metaInfo:[A.subscriberCountText?g.yf(A.subscriberCountText):""],url:aS({pause_on_navigation:!m.context.videoData.isLivePlayback,target:"new",value:g.p(A.endpoint,g.dW).canonicalBaseUrl?g.p(A.endpoint,g.dW).canonicalBaseUrl:`/channel/${g.p(A.endpoint,g.dW).browseId}`}),onClickCommand:null};oS(m,F)}else if(F.content?.playlistInfoCardContentRenderer){if(!F.cueRanges.length)return;A=F.content?.playlistInfoCardContentRenderer;u=F.teaser.simpleCardTeaserRenderer;
q=F.icon?F.icon.infoCardIconRenderer:null;F={id:L,timestamp:m.L,type:"playlist",teaserText:g.yf(u.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:ED(m,L,F,A),sponsored:!1,uV:xu(A,u,A.action),aM:A.trackingParams?g.ee(A.trackingParams):null,pf:u.trackingParams?g.ee(u.trackingParams):null,iD:q&&q.trackingParams?g.ee(q.trackingParams):null,Nb:th(A.playlistThumbnail.thumbnails,258,290).url,customMessage:A.customMessage?
g.yf(A.customMessage):null,playlistVideoCount:g.yf(A.playlistVideoCount),title:A.playlistTitle?g.yf(A.playlistTitle):"",metaInfo:[A.channelName?g.yf(A.channelName):"",A.videoCountText?g.yf(A.videoCountText):""],url:aS({pause_on_navigation:!m.context.videoData.isLivePlayback,target:"new",value:N6R(A.action)}),onClickCommand:null};oS(m,F)}else if(F.content?.videoInfoCardContentRenderer){if(!F.cueRanges.length)return;A=F.content?.videoInfoCardContentRenderer;u=F.teaser.simpleCardTeaserRenderer;q=F.icon?
F.icon.infoCardIconRenderer:null;F={id:L,timestamp:m.L,type:"video",teaserText:g.yf(u.message),teaserDurationMs:Number(F.cueRanges[0].teaserDurationMs),startMs:Number(F.cueRanges[0].startCardActiveMs),autoOpen:!!F.autoOpen,sessionData:ED(m,L,F,A),sponsored:!1,uV:xu(A,u,A.action),aM:A.trackingParams?g.ee(A.trackingParams):null,pf:u.trackingParams?g.ee(u.trackingParams):null,iD:q&&q.trackingParams?g.ee(q.trackingParams):null,Nb:th(A.videoThumbnail.thumbnails,258,290).url,videoDuration:A.lengthString?
g.yf(A.lengthString):null,customMessage:A.customMessage?g.yf(A.customMessage):null,title:A.videoTitle?g.yf(A.videoTitle):"",metaInfo:[A.channelName?g.yf(A.channelName):"",A.viewCountText?g.yf(A.viewCountText):""],isLiveNow:!!A.badge,url:aS({pause_on_navigation:!m.context.videoData.isLivePlayback,target:"new",value:N6R(A.action)}),onClickCommand:null};oS(m,F)}m.L++},X26=function(m,F){return g.DC(m.cards,L=>L.OL.id===F)},Z3=function(m){g.E(m.Y.getRootNode(),"ytp-cards-shopping-active",tCZ(m))},MU=function(m,
F){if(F=X26(m,F))F===m.X&&(m.X=null),m.Y.removeCueRange(F.OL.id),g.NL(F.V9),g.fc(m.cards,F),m.M0(),Z3(m)},Sx=function(m,F,L){if(!m.G){m.RW.show();
m.JF=new g.d1(()=>{g.Fs(m.context.Y.getRootNode(),g.Om.IV_DRAWER_OPEN)},0);
m.JF.start();m.sR.A(m.B,"mousewheel",q=>{m.Hb.start();q.preventDefault();q=q||window.event;let A=0;q.type=="MozMousePixelScroll"?A=0==(q.axis==q.HORIZONTAL_AXIS)?q.detail:0:window.opera?A=q.detail:A=q.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?q.wheelDeltaY/-30:q.wheelDeltaY/-1.2:q.wheelDelta/-1.6:q.wheelDeltaY/-3;if(q=A)m.B.scrollTop+=q});
m.G=!0;var u=g.z_();u&&m.tF&&m.Z&&g.Ha(u,[m.tF,m.Z]);F={TRIGGER_TYPE:F};for(const q of m.cards)q.Wz||(q.Wz=!0,Eef(m.context.logger,q.OL.uV.u$,F)),u&&g.Ha(u,[q.OL.aM]);Lt(m.Y);L&&(m.j=new g.d1(()=>{m.OR=m.O;m.T0.focus()},330),m.j.start())}},fCR=function(m){g.LA(m.QM(),[g.Om.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.jB(m.Y,m.V,5);m.dw();m.O=g.vr("ytp-cards-button",m.Y.getRootNode());m.T0=g.vr("iv-drawer-close-button",m.V);m.isInitialized=!0},xNc=function(m){m.XN.push(g.Ad("iv-teaser-shown",m.tW,m));
m.XN.push(g.Ad("iv-teaser-hidden",m.zY,m));m.XN.push(g.Ad("iv-teaser-clicked",m.Ou,m));m.XI=!0},p28=function(m,F){m.T=F;
var L=m.Y.getVideoData();if(!L)return!1;L=g.Mm(L);if(L?.markersMap)for(let q=0;L?.markersMap.length>q;q++){var u=L?.markersMap[q];if(u.key==="ERROR_CORRECTION_MARKERS"&&(u=u.value?.markers)&&u.length>0)return F.startMs=g.p(u[0],g.FuD)?.timeRangeStartMillis||0,m.T=null,!0}return!1},KCC=function(m,F){switch(F.type){case "simple":m=m.b9;
var L=F.displayDomain?{U:"div",J:"iv-card-image-text",G0:F.displayDomain}:void 0;var u=aC8(F);L={U:"div",UR:["iv-card"],D:[{U:"a",J:"iv-click-target",C:{href:F.url?F.url.X()||"":""},D:[D3(F.imageUrl,L),{U:"div",J:"iv-card-content",D:[T2("h2",void 0,F.title),u]}]}]};L=new g.H(L);Kt(m,g.yO("iv-click-target",L.element),F,F.url);F=L;break;case "collaborator":m=m.b9;L={U:"div",UR:["iv-card","iv-card-channel"],D:[{U:"a",UR:["iv-click-target"],C:{href:F.url.X()||"","data-ytid":F.channelId},D:[D3(F.profileImageUrl),
{U:"div",J:"iv-card-content",D:[NU(F),{U:"h2",J:"iv-card-primary-link",G0:F.title},pt(F)]}]}]};L=new g.H(L);Kt(m,g.yO("iv-click-target",L.element),F,F.url);F=L;break;case "playlist":m=m.b9;L={U:"div",UR:["iv-card","iv-card-playlist"],D:[{U:"a",J:"iv-click-target",C:{href:F.url.X()||""},D:[D3(F.Nb,{U:"div",J:"iv-card-image-overlay",D:[{U:"span",J:"iv-card-playlist-video-count",G0:F.playlistVideoCount}]}),{U:"div",J:"iv-card-content",D:[NU(F),T2("h2","iv-card-primary-link",F.title),pt(F)]}]}]};L=new g.H(L);
Kt(m,g.yO("iv-click-target",L.element),F,F.url);F=L;break;case "productListing":m=m.b9;var q=F.offers.length!=0;L=["iv-card"];u="";var A=aC8(F);q&&(L.push("iv-card-product-listing"),u="iv-card-primary-link",A=F.offers[0],q=[],A.price&&q.push({U:"div",J:"iv-card-offer-price",G0:A.price}),A.merchant&&q.push({U:"div",J:"iv-card-offer-merchant",G0:A.merchant}),A={U:"div",D:q});q=F.url?F.url.X()||"":"";L={U:"div",UR:L,C:{tabindex:"0"},D:[{U:"a",UR:["iv-card-image","iv-click-target"],C:{style:"background-image: url("+
F.imageUrl+");",href:q,"aria-hidden":"true",tabindex:"-1"}},{U:"div",J:"iv-card-content",D:[F.sponsored?{U:"div",J:"iv-card-sponsored",D:["Sponsored",{U:"div",J:"iv-ad-info-container",D:[{U:"div",J:"iv-ad-info",G0:"{{adInfo}}"},{U:"div",J:"iv-ad-info-icon-container",D:[{U:"div",J:"iv-ad-info-icon"},{U:"div",J:"iv-ad-info-callout"}]}]}]}:"",{U:"a",J:"iv-click-target",C:{href:q},D:[T2("h2",u,F.title),A]}]}]};L=new g.H(L);u=g.z0("span");g.Kk(u,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
L.setContent(u,"adInfo");Kt(m,g.yO("iv-click-target",L.element),F,F.url);F=L;break;case "video":m=m.b9;L=F.isLiveNow?{U:"span",UR:["yt-badge","yt-badge-live"],G0:"LIVE NOW"}:null;L={U:"div",UR:["iv-card","iv-card-video"],D:[{U:"a",J:"iv-click-target",C:{href:F.url?.X()||""},D:[D3(F.Nb,F.videoDuration?{U:"span",J:"iv-card-video-duration",G0:F.videoDuration}:void 0),{U:"div",J:"iv-card-content",D:[NU(F),T2("h2","iv-card-primary-link",F.title),pt(F),L]}]}]};L=new g.H(L);Kt(m,g.yO("iv-click-target",L.element),
F,F.url);F=L;break;default:return null}return F},Zc6=function(m,F){if(!g.mI(m.Y.getRootNode(),"ytp-cards-teaser-shown")){if(m.X!==F){var L=g.z_(),u=m.X?m.X.OL.iD:m.iD;
L&&u&&g.JE(L,[u]);m.X=F;Z3(m)}(L=m.isInitialized&&m.QM().style.display=="none")||(L=m.context.Y.getPlayerState(),u=L===0&&m.context.Y.getCurrentTime()===0,L=!(L===1||L===3||u));L||F.OL.teaserDurationMs&&m.Y.Q3(!0,{teaserText:F.OL.teaserText,durationMs:F.OL.teaserDurationMs,onClickCommand:F.OL.onClickCommand,YA:F.OL.YA??null});m.aW.isActive()||((!m.G||!m.Hb.isActive()&&m.xC)&&MCt(m,F),m.aW.start(910+F.OL.teaserDurationMs))}},tCZ=function(m){return m.X?m.X.OL.type==="productListing":m.Y.N("enable_wn_infocards")?
!!m.cards?.length&&g.Ye(m.cards,F=>F.OL.type==="productListing"):g.Ye(m.cards,F=>F.OL.type==="productListing")},MCt=function(m,F){m.W.Gh?(F=new yW([0,
m.B.scrollTop],[0,F.V9.offsetTop],600,qR6),m.context.G.listen(F,"animate",L=>{m.B.scrollTop=L.y}),m.context.G.listen(F,"finish",L=>{m.B.scrollTop=L.y}),F.play()):(m.W.CI(!0),m.B.scrollTop=F.V9.offsetTop,m.W.CI(!1))},UD=function(m){return m.X&&m.X.OL?m.X.OL:m.cards[0]&&m.cards[0].OL?m.cards[0].OL:null},UNZ=function(m){const F=m.annotation.data;
"start_ms"in F&&"end_ms"in F&&m.addCueRange(Number(F.start_ms),Number(F.end_ms),m.annotation.id,()=>{m.show()},()=>{m.hide()})},ktC=function(m,F){var L=B_G(F).width;
g.Lm(F,L);L=new vG(F,[L,F.offsetTop],[L-L,F.offsetTop],200,uZt);g.Z(m,L);m.context.G.listen(L,"begin",()=>{g.Vr(F,!0)});
L.play()},ku=function(m,F,L){L.stopPropagation();
hmC(m);WCC(m,F);m.X.focus()},Oct=function(m){const F=m.annotation.data;
if(m.annotation.style==="cta")var L=6;else if(m.annotation.style==="video"||m.annotation.style==="playlist")L=7;m.j=F.collapsedelay_ms||m.j;const u=["iv-promo","iv-promo-inactive"];m.QM().setAttribute("aria-hidden","true");m.QM().setAttribute("aria-label","Promotion");m.QM().tabIndex=0;const q=m.annotation.My();let A;var r=F.image_url;r&&(A=m.createElement({U:"div",UR:["iv-promo-img","iv-click-target"]}),r=m.createElement({U:"img",C:{src:r,"aria-hidden":"true"}}),A.appendChild(r),F.video_duration&&
!F.is_live?(r=m.createElement({U:"span",J:"iv-promo-video-duration",G0:F.video_duration}),A.appendChild(r)):F.playlist_length&&(r=m.createElement({U:"span",J:"iv-promo-playlist-length",G0:F.playlist_length.toString()}),A.appendChild(r)),q&&ft(m,A,q,m.annotation.id,F.session_data,void 0,L));q?(r=m.createElement({U:"a",J:"iv-promo-txt"}),g.Fn(r,q.X()),m.X=r):m.X=m.createElement({U:"div",J:"iv-promo-txt"});let y,G,v,l;switch(m.annotation.style){case "cta":case "website":y=m.createElement({U:"p",D:[{U:"strong",
G0:F.text_line_1}]});G=m.createElement({U:"p",D:[{U:"span",J:"iv-promo-link",G0:F.text_line_2}]});if(r=F.text_line_3)u.push("iv-promo-website-card-cta-redesign"),v=m.createElement({U:"button",UR:["iv-promo-round-expand-icon","ytp-button"]}),r=m.createElement({U:"button",UR:["iv-button","iv-promo-button"],D:[{U:"span",J:"iv-button-content",G0:r}]}),l=m.createElement({U:"div",J:"iv-promo-button-container"}),l.appendChild(r),q&&ft(m,m.QM(),q,m.annotation.id,F.session_data,void 0,L);g.Fs(m.X,"iv-click-target");
q&&ft(m,m.X,q,m.annotation.id,F.session_data,void 0,L);break;case "playlist":case "video":y=m.createElement({U:"p",D:[{U:"span",G0:F.text_line_1}]}),G=m.createElement({U:"p",D:[{U:"strong",G0:F.text_line_2}]}),F.is_live&&(y=G,G=m.createElement({U:"span",UR:["yt-badge","iv-promo-badge-live"],G0:"LIVE NOW"})),g.Fs(m.X,"iv-click-target"),q&&ft(m,m.X,q,m.annotation.id,F.session_data,void 0,L),u.push("iv-promo-video")}y&&m.X.appendChild(y);G&&m.X.appendChild(G);m.L.appendChild(m.X);l&&m.L.appendChild(l);
L=m.createElement({U:"div",J:"iv-promo-actions"});m.B=m.createElement({U:"button",UR:["iv-promo-expand","ytp-button"]});m.B.title="Expand";m.context.X.listen(m.B,"click",w=>{ku(m,5E3,w)});
L.appendChild(m.B);g.Vr(m.B,!1);m.context.X.listen(m.QM(),"mouseover",m.Hb,m);m.context.X.listen(m.QM(),"mouseout",m.b9,m);m.context.X.listen(m.QM(),"touchend",w=>{ku(m,5E3,w)});
m.G=m.createElement({U:"button",UR:["iv-promo-close","ytp-button"]});m.G.title="Close";m.context.X.listen(m.G,"click",m.annotation.style==="cta"&&F.text_line_3?m.T:m.XN,m);L.appendChild(m.G);g.LA(m.QM(),u);A&&(g.a2(m.QM(),A),v&&A.appendChild(v));g.a2(m.QM(),m.L);g.a2(m.QM(),L)},hh=function(m){m.V&&(g.On.clearTimeout(m.V),m.V=null)},hmC=function(m){m.O.stop();
m.isCollapsed&&(g.qf(m.QM(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),m.isCollapsed=!1,m.X&&m.X.removeAttribute("aria-hidden"),g.Vr(m.B,!1),g.Vr(m.G,!0))},WCC=function(m,F){m.V||(m.V=g.qc(function(){hh(this);
QG2(this)},F,m))},QG2=function(m){m.isCollapsed||m.Z||m.V||(g.Fs(m.QM(),"iv-promo-collapsed"),m.isCollapsed=!0,m.O.start())},Eef=function(m,F,L){F&&(L?WG(m,F.map(u=>g.Kd(u,L))):WG(m,F))},WG=function(m,F,L,u){let q=1,A=void 0,r=-1;
if(L){let y=!1;A=()=>{q--;q||y||(clearTimeout(r),y=!0,L())};
r=setTimeout(()=>{y=!0;L()},1E3)}for(const y of F||[])q++,g.sM(y,A);
u&&(q++,u!==0&&m.Y.sendVideoStatsEngageEvent(u,A))},sGf=function(m){return m==="annotation-editor"||m==="live-dashboard"},bcC=function(m){m.V&&(m.player.removeEventListener("videodatachange",m.V),m.V=null)},cfG=function(m){m=m.createElement({U:"div",
UR:["annotation","annotation-type-custom"]});g.Vr(m,!1);return m},QW=function(m,F){var L=!1,u=F.getElementsByTagName("annotations");
if(u&&!(u.length<1)&&(u=u[0].getAttribute("itct"))){var q=g.z_();if(q){var A=g.gr();A&&g.lO(g.hE)(void 0,q,A,[g.ee(u)])}}F=F.getElementsByTagName("annotation");for(u=0;u<F.length;u++){var r=dNZ(m,F[u]);q=null;try{a:{if(!r){q=null;break a}var y=r.id;A=/.+/;const I=typeof y==="string"&&A!=null&&y!=null&&y.match(A)?y:"",P=Yu(r.type,neC),N=Yu(r.style,B6Z),x=Rm8(r.data),X=x.length!==0?JSON.parse(x):{};b:{var G=r.action;A=zm6;if(G==null){var v=null;break b}if(g.nM(G)){r=[];for(const t of G){const h=A(t);
h&&r.push(h)}v=r;break b}const M=A(G);v=M?[M]:[]}A=v;q=I&&P?new Hcc(I,P,N,A,X):null}}catch(I){}if(q)if(q.type==="branding"||q.type==="promotion"){A=m;r=q;var l=cfG(A),w=null;switch(r.type){case "branding":if(A.player.K().il)break;A.player.N("web_player_overlay_positioned_layout")?(l.setAttribute("data-overlay-order","11"),A.player.Hd(l,4,!0)):A.B.element.appendChild(l);w=new Jft(l,OD(A),r);break;case "promotion":g.jB(A.player,l,4),w=new CqZ(l,OD(A),r)}w&&w.hF();if(A=w)g.Z(m,A),m.j[q.id]=A}else if(q.type===
"card"||q.type==="drawer"){m.X||(m.X=mTG(m),g.Z(m,m.X));if(q.type==="card"){l=m.X;var V=(L=q)&&L.data&&L.data.card_type;q=L.data;if(V)switch(A=q.tracking||{},A={u$:A.impression,click:A.click,close:A.close,Xn:A.teaser_impression,N_:A.teaser_click},r=q.tracking_params||{},w=null,V){case "collaborator":L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||
!1,uV:A,aM:r.card?g.ee(r.card):null,pf:r.teaser?g.ee(r.teaser):null,iD:r.icon?g.ee(r.icon):null,channelId:q.channel_id,customMessage:q.custom_message?q.custom_message:null,profileImageUrl:q.image_url,title:q.title,metaInfo:q.meta_info,url:aS({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};oS(l,L);break;case "playlist":L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,
autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,uV:A,aM:r.card?g.ee(r.card):null,pf:r.teaser?g.ee(r.teaser):null,iD:r.icon?g.ee(r.icon):null,Nb:q.image_url,playlistVideoCount:q.playlist_video_count,customMessage:q.custom_message?q.custom_message:null,title:q.title,metaInfo:q.meta_info,url:aS({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};oS(l,L);break;case "productListing":q.signin_url&&(w=aS({target:"current",
value:q.signin_url}));V=[];const I=q.offers||[];for(let P=0;P<I.length;P++)V.push(new FSe(g.ao(I[P].merchant),g.ao(I[P].price)));L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,uV:A,aM:r.card?g.ee(r.card):null,pf:r.teaser?g.ee(r.teaser):null,iD:r.icon?g.ee(r.icon):null,imageUrl:q.image_url,displayDomain:q.display_domain?q.display_domain:
null,showLinkIcon:!!q.show_link_icon,oa:q.button_icon_url?q.button_icon_url:null,title:q.title,customMessage:q.custom_message?q.custom_message:null,url:aS({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),v7Y:w,VJ0:q.signin_title?q.signin_title:void 0,HjF:q.signin_message?q.signin_message:void 0,offers:V,onClickCommand:null};oS(l,L);break;case "simple":L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,
startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,uV:A,aM:r.card?g.ee(r.card):null,pf:r.teaser?g.ee(r.teaser):null,iD:r.icon?g.ee(r.icon):null,imageUrl:q.image_url,displayDomain:q.display_domain?q.display_domain:null,showLinkIcon:!!q.show_link_icon,oa:q.button_icon_url?q.button_icon_url:null,title:q.title,customMessage:q.custom_message?q.custom_message:null,url:aS({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null};
oS(l,L);break;case "video":L={id:L.id,timestamp:q.timestamp||0,type:q.card_type,teaserText:q.teaser_text,teaserDurationMs:q.teaser_duration_ms,startMs:q.start_ms,autoOpen:q.auto_open||!1,sessionData:q.session_data||{},sponsored:q.sponsored||!1,uV:A,aM:r.card?g.ee(r.card):null,pf:r.teaser?g.ee(r.teaser):null,iD:r.icon?g.ee(r.icon):null,Nb:q.image_url,videoDuration:q.video_duration||null,customMessage:q.custom_message?q.custom_message:null,title:q.title,metaInfo:q.meta_info,isLiveNow:!!q.is_live_now,
url:aS({pause_on_navigation:q.pause_on_navigation,target:q.target||"new",value:q.url}),onClickCommand:null},oS(l,L)}}else SRc(m.X,q);L=!0}}L&&(Lt(m.player),m.W())},LSC=function(m){const F=m.player.K();
m=m.player.getVideoData();return(F.annotationsLoadPolicy||m.annotationsLoadPolicy)===1&&!m.Dm||F.tF.get(m.videoId)||m.q5()||g.ZJ(m)?!0:!1},ud2=function(m,F){F=!F.isCued()&&!F.X(1024);
m.B.CI(F);m.G.CI(F)},y9c=function(m,F){const L=F.videoId;
var u=A=>{var r=m.loadNumber;m.L=null;m.loaded&&m.loadNumber===r&&m.player.getVideoData().videoId===L&&(A=g.x1(A)&&A.responseXML?A.responseXML:null)&&(QW(m,A),g.Fs(m.player.getRootNode(),"iv-module-loaded"))};
g.DF()&&(u=qpG(m,u));const q={format:"XML",onFinish:u,onError:()=>{m.L=null},
urlParams:{}};F.isPharma&&(q.urlParams.pharma="1");q.method="POST";q.withCredentials=!0;(u=m.player.K().tF.get(L))&&A9C(q,u);u=u&&u.tQ;if(!F.g0||u)m.V=()=>{if(!m.T)m.onVideoDataChange(q);const A=m.player.getVideoData();A?.jU()&&!m.XN&&r9C(m,A)},m.player.addEventListener("videodatachange",m.V)},sD=function(m,F){var L=!1;
m.X||(m.X=mTG(m),g.Z(m,m.X));for(var u of F.cards||[])u.cardRenderer&&(oec(m.X,u.cardRenderer),L=!0);L&&(m.player.getVideoData()?.jU()||(L=m.X,u=F.headerText?g.yf(F.headerText):"",g.Kk(L.SY,u),L.O&&(L.Y.N("player_tooltip_data_title_killswitch")?L.O.setAttribute("title",u):L.O.setAttribute("data-tooltip-title",u)),L.context.videoData.eventId&&(L.eventId=L.context.videoData.eventId),L.tF=F.trackingParams?g.ee(F.trackingParams):null,L.Z=F.closeButton.infoCardIconRenderer.trackingParams?g.ee(F.closeButton.infoCardIconRenderer.trackingParams):
null,L.iD=F.icon.infoCardIconRenderer.trackingParams?g.ee(F.icon.infoCardIconRenderer.trackingParams):null,m.W()),Lt(m.player))},r9C=function(m,F){if(F=F.getWatchNextResponse()?.cards?.cardCollectionRenderer)m.XN=!0,sD(m,F),F.headerText&&m.U7&&(F=g.yf(F.headerText),m.player.N("player_tooltip_data_title_killswitch")?m.U7.setAttribute("title",F):m.U7.setAttribute("data-tooltip-title",F))},qpG=function(m,F){return(...L)=>{m.jY()||m.hF.push(g.EL.Zw(()=>{F(...L)}))}},A9C=function(m,F){m.method="POST";
m.postParams=m.postParams||{};F.tQ&&(m.postParams.ic_coll=F.tQ);F.Yy&&(m.postParams.ic_track=F.Yy)},dNZ=function(m,F){const L={};
for(var u of F.attributes)L[u.name]=u.nodeValue;for(u=0;u<F.childNodes.length;u++){var q=F.childNodes[u];if(g.HN(q)&&q.nodeType==1){var A=void 0;if(L[q.tagName])A=L[q.tagName];else if(q.tagName==="data"){q.childNodes.length>0&&(A=q.childNodes[0].nodeValue,L[q.tagName]=typeof A==="string"?A.trim():A);continue}else A=[],L[q.tagName]=A;q&&q.tagName==="TEXT"?q.childNodes.length===1&&q.childNodes[0].nodeType===3?A.push(q.childNodes[0].nodeValue):A.push(""):q&&A.push(dNZ(m,q))}}return L},OD=function(m){if(!m.Z){const F=
new Gbf(m);
g.Z(m,F);const L=new g.yJ(m);g.Z(m,L);m.Z=new vX8(F,L,m.player.K(),m.player.getVideoData(),m.logger,m.player,m.Ft)}return m.Z},l5C=function(m){const F=m.player.getVideoData();
if(F.St){var L=m.player.K().tF.get(F.videoId);if(L){var u={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:(q,A,r)=>{q=m.loadNumber;A=F.videoId;m.loaded&&m.loadNumber===q&&m.player.getVideoData().videoId===A&&(r=g.x1(r)&&r.responseXML?r.responseXML:null)&&QW(m,r)}};
g.DF()&&(u.onFinish=qpG(m,u.onFinish));u.postParams={ic_only:"1"};A9C(u,L);m.T=!0;g.Ow(F.St,u)}}},mTG=function(m){const F=new g.H({U:"div"});
g.Vr(F.element,!1);const L=new w5C(m.player,F.element,OD(m));g.Z(L,F);F.ER(m.B.element);L.hF();return L},Vqm=function(m,F,L,u,q){if(!m.player.K().il){var A=[];
F.navigationEndpoint&&g.p(F.navigationEndpoint,g.dW)&&g.p(F.navigationEndpoint,g.dW).browseId&&A.push(new geZ("openUrl","click",new emC(`/channel/${g.p(F.navigationEndpoint,g.dW).browseId}`,"new",!0,!0)));var r=F.watermark.thumbnails[0];u={channel_name:F.channelName,end_ms:F.endTimeMs,image_height:r.height,image_type:1,image_url:r.url,image_width:r.width,is_mobile:!1,session_data:{annotation_id:L,ei:q,feature:"iv",itct:F.trackingParams,src_vid:u},start_ms:F.startTimeMs};if(F.subscribeButton&&g.p(F.subscribeButton,
g.rH)){u.channel_id=g.p(F.subscribeButton,g.rH).channelId;F=g.p(F.subscribeButton,g.rH);r=q=null;F.subscribed?(F.subscriberCountWithUnsubscribeText&&(q=g.yf(F.subscriberCountWithUnsubscribeText)),F.subscriberCountText&&(r=g.yf(F.subscriberCountText))):(F.subscriberCountText&&(q=g.yf(F.subscriberCountText)),F.subscriberCountWithSubscribeText&&(r=g.yf(F.subscriberCountWithSubscribeText)));const y=g.p(F.signInEndpoint?.commandMetadata,g.rb)?.url||"";F={subscribeText:g.yf(F.unsubscribedButtonText),subscribeCount:q||
"",unsubscribeText:g.yf(F.subscribedButtonText),unsubscribeCount:r||"",enabled:F.enabled||!1,classic:!1,subscribed:F.subscribed||!1,feature:"iv",signInUrl:y};u.standalone_subscribe_button_data=F}A=new Hcc(L,"branding","branding",A,u);u=cfG(m);m.player.N("web_player_overlay_positioned_layout")?(u.setAttribute("data-overlay-order","11"),m.player.Hd(u,4,!0)):m.B.element.appendChild(u);A=new Jft(u,OD(m),A);A.hF();g.Z(A,A);m.j[L]=A}};
g.H8.prototype.Q3=g.fM(36,function(m,F){const L=g.DS(this.ll());L&&L.Q3(m,F)});
var qU={},Ah=null;g.Gt(yW,g.rd);g.T=yW.prototype;g.T.getDuration=function(){return this.duration};
g.T.play=function(m){if(m||this.X==0)this.progress=0,this.coords=this.B;else if(this.isPlaying())return!1;rw(this);this.startTime=m=g.Af();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.V=this.startTime;this.progress||this.RA();this.C$("play");this.isPaused()&&this.C$("resume");this.X=1;const F=g.CM(this);F in qU||(qU[F]=this);Cy2();mN6(this,m);return!0};
g.T.stop=function(m){rw(this);this.X=0;m&&(this.progress=1);FCN(this,this.progress);this.onStop();this.yn()};
g.T.pause=function(){this.isPlaying()&&(rw(this),this.X=-1,this.C$("pause"))};
g.T.IW=function(){this.X==0||this.stop(!1);this.C$("destroy");yW.Kw.IW.call(this)};
g.T.destroy=function(){this.dispose()};
g.T.tq=function(){this.C$("animate")};
g.T.C$=function(m){this.dispatchEvent(new LCR(m,this))};
g.Gt(LCR,g.rL);g.Gt(G2,yW);G2.prototype.G=function(){};
G2.prototype.tq=function(){this.G();G2.Kw.tq.call(this)};
G2.prototype.yn=function(){this.G();G2.Kw.yn.call(this)};
G2.prototype.RA=function(){this.G();G2.Kw.RA.call(this)};
g.Gt(vG,G2);vG.prototype.G=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};var Gbf=class extends g.qt{constructor(m){super();this.B=m||window;this.X=[]}listen(m,F,L,u){L=(0,g.FZ)(L,u||this.B);m=g.HS(m,F,L);this.X.push(m);return m}j7(m,F,L,u){L=(0,g.FZ)(L,u||this.B);m=HMc(m,F,L);this.X.push(m);return m}xW(m){g.J5(m);g.fc(this.X,m)}removeAll(){g.J5(this.X);this.X.length=0}IW(){this.removeAll();super.IW()}};var eR2=class extends g.gB{constructor(m){super(m);this.V=this.endscreen=null;this.B={};this.j={};this.O=this.G=null;this.Z=[];this.X=null;this.XN=!0;this.L=0;m=m.K();this.W=g.EK(m)||g.Wz(m);this.events=new g.uf(this);g.Z(this,this.events);this.events.A(this.player,g.uz("creatorendscreen"),this.onCueRangeEnter);this.events.A(this.player,g.qq("creatorendscreen"),this.onCueRangeExit);this.events.A(this.player,"resize",this.dY);this.events.A(window,"focus",this.T);this.load();const F=g.z0("STYLE");(g.rj("HEAD")[0]||
document.body).appendChild(F);this.addOnDisposeCallback(()=>{g.NL(F)});
F.sheet&&(F.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),F.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))}load(){super.load();if(!jx(this)){var m=g.wIj(this.player.getVideoData());m?(m=VW(m,rfq(this)),IS(this,m,!1)):lCC(this)}}unload(){IS(this,null);this.V&&(this.V.abort(),this.V=null);super.unload()}Cj(m,F){return jx(this)?m==="loadCustomEndscreenRenderer"?(m=VW(F,"new"),IS(this,m),!0):null:null}getOptions(){return jx(this)?["loadCustomEndscreenRenderer"]:[]}dY(){if(this.endscreen&&this.endscreen.elements){var m=this.player.getVideoContentRect();if(m&&m.width!==0&&m.height!==0){var F=this.player.getPlayerSize();
if(F&&F.width!==0&&F.height!==0){var L=m.width/m.height;var u=0;var q=-1;for(var A=0;A<jWC.length;A++){var r=Math.abs(F.width-jWC[A]);if(q===-1||u>=r)q=A,u=r}u=I5e[q];this.G&&g.nk(this.G.element,"outline-width",Math.max(F.width,F.height)+"px");for(F=0;F<this.endscreen.elements.length;++F){A=this.endscreen.elements[F].id;q=this.B[A];r=this.j[A];if(!q||!r)continue;const G=r.width*L/r.aspectRatio;var y=Math.round(r.width*m.width);A=Math.round(G*m.height);const v=m.left+Math.round(r.left*m.width),l=m.top+
Math.round(r.top*m.height);g.lC(q.element,y,A);g.Lm(q.element,v,l);g.qf(q.element,RR6);y>256||A>256?g.Fs(q.element,"ytp-ce-large-round"):y>96||A>96?g.Fs(q.element,"ytp-ce-medium-round"):g.Fs(q.element,"ytp-ce-small-round");g.qf(q.element,$Tt);y=r.left+r.width/2;r=r.top+G/2;g.Fs(q.element,y<=.5&&r<=.5?"ytp-ce-top-left-quad":y>.5&&r<=.5?"ytp-ce-top-right-quad":y<=.5&&r>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.qf(q.element,I5e);g.Fs(q.element,u);(q=g.G0(document,"div","ytp-ce-expanding-overlay-body",
q.element)[0])&&g.nk(q,"height",`${A}px`)}}}}}onCueRangeEnter(m){if(this.endscreen)if(m.getId()==="ytp-ce-in-endscreen")gw(this,this.endscreen.impressionUrls),(m=g.z_())&&this.endscreen.visualElement&&g.Ba(m,this.endscreen.visualElement),this.X&&(g.Fs(this.X,"ytp-ce-element-show"),this.X.removeAttribute("aria-hidden"),this.player.qJ()?g.Fs(this.X,"ytp-ce-hide-button-lower"):g.ue(this.X,"ytp-ce-hide-button-lower"));else{m=m.getId().substring(15);var F=this.B[m],L=this.j[m];g.Fs(F.element,"ytp-ce-element-show");
F.element.removeAttribute("aria-hidden");F=this.player.getRootNode();g.Fs(F,"ytp-ce-shown");gw(this,L.impressionUrls);(F=g.z_())&&g.Ba(F,L.visualElement);this.player.K().Z&&g.sP(this.player,"endscreenelementshown",m)}}onCueRangeExit(m){if(m.getId()==="ytp-ce-in-endscreen")this.X&&(g.ue(this.X,"ytp-ce-element-show"),this.X.setAttribute("aria-hidden","true"));else{m=m.getId().substring(15);var F=this.B[m];g.ue(F.element,"ytp-ce-element-show");F.element.setAttribute("aria-hidden","true");F=this.player.getRootNode();
g.ue(F,"ytp-ce-shown");this.player.K().Z&&g.sP(this.player,"endscreenelementhidden",m)}}T(m){m.target===window&&(new g.d1(()=>{for(const F of Object.values(this.B))g.qf(F.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()}CI(m){for(const F of Object.values(this.B))m?F.element.setAttribute("hidden",""):F.element.removeAttribute("hidden")}Tl(m){this.X&&this.player.getRootNode().removeChild(this.X);
m&&(g.Fs(m,"ytp-ce-hide-button-container"),this.X=m,g.jB(this.player,this.X,4))}},jWC=[346,426,470,506,570,640,853,1280,1920],I5e="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),$Tt=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],RR6=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var emC=class{constructor(m,F,L,u){this.value=m;this.target=F;this.showLinkIcon=L;this.B=u}X(){return this.value?this.value:null}},$N8={g7:"current",BE:"new"};var geZ=class{constructor(m,F,L){this.type=m;this.trigger=F;this.url=L}},PqZ={CLOSE:"close",QH:"openUrl",SUBSCRIBE:"subscribe"},ic6={w7:"click",CLOSE:"close",Ma:"hidden",jWP:"rollOut",N8b:"rollOver",cFb:"shown"};var Hcc=class{constructor(m,F,L,u,q){this.id=m;this.type=F;this.style=L;this.data=q;this.action=u||[]}My(){const m=YRR(this,F=>F.type==="openUrl"&&F.url!=null);
return m?m.url:null}},B6Z={C9:"anchored",t0:"branding",CHANNEL:"channel",Sh:"cta",tU:"highlightText",VA:"label",PLAYLIST:"playlist",POPUP:"popup",m0z:"speech",SUBSCRIBE:"subscribe",Gh0:"title",VIDEO:"video",fcu:"website"},neC={t0:"branding",EV:"card",l7:"drawer",Qt:"highlight",iH:"marker",DU:"promotion",TEXT:"text",xmC:"widget"};var PBC=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
i0t=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];var gXC=class{constructor(m,F){this.context=m;this.X=F}};var FSe=class{constructor(m,F){this.merchant=m;this.price=F}};var zRe=class extends g.qt{constructor(m,F){super();this.element=m;this.context=F;this.Pb=!1;this.FN=new Map;this.Cu=new Map;this.context.Y.addEventListener(g.uz("annotations_module"),L=>{(L=this.FN.get(L))&&L.apply(this)});
this.context.Y.addEventListener(g.qq("annotations_module"),L=>{(L=this.Cu.get(L))&&L.apply(this)})}addCueRange(m,F,L,u,q){m=new g.Du(m,F,{id:L,
namespace:"annotations_module"});u&&this.FN.set(m,u);q&&this.Cu.set(m,q);this.context.Y.dF([m],1)}hF(){this.context.B.subscribe("resize",this.M0,this)}QM(){return this.element}i9(m,F,L,u,q,A){if(this.Pb)return!1;A&&(A.stopPropagation(),A.preventDefault());this.navigate(m,L,u,q);return!1}show(){}hide(){}destroy(){g.NL(this.QM())}M0(){}navigate(m,F,L,u){const q=m.X();if(q){var A=T6C(q,m.target),r=()=>{m.B&&this.context.Y.pauseVideo();const y=this.context.videoData.dJ||!1,G=g.$1(q||"");y&&G&&(G.v||G.list)?
this.context.Y.JO(G.v,F,G.list,!1):g.HF(q||"",A==="current"?"_top":void 0,F)};
A==="new"&&(r(),r=null);WG(this.context.logger,L,r,u);DNC(q)||(L=g.z_(),u=F.itct,L&&u&&g.CV(L,g.ee(u)))}}IW(){this.FN.clear();this.Cu.clear();super.IW()}createElement(m){m=new g.H(m);g.Z(this,m);return m.element}};var w5C=class extends zRe{constructor(m,F,L){super(F,L);this.Y=m;this.eventId=null;this.XI=this.xC=this.j0=this.G=this.isInitialized=!1;this.cards=[];this.T0=this.O=this.OR=this.j=this.JF=this.X=null;this.XN=[];this.T=this.Z=this.iD=this.tF=null;this.L=0;this.Hb=new g.d1(()=>{},L.S.x5?4E3:3E3);
g.Z(this,this.Hb);this.aW=new g.d1(()=>{});
g.Z(this,this.aW);this.b9=new gXC(L,(u,q,A,r,y,G)=>{ft(this,u,q,A,r,y,G)});
this.W=new g.H({U:"div",J:"iv-drawer",C:{id:"iv-drawer"},D:[{U:"div",J:"iv-drawer-header",C:{"aria-role":"heading"},D:[{U:"span",J:"iv-drawer-header-text"},{U:"button",UR:["iv-drawer-close-button","ytp-button"],C:{"aria-label":"Hide cards",tabindex:"0"}}]},{U:"div",J:"iv-drawer-content"}]});g.Z(this,this.W);this.V=this.W.element;this.RW=new g.NX(this.W,330);g.Z(this,this.RW);this.SY=g.vr("iv-drawer-header-text",this.V);this.B=g.vr("iv-drawer-content",this.V);this.addCueRange(0,L.videoData.lengthSeconds*
1E3,"",()=>{this.j0&&Sx(this,"YOUTUBE_DRAWER_AUTO_OPEN")},()=>{(this.j0=this.G)&&XL(this)});
this.sR=new g.uf(this);g.Z(this,this.sR);this.Y.addEventListener("videodatachange",this.Gq.bind(this))}Gq(){this.T&&oS(this,this.T)}isAvailable(){var m;if(m=!!this.cards.length)(m=this.Y.getRootNode())?(m=g.w$(m),m=173<m.width&&173<m.height):m=!1;return m}M0(){const m=this.isAvailable();g.Vr(this.QM(),m);g.E(this.context.Y.getRootNode(),g.Om.IV_DRAWER_ENABLED,m);Lt(this.Y)}destroy(){this.Y.Q3(!1);try{this.Y.getRootNode().removeChild(this.V)}catch(m){}g.rO(this.XN);g.u$(this.sR);this.JF&&this.JF.dispose();
this.j&&this.j.dispose();super.destroy()}dw(){this.context.X.listen(g.vr("iv-drawer-close-button",this.V),"click",this.FI,this);this.context.X.listen(this.B,"touchend",()=>{this.Hb.start()});
this.context.X.listen(this.B,"scroll",this.il,this);this.context.B.subscribe("onHideControls",()=>{this.xC=!0});
this.context.B.subscribe("onShowControls",()=>{this.xC=!1});
this.context.B.subscribe("onVideoAreaChange",()=>{this.xC=g.mI(this.Y.getRootNode(),"ytp-autohide")});
this.XN.push(g.Ad("iv-button-shown",this.WR,this));this.XN.push(g.Ad("iv-button-hidden",this.Dc,this));xNc(this)}findLastIndex(m){if(this.cards.length===0)return 0;const F=g.Tt(this.cards,L=>m.OL.startMs>L.OL.startMs||m.OL.startMs===L.OL.startMs&&m.OL.timestamp>=L.OL.timestamp?!0:!1);
return F===-1?0:F+1}FI(){if(this.G){WG(this.context.logger,UD(this).uV.close);var m=g.z_();m&&this.Z&&g.CV(m,this.Z);XL(this)}}il(){g.E(this.V,"iv-drawer-scrolled",this.B.scrollTop>0)}WR(){const m=g.z_();var F=UD(this);F=F?F.iD:this.iD;m&&F&&g.Ha(m,[F])}Dc(){const m=g.z_();var F=UD(this);F=F?F.iD:this.iD;m&&F&&g.JE(m,[F])}tW(){const m=UD(this);WG(this.context.logger,m.uV.Xn);const F=g.z_();if(F&&m)if(this.Y.N("web_infocards_teaser_show_logging_fix")){const L=[];m.pf&&L.push(m.pf);m.iD&&L.push(m.iD);
L.length>0&&g.Ha(F,L)}else g.Ha(F,[m.pf,m.iD])}zY(){const m=g.z_(),F=UD(this);m&&F&&g.JE(m,[F.pf])}Ou(m){const F=UD(this),L=g.z_();this.X?m?(m=this.context.logger,WG(m,F.uV.N_),m.Y.sendVideoStatsEngageEvent(4,void 0),L&&F.pf&&g.CV(L,F.pf)):(m=this.context.logger,WG(m,F.uV.N_),m.Y.sendVideoStatsEngageEvent(4,void 0),L&&F.iD&&g.CV(L,F.iD)):(m=this.context.logger,WG(m,F.uV.N_),m.Y.sendVideoStatsEngageEvent(4,void 0),L&&this.iD&&g.CV(L,this.iD))}};var YpR=class extends zRe{constructor(m,F,L){super(m,F);this.annotation=L;this.isActive=!1}hF(){super.hF();UNZ(this)}show(){super.show();const m=g.z_();var F=this.annotation.data;m&&F&&(F=F.session_data)&&g.Ha(m,[g.ee(F.itct)])}hide(){super.hide();const m=g.z_();var F=this.annotation.data;m&&F&&(F=F.session_data)&&g.JE(m,[g.ee(F.itct)])}};var Jft=class extends YpR{constructor(m,F,L){super(m,F,L);this.X=null;this.G=!1;this.B=null}show(){if(!this.isActive){super.show();if(!this.G){g.Fs(this.QM(),"iv-branding");const m=this.annotation.data;this.X=this.createElement({U:"img",UR:["branding-img","iv-click-target"],C:{"aria-label":"Channel watermark",src:m.image_url,width:m.image_width,height:m.image_height}});g.Vr(this.X,!1);const F=this.createElement({U:"button",UR:["branding-img-container","ytp-button"]});F.appendChild(this.X);this.QM().appendChild(F);
const L=this.annotation.My();L&&ft(this,F,L,this.annotation.id,m.session_data);this.G=!0}g.Vr(this.QM(),!0);this.isActive=!0;if(this.X){try{ktC(this,this.X)}catch{}g.Fs(this.context.Y.getRootNode(),"ytp-branding-shown");this.context.Y.getRootNode().style.setProperty("--branding-image-width",`${this.X.getAttribute("width")}px`)}}}hide(){this.isActive&&(super.hide(),g.Vr(this.QM(),!1),this.isActive=!1,g.ue(this.context.Y.getRootNode(),"ytp-branding-shown"))}destroy(){this.B&&(this.B.dispose(),this.B=
null);g.ue(this.context.Y.getRootNode(),"ytp-branding-shown");super.destroy()}};var vX8=class{constructor(m,F,L,u,q,A,r){this.X=m;this.G=F;this.S=L;this.videoData=u;this.logger=q;this.Y=A;this.B=r}};var CqZ=class extends YpR{constructor(m,F,L){super(m,F,L);this.Z=this.isCollapsed=this.W=!1;this.j=5E3;this.B=this.G=this.X=this.V=null;this.L=this.createElement({U:"div",UR:["iv-promo-contents"]});this.O=new g.d1(()=>{this.X.setAttribute("aria-hidden","true");g.Vr(this.G,!1);g.Vr(this.B,!0)},700,this);
g.Z(this,this.O)}show(){this.isActive||(super.show(),this.W||(Oct(this),this.W=!0),g.Vr(this.QM(),!0),g.qc(function(){g.ue(this.QM(),"iv-promo-inactive")},100,this),this.QM().removeAttribute("aria-hidden"),this.isActive=!0,hh(this),hmC(this),WCC(this,this.j))}hide(){this.isActive&&(g.Fs(this.QM(),"iv-promo-inactive"),this.isActive=!1,this.QM().setAttribute("aria-hidden","true"))}i9(m,F,L,u,q,A){return this.isCollapsed?!1:super.i9(m,F,L,u,q,A)}Hb(m){this.Z=!0;
ku(this,500,m)}b9(){this.Z=!1;QG2(this)}XN(m){m.stopPropagation();this.hide()}T(m){m.stopPropagation();hh(this);this.isCollapsed=!0;g.Fs(this.QM(),"iv-promo-collapsed-no-delay");this.O.start()}destroy(){this.O.dispose();super.destroy()}};var a56=class{constructor(m){this.Y=m}};g.PC("annotations_module",class extends g.gB{constructor(m){super(m);this.XN=this.T=!1;this.loadNumber=0;this.j={};this.logger=new a56(this.player);this.O=new g.uf(this);this.L=this.V=null;this.events=new g.uf(this);this.U7=this.Z=this.X=null;this.hF=[];g.Z(this,this.O);this.O.A(this.player,"onVideoAreaChange",()=>{this.publish("onVideoAreaChange")});
this.O.A(this.player,"onHideControls",()=>{this.publish("onHideControls")});
this.O.A(this.player,"onShowControls",()=>{this.publish("onShowControls")});
this.O.A(this.player,"resize",L=>{this.publish("resize",L)});
this.O.A(this.player,"presentingplayerstatechange",L=>{this.publish("presentingplayerstatechange",L)});
this.subscribe("presentingplayerstatechange",this.Hb,this);this.subscribe("resize",this.W,this);this.player.K().tF.subscribe("vast_info_card_add",this.b9,this);g.Z(this,this.events);this.M0=this.createElement({U:"div",J:"video-custom-annotations"});this.B=new g.H({U:"div",UR:["ytp-player-content","ytp-iv-player-content"]});g.Z(this,this.B);g.jB(this.player,this.B.element,4);this.B.hide();this.G=new g.H({U:"div",UR:["ytp-iv-video-content"]});g.Z(this,this.G);m=this.createElement({U:"div",J:"video-annotations"});
m.appendChild(this.M0);this.G.element.appendChild(m);this.ou()?this.load():this.player.N("web_fix_annotations")&&(this.V=()=>{this.loaded||this.jY()||!this.ou()||(bcC(this),this.load())},this.player.addEventListener("videodatachange",this.V));
const F=this.createElement({U:"style"});(g.rj("HEAD")[0]||document.body).appendChild(F);this.addOnDisposeCallback(()=>{g.NL(F)});
if(m=F.sheet){for(const L of PBC)m.insertRule(L,0);for(const L of i0t)m.insertRule(L,0)}}Cj(m,F){if(!sGf(this.player.K().playerStyle))return null;switch(m){case "loadCustomAnnotationsXml":return(m=g.uD(F))&&QW(this,m),!0;case "removeCustomAnnotationById":return F&&this.X&&(MU(this.X,F),Lt(this.player)),!0}return null}getOptions(){return sGf(this.player.K().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]}ou(){const m=this.player.getVideoData(),F=m.getWatchNextResponse()?.playerOverlays?.playerOverlayRenderer;
return m.dJ||this.player.isMutedByEmbedsMutedAutoplay()?!1:this.player.N("web_fix_annotations")?LSC(this)?F?.isWatermarkEnforced===!0?!0:F?.isAnnotationsEnabled??!1:!1:LSC(this)}W(){if(this.G){var m=this.player.mP().getVideoContentRect(!0);g.lC(this.G.element,m.width,m.height);g.Lm(this.G.element,m.left,m.top)}if(this.X){var F=this.player.BM();m=this.X;F=F.width;g.E(m.V,"iv-drawer-small",F<=426);g.E(m.V,"iv-drawer-big",F>=1280)}}Hb(m){ud2(this,m.state);m.state.X(2)&&(this.qJ()&&this.fT()&&this.player.getPresentingPlayerType()!==
2&&this.EX(!1),this.Q3(!1))}load(){super.load();ud2(this,this.player.getPlayerStateObject());this.loadNumber++;const m=this.player.getVideoData();y9c(this,m);g.jB(this.player,this.G.element,4);this.W();var F=g.ZJ(m);const L=m.q5();if(this.player.N("web_fix_annotations")){if(F&&(F.featuredChannel&&Vqm(this,F.featuredChannel,F.annotationId||"branding",m.videoId||null,m.eventId||null),F=this.player.getVideoData().getWatchNextResponse()?.playerOverlays?.playerOverlayRenderer,F?.isWatermarkEnforced&&!F?.isAnnotationsEnabled))return;
L&&sD(this,L)}else L&&sD(this,L),F&&F.featuredChannel&&Vqm(this,F.featuredChannel,F.annotationId||"branding",m.videoId||null,m.eventId||null);this.U7=g.vr("ytp-cards-button",this.player.getRootNode());m.jU()&&r9C(this,m)}onVideoDataChange(){}unload(){this.player.Ow("annotations_module");for(const m of Object.keys(this.j))this.j[m].destroy();this.Z=null;this.X&&(this.X.destroy(),this.X=null,Lt(this.player));this.T=!1;this.L&&(this.L.abort(),this.L=null);this.XN=!1;this.j={};this.B.hide();super.unload();
this.G.detach();bcC(this)}b9(m){m===this.player.getVideoData().videoId&&(this.loaded?l5C(this):this.load())}qJ(){return this.X?.isAvailable()||this.XN}fT(){return!!this.X&&this.X.G}EX(m,F=!1,L){this.qJ();this.X&&(m?L?Sx(this.X,L,F):Sx(this.X,"YOUTUBE_DRAWER_AUTO_OPEN",F):XL(this.X))}Q3(m,F){this.player.publish(m?"cardsteasershow":"cardsteaserhide",F)}IW(){this.player.K().tF.unsubscribe("vast_info_card_add",this.b9,this);g.ue(this.player.getRootNode(),g.Om.IV_DRAWER_OPEN);var m=this.hF,F=g.EL;for(let L=
0,u=m.length;L<u;L++)F.yL(m[L]);this.hF.length=0;super.IW()}createElement(m){m=new g.H(m);g.Z(this,m);return m.element}});g.PC("creatorendscreen",eR2);})(_yt_player);
