(function(g){var window=this;'use strict';var BZZ=function(m,F){return g.Fd(m,F)},H1G=function(m){if(m instanceof g.aO)return m;
if(typeof m.fn=="function")return m.fn(!1);if(g.nM(m)){let F=0;const L=new g.aO;L.next=function(){for(;;){if(F>=m.length)return g.SU;if(F in m)return g.DT(m[F++]);F++}};
return L}throw Error("Not implemented");},J7N=function(m,F,L){if(g.nM(m))g.eC(m,F,L);
else for(m=H1G(m);;){const {done:u,value:q}=m.next();if(u)break;F.call(L,q,void 0,m)}},uP=function(m){g.m1(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.Af()).toString(36));
return m},qp=function(m,F,L){Array.isArray(L)||(L=[String(L)]);
g.qk(m.V,F,L)},CAt=function(m,F){const L=[];
J7N(F,function(u){let q;try{q=g.SI.prototype.qn.call(this,u,!0)}catch(A){if(A=="Storage: Invalid value was encountered")return;throw A;}q===void 0?L.push(u):g.ZP(q)&&L.push(u)},m);
return L},mBt=function(m,F){CAt(m,F).forEach(function(L){g.SI.prototype.remove.call(this,L)},m)},F3t=function(m){if(m.XI){if(m.XI.locationOverrideToken)return{locationOverrideToken:m.XI.locationOverrideToken};
if(m.XI.latitudeE7!=null&&m.XI.longitudeE7!=null)return{latitudeE7:m.XI.latitudeE7,longitudeE7:m.XI.longitudeE7}}return null},L3q=function(m,F){g.NN(m,F)||m.push(F)},A6=function(m){let F=0;
for(const L in m)F++;return F},uJ6=function(m){try{return g.On.JSON.parse(m)}catch(F){}m=String(m);
if(/^\s*$/.test(m)?0:/^[\],:{}\s\u2028\u2029]*$/.test(m.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+m+")")}catch(F){}throw Error("Invalid JSON string: "+m);},rP=function(m){if(g.On.JSON)try{return g.On.JSON.parse(m)}catch(F){}return uJ6(m)},q6q=function(m,F,L,u){const q=new g.bT(null);
m&&g.cq(q,m);F&&g.dm(q,F);L&&g.n3(q,L);u&&(q.B=u);return q},Ap8=function(m,F){return new g.Efn(m,F)},yS=function(m,F){return Object.prototype.hasOwnProperty.call(m,F)},rpc=function(m,F){return m===F},Gq=function(m,F){this.B={};
this.X=[];this.y7=this.size=0;var L=arguments.length;if(L>1){if(L%2)throw Error("Uneven number of arguments");for(var u=0;u<L;u+=2)this.set(arguments[u],arguments[u+1])}else if(m)if(m instanceof Gq)for(L=m.z7(),u=0;u<L.length;u++)this.set(L[u],m.get(L[u]));else for(u in m)this.set(u,m[u])},vi=function(m){if(m.size!=m.X.length){for(var F=0,L=0;F<m.X.length;){var u=m.X[F];
yS(m.B,u)&&(m.X[L++]=u);F++}m.X.length=L}if(m.size!=m.X.length){F={};for(u=L=0;L<m.X.length;){const q=m.X[L];yS(F,q)||(m.X[u++]=q,F[q]=1);L++}m.X.length=u}},lP=function(m){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new Gq;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";m&&(this.id=m.id||m.name,this.name=m.name,this.clientName=m.clientName?m.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=m.app,this.type=m.type||"REMOTE_CONTROL",this.username=m.user||"",this.avatar=m.userAvatarUri||"",this.obfuscatedGaiaId=m.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=m.ownerObfuscatedGaiaId||"",this.theme=m.theme||"u",ypt(this,m.capabilities||""),GGq(this,m.compatibleSenderThemes||""),vDC(this,m.experiments||""),this.brand=m.brand||"",this.model=m.model||"",this.year=m.year||0,this.os=m.os||"",this.osVersion=m.osVersion||"",this.chipset=m.chipset||"",this.mdxDialServerType=m.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",m=m.deviceInfo)&&(m=JSON.parse(m),this.brand=m.brand||"",this.model=m.model||"",this.year=m.year||0,this.os=m.os||"",this.osVersion=m.osVersion||"",this.chipset=m.chipset||"",this.clientName=m.clientName?m.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=m.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},ypt=function(m,F){m.capabilities.clear();
g.P2(F.split(","),g.qN(BZZ,lDq)).forEach(L=>{m.capabilities.add(L)})},GGq=function(m,F){m.compatibleSenderThemes.clear();
g.P2(F.split(","),g.qN(BZZ,wMC)).forEach(L=>{m.compatibleSenderThemes.add(L)})},vDC=function(m,F){m.experiments.clear();
F.split(",").forEach(L=>{m.experiments.add(L)})},wP=function(m){m=m||{};
this.name=m.name||"";this.id=m.id||m.screenId||"";this.token=m.token||m.loungeToken||"";this.uuid=m.uuid||m.dialId||"";this.idType=m.screenIdType||"normal";this.secret=m.screenIdSecret||""},VS=function(m,F){return!!F&&(m.id==F||m.uuid==F)},VO6=function(m){return{name:m.name,
screenId:m.id,loungeToken:m.token,dialId:m.uuid,screenIdType:m.idType,screenIdSecret:m.secret}},jmZ=function(m){return new wP(m)},IDZ=function(m){return Array.isArray(m)?g.iq(m,jmZ):[]},j8=function(m){return m?`{name:"${m.name}",id:${m.id.substr(0,6)}..,token:${m.token?".."+m.token.slice(-6):"-"},uuid:${m.uuid?".."+m.uuid.slice(-6):"-"},idType:${m.idType},secret:${m.secret?".."+m.secret.slice(-6):"-"}}`:"null"},I_=function(m){return Array.isArray(m)?"["+g.iq(m,j8).join(",")+"]":"null"},R_=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(m){const F=Math.random()*16|0;
return(m=="x"?F:F&3|8).toString(16)})},RVC=function(m){return g.iq(m,function(F){return{key:F.id,
name:F.name}})},$m=function(m,F){return g.DC(m,function(L){return L||F?!L!=!F?!1:L.id==F.id:!0})},e8=function(m,F){return g.DC(m,function(L){return VS(L,F)})},$Bf=function(){const m=g.qA.wE();
m&&mBt(m,m.Xy.fn(!0))},Pi=function(){const m=g.rc("yt-remote-connected-devices")||[];
g.W2(m);return m},eVC=function(m){if(m.length==0)return[];
const F=m[0].indexOf("#"),L=F==-1?m[0]:m[0].substring(0,F);return g.iq(m,function(u,q){return q==0?u:u.substring(L.length)})},Prf=function(m){g.AW("yt-remote-connected-devices",m,86400)},gP=function(){if(iP)return iP;
let m=g.rc("yt-remote-device-id");m||(m=R_(),g.AW("yt-remote-device-id",m,31536E3));const F=Pi();let L=1,u=m;for(;g.NN(F,u);)L++,u=m+"#"+L;return iP=u},zq=function(){let m=Pi();
const F=gP();g.Gk()&&g.Q8(m,F);m=eVC(m);if(m.length==0)try{g.rt("remote_sid")}catch(L){}else try{g.qC("remote_sid",m.join(","),-1)}catch(L){}},iFC=function(){return g.rc("yt-remote-session-browser-channel")},gDq=function(){return g.rc("yt-remote-local-screens")||[]},zVN=function(){g.AW("yt-remote-lounge-token-expiration",!0,86400)},Y6e=function(m){m.length>5&&(m=m.slice(m.length-5));
const F=g.iq(gDq(),function(u){return u.loungeToken}),L=g.iq(m,function(u){return u.loungeToken});
g.Ye(L,function(u){return!g.NN(F,u)})&&zVN();
g.AW("yt-remote-local-screens",m,31536E3)},Ym=function(m){m||(g.yC("yt-remote-session-screen-id"),g.yC("yt-remote-session-video-id"));
zq();m=Pi();g.fc(m,gP());Prf(m)},aDC=function(){if(!a_){const m=g.h$();
m&&(a_=new g.pA(m))}},DBN=function(){aDC();
return a_?!!a_.get("yt-remote-use-staging-server"):!1},D_=function(m,F){g.uV[m]=!0;
const L=g.Fk();L&&L.publish.apply(L,arguments);g.uV[m]=!1},Tq=function(){let m=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return m?parseInt(m[1],10):0},Tie=function(m){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+m)!=-1||document.currentScript.src.indexOf("&"+m)!=-1)},NiC=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},Np=function(m){m.length?pMq(m.shift(),function(){Np(m)}):pO()},pO=function(){let m=NiC();
m&&m(!1,"No cast extension found")},pMq=function(m,F,L){let u=document.createElement("script");
u.onerror=F;L&&(u.onload=L);g.jR(u,g.Fm(m));(document.head||document.documentElement).appendChild(u)},K3C=function(m){return"chrome-extension://"+m+"/cast_sender.js"},fDR=function(){const m=Tq(),F=[];
if(m>1){const L=m-1;F.push("//www.gstatic.com/eureka/clank/"+m+"/cast_sender.js");F.push("//www.gstatic.com/eureka/clank/"+L+"/cast_sender.js")}return F},KO=function(){if(xBZ){var m=2,F=NiC(),L=function(){m--;
m==0&&F&&F(!0)};
window.__onGCastApiAvailable=L;pMq("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",pO,L)}},MON=function(){KO();
let m=fDR();m.push("//www.gstatic.com/eureka/clank/cast_sender.js");Np(m)},S6C=function(){KO();
let m=fDR();m.push(...ZFc.map(K3C));m.push("//www.gstatic.com/eureka/clank/cast_sender.js");Np(m)},fO=function(m,F,L){g.qt.call(this);
this.j=L!=null?(0,g.FZ)(m,L):m;this.CY=F;this.O=(0,g.FZ)(this.A0,this);this.X=!1;this.B=0;this.G=this.KA=null;this.V=[]},xm=function(){this.X=g.Af()},oDt=function(){Mp||(Mp=new xm)},XMf=function(){Mp||(Mp=new xm)},Z_=function(){g.rL.call(this,"p")},S8=function(){g.rL.call(this,"o")},o_=function(){return tO2=tO2||new g.NK},ED8=function(m){g.rL.call(this,"serverreachability",m)},X8=function(m){const F=o_();
F.dispatchEvent(new ED8(F,m))},UBt=function(m){g.rL.call(this,"statevent",m)},t6=function(m){const F=o_();
F.dispatchEvent(new UBt(F,m))},kGZ=function(m,F,L,u){g.rL.call(this,"timingevent",m);
this.size=F;this.rtt=L;this.retries=u},EH=function(m,F){if(typeof m!=="function")throw Error("Fn must not be null and must be a function");
return g.On.setTimeout(function(){m()},F)},UH=function(){},km=function(m,F,L,u){this.G=m;
this.V=F;this.XI=L;this.SY=u||1;this.RW=new g.yJ(this);this.FN=45E3;this.tF=null;this.j=!1;this.W=this.JF=this.Z=this.OR=this.hF=this.Cu=this.XN=null;this.T=[];this.X=null;this.L=0;this.O=this.b9=null;this.aW=-1;this.M0=!1;this.i9=0;this.sR=null;this.T0=this.xC=this.Pb=this.Hb=!1;this.B=new hVG},hVG=function(){this.G=null;
this.X="";this.B=!1},h6=function(m,F,L){m.OR=1;
m.Z=uP(F.clone());m.W=L;m.Hb=!0;W32(m,null)},W32=function(m,F){m.hF=Date.now();
Wi(m);m.JF=m.Z.clone();qp(m.JF,"t",m.SY);m.L=0;const L=m.G.xC;m.B=new hVG;m.X=OFG(m.G,L?F:null,!m.W);m.i9>0&&(m.sR=new g.FX((0,g.FZ)(m.hE,m,m.X),m.i9));m.RW.listen(m.X,"readystatechange",m.CF);F=m.tF?g.Gb(m.tF):{};m.W?(m.b9||(m.b9="POST"),F["Content-Type"]="application/x-www-form-urlencoded",m.X.send(m.JF,m.b9,m.W,F)):(m.b9="GET",m.X.send(m.JF,m.b9,null,F));X8(1)},smq=function(m){if(!Qmm(m))return g.X7(m.X);
const F=g.tR(m.X);if(F==="")return"";let L="";const u=F.length,q=g.Zl(m.X)==4;if(!m.B.G){if(typeof TextDecoder==="undefined")return OH(m),QS(m),"";m.B.G=new g.On.TextDecoder}for(let A=0;A<u;A++)m.B.B=!0,L+=m.B.G.decode(F[A],{stream:!(q&&A==u-1)});F.length=0;m.B.X+=L;m.L=0;return m.B.X},Qmm=function(m){return m.X?m.b9=="GET"&&m.OR!=2&&m.G.ev:!1},cpc=function(m,F){var L=m.L,u=F.indexOf("\n",L);
if(u==-1)return sH;L=Number(F.substring(L,u));if(isNaN(L))return bF8;u+=1;if(u+L>F.length)return sH;F=F.slice(u,u+L);m.L=u+L;return F},Wi=function(m){m.Cu=Date.now()+m.FN;
dBZ(m,m.FN)},dBZ=function(m,F){if(m.XN!=null)throw Error("WatchDog timer not null");
m.XN=EH((0,g.FZ)(m.KF,m),F)},bP=function(m){m.XN&&(g.On.clearTimeout(m.XN),m.XN=null)},QS=function(m){m.G.Nw()||m.M0||nD8(m.G,m)},OH=function(m){bP(m);
g.Lx(m.sR);m.sR=null;m.RW.removeAll();if(m.X){const F=m.X;m.X=null;F.abort();F.dispose()}},FI=function(m,F){try{var L=m.G;
if(L.o9!=0&&(L.X==m||ci(L.B,m)))if(!m.xC&&ci(L.B,m)&&L.o9==3){try{var u=L.Ft.X.parse(F)}catch(v){u=null}if(Array.isArray(u)&&u.length==3){var q=u;if(q[0]==0)a:{if(!L.Z){if(L.X)if(L.X.hF+3E3<m.hF)dP(L),nO(L);else break a;Bi(L);t6(18)}}else L.Vd=q[1],0<L.Vd-L.OR&&q[2]<37500&&L.sR&&L.T==0&&!L.XN&&(L.XN=EH((0,g.FZ)(L.pF,L),6E3));if(Hi(L.B)<=1&&L.aW){try{L.aW()}catch(v){}L.aW=void 0}}else J6(L,11)}else if((m.xC||L.X==m)&&dP(L),!g.iB(F))for(q=L.Ft.X.parse(F),F=0;F<q.length;F++){let v=q[F];const l=v[0];
if(!(l<=L.OR))if(L.OR=l,v=v[1],L.o9==2)if(v[0]=="c"){L.V=v[1];L.XI=v[2];const w=v[3];w!=null&&(L.X4=w);const V=v[5];V!=null&&typeof V==="number"&&V>0&&(L.i9=1.5*V);u=L;const I=m.Cb();if(I){const P=g.US(I,"X-Client-Wire-Protocol");if(P){var A=u.B;!A.X&&(g.gF(P,"spdy")||g.gF(P,"quic")||g.gF(P,"h2"))&&(A.V=A.O,A.X=new Set,A.B&&(CO(A,A.B),A.B=null))}if(u.Hb){const N=g.US(I,"X-HTTP-Session-Id");N&&(u.hD=N,g.m1(u.tF,u.Hb,N))}}L.o9=3;L.O&&L.O.VX();L.tW&&(L.FI=Date.now()-m.hF);u=L;var r=m;u.WR=Bi6(u,u.xC?
u.XI:null,u.j0);if(r.xC){HF2(u.B,r);var y=r,G=u.i9;G&&y.setTimeout(G);y.XN&&(bP(y),Wi(y));u.X=r}else JpC(u);L.G.length>0&&m9(L)}else v[0]!="stop"&&v[0]!="close"||J6(L,7);else L.o9==3&&(v[0]=="stop"||v[0]=="close"?v[0]=="stop"?J6(L,7):L.disconnect():v[0]!="noop"&&L.O&&L.O.Ho(v),L.T=0)}X8(4)}catch(v){}},Crt=function(m){this.O=m||10;
g.On.PerformanceNavigationTiming?(m=g.On.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(g.On.chrome&&g.On.chrome.loadTimes&&g.On.chrome.loadTimes()&&g.On.chrome.loadTimes().wasFetchedViaSpdy);this.V=m?this.O:1;this.X=null;this.V>1&&(this.X=new Set);this.B=null;this.G=[]},mtq=function(m){return m.B?!0:m.X?m.X.size>=m.V:!1},Hi=function(m){return m.B?1:m.X?m.X.size:0},ci=function(m,F){return m.B?m.B==F:m.X?m.X.has(F):!1},CO=function(m,
F){m.X?m.X.add(F):m.B=F},HF2=function(m,F){m.B&&m.B==F?m.B=null:m.X&&m.X.has(F)&&m.X.delete(F)},Lj=function(m){if(m.B!=null)return m.G.concat(m.B.T);
if(m.X!=null&&m.X.size!==0){let F=m.G;for(const L of m.X.values())F=F.concat(L.T);return F}return g.ZC(m.G)},FKG=function(m,F){const L=new UH;
if(g.On.Image){const u=new Image;u.onload=g.qN(up,L,"TestLoadImage: loaded",!0,F,u);u.onerror=g.qN(up,L,"TestLoadImage: error",!1,F,u);u.onabort=g.qN(up,L,"TestLoadImage: abort",!1,F,u);u.ontimeout=g.qN(up,L,"TestLoadImage: timeout",!1,F,u);g.On.setTimeout(function(){if(u.ontimeout)u.ontimeout()},1E4);
u.src=m}else F(!1)},LKC=function(m,F){const L=new UH,u=new AbortController,q=setTimeout(()=>{u.abort();
up(L,"TestPingServer: timeout",!1,F)},1E4);
fetch(m,{signal:u.signal}).then(A=>{clearTimeout(q);A.ok?up(L,"TestPingServer: ok",!0,F):up(L,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(q);
up(L,"TestPingServer: error",!1,F)})},up=function(m,F,L,u,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),u(L)}catch(A){}},uhZ=function(){this.X=new qj},Am=function(m,F,L){return L&&L.ly?L.ly[m]||F:F},qlZ=function(m){this.G=[];
this.XI=this.WR=this.tF=this.j0=this.X=this.hD=this.Hb=this.M0=this.L=this.Pb=this.W=null;this.VV=this.JF=0;this.Kj=Am("failFast",!1,m);this.sR=this.XN=this.Z=this.j=this.O=null;this.Ou=!0;this.Vd=this.OR=-1;this.SY=this.T=this.hF=0;this.CA=Am("baseRetryDelayMs",5E3,m);this.C0=Am("retryDelaySeedMs",1E4,m);this.TY=Am("forwardChannelMaxRetries",2,m);this.zY=Am("forwardChannelRequestTimeoutMs",2E4,m);this.EM=m&&m.L7F||void 0;this.D2=m&&m.MuW||void 0;this.ev=m&&m.Ns0||!1;this.i9=void 0;this.xC=m&&m.Q$||
!1;this.V="";this.B=new Crt(m&&m.rtY);this.Dc=Math.min(m&&m.GEC||1E3,1E3);this.Ft=new uhZ;this.RW=m&&m.O0F||!1;this.Cu=m&&m.hHP||!1;this.RW&&this.Cu&&(this.Cu=!1);this.cn=m&&m.oWC||!1;m&&m.t_N&&(this.Ou=!1);this.tW=!this.RW&&this.Ou&&m&&m.gWu||!1;this.il=void 0;m&&m.Rw&&m.Rw>0&&(this.il=m.Rw);this.aW=void 0;this.FI=0;this.FN=!1;this.T0=this.b9=null},nO=function(m){m.X&&(rS(m),m.X.cancel(),m.X=null)},Atm=function(m){nO(m);
m.Z&&(g.On.clearTimeout(m.Z),m.Z=null);dP(m);m.B.cancel();m.j&&(typeof m.j==="number"&&g.On.clearTimeout(m.j),m.j=null)},m9=function(m){mtq(m.B)||m.j||(m.j=!0,g.Ou(m.bz,m),m.hF=0)},ytZ=function(m,F){if(Hi(m.B)>=m.B.V-(m.j?1:0))return!1;
if(m.j)return m.G=F.T.concat(m.G),!0;if(m.o9==1||m.o9==2||m.hF>=(m.Kj?0:m.TY))return!1;m.j=EH((0,g.FZ)(m.bz,m,F),rtC(m,m.hF));m.hF++;return!0},v3f=function(m,F){var L;
F?L=F.XI:L=m.JF++;const u=m.tF.clone();g.m1(u,"SID",m.V);g.m1(u,"RID",L);g.m1(u,"AID",m.OR);yI(m,u);m.L&&m.W&&g.r1(u,m.L,m.W);L=new km(m,m.V,L,m.hF+1);m.L===null&&(L.tF=m.W);F&&(m.G=F.T.concat(m.G));F=G6e(m,L,m.Dc);L.setTimeout(Math.round(m.zY*.5)+Math.round(m.zY*.5*Math.random()));CO(m.B,L);h6(L,u,F)},yI=function(m,F){m.M0&&g.GM(m.M0,function(L,u){g.m1(F,u,L)});
m.O&&g.GM({},function(L,u){g.m1(F,u,L)})},G6e=function(m,F,L){L=Math.min(m.G.length,L);
const u=m.O?(0,g.FZ)(m.O.cX,m.O,m):null;a:{var q=m.G;let y=-1;for(;;){const G=["count="+L];y==-1?L>0?(y=q[0].X,G.push("ofs="+y)):y=0:G.push("ofs="+y);let v=!0;for(let l=0;l<L;l++){var A=q[l].X;const w=q[l].map;A-=y;if(A<0)y=Math.max(0,q[l].X-100),v=!1;else try{A="req"+A+"_"||"";try{var r=w instanceof Map?w:Object.entries(w);for(const [V,I]of r){let P=I;g.HN(I)&&(P=g.gJ(I));G.push(A+V+"="+encodeURIComponent(P))}}catch(V){throw G.push(A+"type="+encodeURIComponent("_badmap")),V;}}catch(V){u&&u(w)}}if(v){r=
G.join("&");break a}}r=void 0}m=m.G.splice(0,L);F.T=m;return r},JpC=function(m){m.X||m.Z||(m.SY=1,g.Ou(m.Bo,m),m.T=0)},Bi=function(m){if(m.X||m.Z||m.T>=3)return!1;
m.SY++;m.Z=EH((0,g.FZ)(m.Bo,m),rtC(m,m.T));m.T++;return!0},rS=function(m){m.b9!=null&&(g.On.clearTimeout(m.b9),m.b9=null)},lT8=function(m){m.X=new km(m,m.V,"rpc",m.SY);
m.L===null&&(m.X.tF=m.W);m.X.i9=0;var F=m.WR.clone();g.m1(F,"RID","rpc");g.m1(F,"SID",m.V);g.m1(F,"AID",m.OR);g.m1(F,"CI",m.sR?"0":"1");!m.sR&&m.il&&g.m1(F,"TO",m.il);g.m1(F,"TYPE","xmlhttp");yI(m,F);m.L&&m.W&&g.r1(F,m.L,m.W);m.i9&&m.X.setTimeout(m.i9);var L=m.X;m=m.XI;L.OR=1;L.Z=uP(F.clone());L.W=null;L.Hb=!0;W32(L,m)},dP=function(m){m.XN!=null&&(g.On.clearTimeout(m.XN),m.XN=null)},nD8=function(m,F){var L=null;
if(m.X==F){dP(m);rS(m);m.X=null;var u=2}else if(ci(m.B,F))L=F.T,HF2(m.B,F),u=1;else return;if(m.o9!=0)if(F.j)if(u==1){L=F.W?F.W.length:0;F=Date.now()-F.hF;var q=m.hF;u=o_();u.dispatchEvent(new kGZ(u,L,F,q));m9(m)}else JpC(m);else{var A=F.aW;q=F.getLastError();if(q==3||q==0&&A>0||!(u==1&&ytZ(m,F)||u==2&&Bi(m)))switch(L&&L.length>0&&(F=m.B,F.G=F.G.concat(L)),q){case 1:J6(m,5);break;case 4:J6(m,10);break;case 3:J6(m,6);break;default:J6(m,2)}}},rtC=function(m,F){let L=m.CA+Math.floor(Math.random()*m.C0);
m.isActive()||(L*=2);return L*F},J6=function(m,F){if(F==2){var L=(0,g.FZ)(m.YI,m),u=m.D2;
const q=!u;u=new g.bT(u||"//www.google.com/images/cleardot.gif");g.On.location&&g.On.location.protocol=="http"||g.cq(u,"https");uP(u);q?FKG(u.toString(),L):LKC(u.toString(),L)}else t6(2);m.o9=0;m.O&&m.O.If(F);wY2(m);Atm(m)},wY2=function(m){m.o9=0;
m.T0=[];if(m.O){const F=Lj(m.B);if(F.length!=0||m.G.length!=0)g.SC(m.T0,F),g.SC(m.T0,m.G),m.B.G.length=0,g.ZC(m.G),m.G.length=0;m.O.GA()}},Vaq=function(m){if(m.o9==0)return m.T0;
let F=[];g.SC(F,Lj(m.B));g.SC(F,m.G);return F},Bi6=function(m,F,L){var u=g.TM(L);
u.X!=""?(F&&g.dm(u,F+"."+u.X),g.n3(u,u.G)):(u=g.On.location,u=q6q(u.protocol,F?F+"."+u.hostname:u.hostname,+u.port,L));F=m.Hb;L=m.hD;F&&L&&g.m1(u,F,L);g.m1(u,"VER",m.X4);yI(m,u);return u},OFG=function(m,F,L){if(F&&!m.xC)throw Error("Can't create secondary domain capable XhrIo object.");
F=m.ev&&!m.EM?new g.Nc(new g.k9({y6:L})):new g.Nc(m.EM);F.L=m.xC;return F},jOf=function(){},ITc=function(){},vx=function(m,F){g.NK.call(this);
this.X=new qlZ(F);this.j=m;this.B=F&&F.uy||null;m=F&&F.g5||null;F&&F.nWC&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"});this.X.W=m;m=F&&F.WA0||null;F&&F.gW&&(m?m["X-WebChannel-Content-Type"]=F.gW:m={"X-WebChannel-Content-Type":F.gW});F&&F.U_&&(m?m["X-WebChannel-Client-Profile"]=F.U_:m={"X-WebChannel-Client-Profile":F.U_});this.X.Pb=m;(m=F&&F.nrW)&&!g.iB(m)&&(this.X.L=m);this.L=F&&F.Q$||!1;this.O=F&&F.mw8||!1;(F=F&&F.GU)&&!g.iB(F)&&(this.X.Hb=F,g.mS(this.B,F)&&(m=this.B,
F in m&&delete m[F]));this.G=new GS(this)},RUf=function(m){Z_.call(this);
m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);const F=m.__sm__;F?this.data=(this.X=g.B2(F))?g.rF(F,this.X):F:this.data=m},$tm=function(m){S8.call(this);
this.status=1;this.errorCode=m},GS=function(m){this.X=m},lp=function(m,F){this.V=m;
this.X=F},wS=function(m,F){if(typeof m!=="function")throw Error("Fn must not be null and must be a function");
return g.On.setTimeout(function(){m()},F)},jW=function(){VI.dispatchEvent(new eUC)},I7=function(m,F,L,u){this.X=m;
this.V=F;this.L=L;this.j=u||1;this.B=45E3;this.G=new g.yJ(this);this.O=new g.un;this.O.setInterval(250)},ix6=function(m,F,L){m.Qp=1;
m.Ia=uP(F.clone());m.H_=L;m.Hb=!0;PM8(m,null)},R7=function(m,F,L,u,q){m.Qp=1;
m.Ia=uP(F.clone());m.H_=null;m.Hb=L;q&&(m.U4=!1);PM8(m,u)},PM8=function(m,F){m.vp=Date.now();
$T(m);m.OZ=m.Ia.clone();qp(m.OZ,"t",m.j);m.eO=0;m.Ig=m.X.xL(m.X.l5()?F:null);m.EH>0&&(m.MY=new g.FX((0,g.FZ)(m.lz,m,m.Ig),m.EH));m.G.listen(m.Ig,"readystatechange",m.nF);F=m.IQ?g.Gb(m.IQ):{};m.H_?(m.EZ="POST",F["Content-Type"]="application/x-www-form-urlencoded",m.Ig.send(m.OZ,m.EZ,m.H_,F)):(m.EZ="GET",m.U4&&!g.R2&&(F.Connection="close"),m.Ig.send(m.OZ,m.EZ,null,F));m.X.PG(1)},zUZ=function(m,F){var L=m.eO,u=F.indexOf("\n",L);
if(u==-1)return eW;L=Number(F.substring(L,u));if(isNaN(L))return g3C;u+=1;if(u+L>F.length)return eW;F=F.slice(u,u+L);m.eO=u+L;return F},$T=function(m){m.UH=Date.now()+m.B;
YlR(m,m.B)},YlR=function(m,F){if(m.cI!=null)throw Error("WatchDog timer not null");
m.cI=wS((0,g.FZ)(m.Dv,m),F)},aTe=function(m){m.cI&&(g.On.clearTimeout(m.cI),m.cI=null)},Px=function(m){m.X.Nw()||m.Hp||m.X.YL(m)},ip=function(m){aTe(m);
g.Lx(m.MY);m.MY=null;m.O.stop();m.G.removeAll();if(m.Ig){const F=m.Ig;m.Ig=null;F.abort();F.dispose()}m.j6&&(m.j6=null)},DtG=function(m,F){try{m.X.kK(m,F),m.X.PG(4)}catch(L){}},NvC=function(m,F,L,u,q){if(u==0)L(!1);
else{var A=q||0;u--;Tvq(m,F,function(r){r?L(!0):g.On.setTimeout(function(){NvC(m,F,L,u,A)},A)})}},Tvq=function(m,F,L){const u=new Image;
u.onload=function(){try{gS(u),L(!0)}catch(q){}};
u.onerror=function(){try{gS(u),L(!1)}catch(q){}};
u.onabort=function(){try{gS(u),L(!1)}catch(q){}};
u.ontimeout=function(){try{gS(u),L(!1)}catch(q){}};
g.On.setTimeout(function(){if(u.ontimeout)u.ontimeout()},F);
u.src=m},gS=function(m){m.onload=null;
m.onerror=null;m.onabort=null;m.ontimeout=null},pY2=function(m){this.X=m;
this.B=new qj},KKc=function(m){const F=zS(m.X,m.FE,"/mail/images/cleardot.gif");
uP(F);NvC(F.toString(),5E3,(0,g.FZ)(m.MI,m),3,2E3);m.PG(1)},DK=function(m){var F=m.X.j;
F!=null?(jW(),F?(jW(),a7(m.X,m,!1)):(jW(),a7(m.X,m,!0))):(m.W1=new I7(m),m.W1.IQ=m.sH,F=m.X,F=zS(F,F.l5()?m.UZ:null,m.jp),jW(),qp(F,"TYPE","xmlhttp"),R7(m.W1,F,!1,m.UZ,!1))},TS=function(m,F,L){this.X=1;
this.B=[];this.G=[];this.O=new qj;this.W=m||null;this.j=F!=null?F:null;this.Z=L||!1},fTc=function(m,F){this.X=m;
this.map=F;this.context=null},xtm=function(m,F,L,u){g.rL.call(this,"timingevent",m);
this.size=F;this.rtt=L;this.retries=u},MaR=function(m){g.rL.call(this,"serverreachability",m)},Zx8=function(m){m.rT(1,0);
m.xV=zS(m,null,m.LW);Nj(m)},Slm=function(m){m.bf&&(m.bf.abort(),m.bf=null);
m.rb&&(m.rb.cancel(),m.rb=null);m.hY&&(g.On.clearTimeout(m.hY),m.hY=null);pj(m);m.Xf&&(m.Xf.cancel(),m.Xf=null);m.C5&&(g.On.clearTimeout(m.C5),m.C5=null)},Kj=function(m,F){if(m.X==0)throw Error("Invalid operation: sending map when state is closed");
m.B.push(new fTc(m.WX++,F));m.X!=2&&m.X!=3||Nj(m)},o3t=function(m){let F=0;
m.rb&&F++;m.Xf&&F++;return F},Nj=function(m){m.Xf||m.C5||(m.C5=wS((0,g.FZ)(m.tE,m),0),m.rp=0)},taG=function(m,F){if(m.X==1){if(!F){m.MG=Math.floor(Math.random()*1E5);
F=m.MG++;const L=new I7(m,"",F);L.IQ=m.Ru;const u=fj(m),q=m.xV.clone();g.m1(q,"RID",F);g.m1(q,"CVER","1");xT(m,q);ix6(L,q,u);m.Xf=L;m.X=2}}else m.X==3&&(F?XYZ(m,F):m.B.length==0||m.Xf||XYZ(m))},XYZ=function(m,F){if(F)if(m.V1>6){m.B=m.G.concat(m.B);
m.G.length=0;var L=m.MG-1;F=fj(m)}else L=F.L,F=F.H_;else L=m.MG++,F=fj(m);const u=m.xV.clone();g.m1(u,"SID",m.V);g.m1(u,"RID",L);g.m1(u,"AID",m.WI);xT(m,u);L=new I7(m,m.V,L,m.rp+1);L.IQ=m.Ru;L.setTimeout(1E4+Math.round(1E4*Math.random()));m.Xf=L;ix6(L,u,F)},xT=function(m,F){m.AK&&(m=m.AK.s0())&&g.GM(m,function(L,u){g.m1(F,u,L)})},fj=function(m){const F=Math.min(m.B.length,1E3),L=["count="+F];
let u;m.V1>6&&F>0?(u=m.B[0].X,L.push("ofs="+u)):u=0;for(let q=0;q<F;q++){let A=m.B[q].X;const r=m.B[q].map;A=m.V1<=6?q:A-u;try{g.GM(r,function(y,G){L.push("req"+A+"_"+G+"="+encodeURIComponent(y))})}catch(y){L.push("req"+A+"_type="+encodeURIComponent("_badmap"))}}m.G=m.G.concat(m.B.splice(0,F));
return L.join("&")},E3c=function(m){m.rb||m.hY||(m.L=1,m.hY=wS((0,g.FZ)(m.QX,m),0),m.D6=0)},Mj=function(m){if(m.rb||m.hY||m.D6>=3)return!1;
m.L++;m.hY=wS((0,g.FZ)(m.QX,m),Utm(m,m.D6));m.D6++;return!0},a7=function(m,F,L){m.rQ=m.j==null?L:!m.j;
m.CT=F.zx;m.Z||Zx8(m)},pj=function(m){m.v_!=null&&(g.On.clearTimeout(m.v_),m.v_=null)},Utm=function(m,F){let L=5E3+Math.floor(Math.random()*1E4);
m.isActive()||(L*=2);return L*F},ZK=function(m,F){if(F==2||F==9){var L=null;
m.AK&&(L=null);var u=(0,g.FZ)(m.sF,m);L||(L=new g.bT("//www.google.com/images/cleardot.gif"),uP(L));Tvq(L.toString(),1E4,u)}else jW();k6R(m,F)},k6R=function(m,F){m.X=0;
m.AK&&m.AK.E0(F);hUN(m);Slm(m)},hUN=function(m){m.X=0;
m.CT=-1;if(m.AK)if(m.G.length==0&&m.B.length==0)m.AK.Jq();else{const F=g.ZC(m.G),L=g.ZC(m.B);m.G.length=0;m.B.length=0;m.AK.Jq(F,L)}},zS=function(m,F,L){let u=g.TM(L);
if(u.X!="")F&&g.dm(u,F+"."+u.X),g.n3(u,u.G);else{const q=window.location;u=q6q(q.protocol,F?F+"."+q.hostname:q.hostname,+q.port,L)}m.kG&&g.GM(m.kG,function(q,A){g.m1(u,A,q)});
g.m1(u,"VER",m.V1);xT(m,u);return u},WKR=function(){},Oxt=function(){this.X=[];
this.B=[]},QOq=function(m,F){this.action=m;
this.params=F||{}},SW=function(m,F){g.qt.call(this);
this.X=new g.d1(this.SC,0,this);g.Z(this,this.X);this.CY=5E3;this.retryCount=this.nV=0;if(typeof m==="function")F&&(m=(0,g.FZ)(m,F));else if(m&&typeof m.handleEvent==="function")m=(0,g.FZ)(m.handleEvent,m);else throw Error("Invalid listener argument");this.B=m},o7=function(m,F,L=!1,u=()=>"",q=!1,A=!1,r=!1,y=()=>g.kE({}),G,v=!1,l=!1,w=!1,V=!1,I,P){this.sR=m;
this.hF=F;this.Z=new g.Nf;this.j=P;this.B=(this.G=!!I)?I(()=>{this.qx()}):new SW(this.qx,this);
this.X=null;this.W=!1;this.T=null;this.Hb="";this.b9=this.XN=0;this.V=[];this.SY=L;this.tF=u;this.L=A;this.xC=y;this.OR=G;this.XI=r;this.M0=null;this.O=g.kE();this.j0=q;this.Pb=v;this.aW=l;this.Ou=w;this.T0=V;this.Cu=new sOm;this.JF=new bxC;this.RW=new ct2;this.FN=new dtC;this.i9=new n3e;this.tW=new Bvc;this.FI=new Hx6},Jt8=function(m,F,L,u,q){XI(m);
if(m.X){const A=g.k("ID_TOKEN"),r=m.X.Ru||{};A?r["x-youtube-identity-token"]=A:delete r["x-youtube-identity-token"];m.X.Ru=r}tm(m);u?(u.getState()!=3&&o3t(u)==0||u.getState(),m.X.connect(F,L,m.hF,u.V,u.WI)):q?m.X.connect(F,L,m.hF,q.sessionId,q.arrayId):m.X.connect(F,L,m.hF);m.G&&!m.B.isActive()&&m.B.start();m.j&&m.j.OjF()},L8e=function(m,F){return m.Ou?!0:m.aW?Object.values(CMq).includes(F):m.Pb?!Object.values(mdR).includes(F):m.T0?Object.values(F8C).includes(F):!1},u$6=async function(m){try{await EV(m)}finally{var F=
m.V;
m.V=[];var L=F;F=F.length;for(let u=0;u<F;++u)Kj(m.X,L[u]);UV(m);UV(m)}},UV=function(m){m.publish("handlerOpened");
m.Cu.X("BROWSER_CHANNEL")},XI=function(m){if(m.X){const F=m.tF(),L=m.X.Ru||{};
F?L["x-youtube-lounge-xsrf-token"]=F:delete L["x-youtube-lounge-xsrf-token"];m.X.Ru=L}},EV=function(m){if(!m.XI)return q0t(m);
m.M0===null&&(m.M0=q0t(m));return m.M0},q0t=function(m){return g.dL(m.xC().then(F=>{AGZ(m,F)}).cW(()=>{}),()=>{m.M0=null})},AGZ=function(m,F){if(m.X){let L=m.X.Ru||{};
F&&Object.keys(F).length>0?L={...L,...F}:delete L.Authorization;m.X.Ru=L}},tm=function(m){m.OR&&!m.L&&AGZ(m,m.OR())},kT=function(m){this.scheme="https";
this.port=this.domain="";this.X="/api/lounge";this.B=!0;m=m||document.location.href;const F=Number(g.yj(m)[4]||null)||"";F&&(this.port=":"+F);this.domain=g.vM(m)||"";m=g.D5();m.search("MSIE")>=0&&(m=m.match(/MSIE ([\d.]+)/)[1],g.aW(m,"10.0")<0&&(this.B=!1))},hm=function(m,F){let L=m.X;
m.B&&(L=m.scheme+"://"+m.domain+m.port+m.X);return g.ir(L+F,{})},rGe=function(m){g.R1(m.channel,"m",()=>{m.j=3;
m.G.reset();m.Z=null;m.L=0;for(const F of m.T)m.channel&&m.channel.send(F);m.T=[];m.publish("webChannelOpened");m.tF.X("WEB_CHANNEL")});
g.R1(m.channel,"n",()=>{m.j=0;m.G.isActive()||m.publish("webChannelClosed");const F=m.channel?.V().G();F&&(m.T=[...F]);m.b9.X("WEB_CHANNEL")});
g.R1(m.channel,"p",F=>{const L=F.data;L[0]==="gracefulReconnect"?(m.G.start(),m.channel&&m.channel.close()):m.publish("webChannelMessage",new QOq(L[0],L[1]));m.k5=F.statusCode;m.M0.X("WEB_CHANNEL")});
g.R1(m.channel,"o",()=>{m.k5===401||m.G.start();m.publish("webChannelError");m.Hb.X("WEB_CHANNEL","")})},Wx=function(m){const F=m.hF();
F?m.V["x-youtube-lounge-xsrf-token"]=F:delete m.V["x-youtube-lounge-xsrf-token"]},lEt=function(m,F,L=()=>"",u,q){const A=()=>new o7(hm(m,"/bc"),F,!1,L,u);
return g.tw("enable_mdx_web_channel_desktop")?new yGG(()=>new GZq(hm(m,"/wc"),F,L)):new vae(A,q)},IEm=function(){var m=w3N;
V66();OV.push(m);jlc()},QI=function(m,F){V66();
const L=RfG(m,String(F));OV.length==0?$de(L):(jlc(),g.eC(OV,function(u){u(L)}))},sV=function(m){QI("CP",m)},V66=function(){OV||(OV=g.sn("yt.mdx.remote.debug.handlers_")||[],g.Qv("yt.mdx.remote.debug.handlers_",OV))},$de=function(m){const F=(bp+1)%50;
bp=F;cx[F]=m;dS||(dS=F==49)},jlc=function(){var m=OV;
if(cx[0]){var F=dS?bp:-1;do{F=(F+1)%50;const L=cx[F];g.eC(m,function(u){u(L)})}while(F!=bp);
cx=Array(50);bp=-1;dS=!1}},RfG=function(m,F){let L=(Date.now()-eff)/1E3;
L.toFixed&&(L=L.toFixed(3));const u=[];u.push("[",L+"s","] ");u.push("[","yt.mdx.remote","] ");u.push(m+": "+F,"\n");return u.join("")},nj=function(m){g.LD.call(this);
this.j=m;this.screens=[]},Pvm=function(m,F){const L=m.get(F.uuid)||m.get(F.id);
if(L)return m=L.name,L.id=F.id||L.id,L.name=F.name,L.token=F.token,L.uuid=F.uuid||L.uuid,L.name!=m;m.screens.push(F);return!0},iUc=function(m,F){let L=m.screens.length!=F.length;
m.screens=g.P2(m.screens,function(q){return!!$m(F,q)});
const u=F.length;for(let q=0;q<u;q++)L=Pvm(m,F[q])||L;return L},gae=function(m,F){const L=m.screens.length;
m.screens=g.P2(m.screens,function(u){return!(u||F?!u!=!F?0:u.id==F.id:1)});
return m.screens.length<L},Hx=function(m){nj.call(this,"LocalScreenService");
this.B=m;this.X=NaN;Bx(this);this.info("Initializing with "+I_(this.screens))},zff=function(m){if(m.screens.length){const F=g.iq(m.screens,function(u){return u.id}),L=hm(m.B,"/pairing/get_lounge_token_batch");
m.B.sendRequest("POST",L,{screen_ids:F.join(",")},(0,g.FZ)(m.yk,m),(0,g.FZ)(m.ql,m))}},Bx=function(m){if(g.tw("deprecate_pair_servlet_enabled"))return iUc(m,[]);
var F=IDZ(gDq());F=g.P2(F,function(L){return!L.uuid});
return iUc(m,F)},Jm=function(m,F){Y6e(g.iq(m.screens,VO6));
F&&zVN()},Cj=function(m){QI("OnlineScreenService",m)},mF=function(m){isNaN(m.G)||g.Si(m.G);
m.G=g.M9((0,g.FZ)(m.L,m),m.V>0&&m.V<g.Af()?2E4:1E4)},Fi=function(m,F){a:if(A6(F)!=A6(m.X))var L=!1;
else{L=g.Cc(F);var u=L.length;for(let q=0;q<u;++q)if(!m.X[L[q]]){L=!1;break a}L=!0}L||(Cj("Updated online screens: "+g.gJ(m.X)),m.X=F,m.publish("screenChange"));Y0C(m)},Lf=function(m,F,L){const u=hm(m.O,"/pairing/get_screen_availability");
m.O.sendRequest("POST",u,{lounge_token:F.token},(0,g.FZ)(function(q){q=q.screens||[];const A=q.length;for(let r=0;r<A;++r)if(q[r].loungeToken==F.token){L(q[r].status=="online");return}L(!1)},m),(0,g.FZ)(function(){L(!1)},m))},Y0C=function(m){m=g.Cc(g.bq(m.X,function(F){return F}));
g.W2(m);m.length?g.AW("yt-remote-online-screen-ids",m.join(","),60):g.yC("yt-remote-online-screen-ids")},aER=function(m){const F={};
g.eC(m.j(),function(L){L.token?F[L.token]=L.id:this.P2("Requesting availability of screen w/o lounge token.")});
return F},u9=function(m,F=!1){nj.call(this,"ScreenService");
this.V=m;this.L=F;this.X=this.B=null;this.G=[];this.O={};DdC(this)},NgR=function(m,F,L,u,q,A){m.info("getAutomaticScreenByIds "+L+" / "+F);
L||(L=m.O[F]);const r=m.Xu();let y=L?e8(r,L):null;L&&(m.L||y)||(y=e8(r,F));if(y){y.uuid=F;const G=qS(m,y);Lf(m.X,G,function(v){q(v?G:null)})}else L?Tgf(m,L,(0,g.FZ)(function(G){const v=qS(this,new wP({name:u,
screenId:L,loungeToken:G,dialId:F||""}));Lf(this.X,v,function(l){q(l?v:null)})},m),A):q(null)},p3m=function(m,F){const L=m.screens.length;
for(let u=0;u<L;++u)if(m.screens[u].name==F)return m.screens[u];return null},K8R=function(m,F,L){Lf(m.X,F,L)},Tgf=function(m,F,L,u){m.info("requestLoungeToken_ for "+F);
const q={postParams:{screen_ids:F},method:"POST",context:m,onSuccess:function(A,r){A=r&&r.screens||[];A[0]&&A[0].screenId==F?L(A[0].loungeToken):u(Error("Missing lounge token in token response"))},
onError:function(){u(Error("Request screen lounge token failed"))}};
g.Ow(hm(m.V,"/pairing/get_lounge_token_batch"),q)},fEC=function(m){m.screens=m.B.Xu();
var F=m.O;const L={};for(var u in F)L[F[u]]=u;F=m.screens.length;for(u=0;u<F;++u){const q=m.screens[u];q.uuid=L[q.id]||""}m.info("Updated manual screens: "+I_(m.screens))},DdC=function(m){AT(m);
m.B=new Hx(m.V);m.B.subscribe("screenChange",(0,g.FZ)(m.zU,m));fEC(m);m.L||(m.G=IDZ(g.rc("yt-remote-automatic-screen-cache")||[]));AT(m);m.info("Initializing automatic screens: "+I_(m.G));m.X=new xdZ(m.V,(0,g.FZ)(m.Xu,m,!0));m.X.subscribe("screenChange",(0,g.FZ)(function(){this.publish("onlineScreenChange")},m))},qS=function(m,F){var L=m.get(F.id);
L?(L.uuid=F.uuid,F=L):((L=e8(m.G,F.uuid))?(L.id=F.id,L.token=F.token,F=L):m.G.push(F),m.L||M6C(m));AT(m);m.O[F.uuid]=F.id;g.AW("yt-remote-device-id-map",m.O,31536E3);return F},M6C=function(m){m=g.P2(m.G,F=>F.idType!="shortLived");
g.AW("yt-remote-automatic-screen-cache",g.iq(m,VO6))},AT=function(m){m.O=g.rc("yt-remote-device-id-map")||{}},ry=function(m,F,L){g.LD.call(this);
this.Hb=L;this.V=m;this.B=F;this.X=null},yy=function(m,F){m.X=F;
m.publish("sessionScreen",m.X)},ZU6=function(m,F){m.X&&(m.X.token=F,qS(m.V,m.X));
m.publish("sessionScreen",m.X)},G3=function(m,F){QI(m.Hb,F)},oac=function(m,F){g.Si(m.XN);
m.XN=0;F?m.config_.enableCastLoungeToken&&F.loungeToken?F.deviceId?m.X&&m.X.uuid==F.deviceId||(F.loungeTokenRefreshIntervalMs?S0R(m,{name:m.B.friendlyName,screenId:F.screenId,loungeToken:F.loungeToken,dialId:F.deviceId,screenIdType:"shortLived"},F.loungeTokenRefreshIntervalMs):(g.vT(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(F)}.`)),v7(m,F.screenId))):(g.vT(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(F)}.`)),v7(m,F.screenId)):
v7(m,F.screenId):m.Z9(Error("Waiting for session status timed out."))},X3C=function(m){g.Si(m.W);
m.W=0;g.Si(m.L);m.L=0;g.Si(m.XN);m.XN=0;g.Si(m.O);m.O=0;g.Si(m.Z);m.Z=0},t6G=function(m,F){m.info("sendYoutubeMessage_: "+F+" "+g.gJ());
const L={};L.type=F;m.G?m.G.sendMessage("urn:x-cast:com.google.youtube.mdx",L,()=>{},(0,g.FZ)(function(){G3(this,"Failed to send message: "+F+".")},m)):G3(m,"Sending yt message without session: "+g.gJ(L))},UdG=function(m){t6G(m,"getLoungeToken");
g.Si(m.O);m.O=g.M9(()=>{Eac(m,null)},3E4)},l9=function(m,F){g.Si(m.Z);
m.Z=0;F==0?UdG(m):m.Z=g.M9(()=>{UdG(m)},F)},Eac=function(m,F){g.Si(m.O);
m.O=0;let L=null;F?F.loungeToken?m.X?.token==F.loungeToken&&(L="staleLoungeToken"):L="missingLoungeToken":L="noLoungeTokenResponse";L?(m.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(F)}, error: ${L}`),l9(m,3E4)):(ZU6(m,F.loungeToken),l9(m,F.loungeTokenRefreshIntervalMs))},v7=function(m,F){F?(m.info("onConnectedScreenId_: Received screenId: "+F),m.X&&m.X.id==F||m.M0(F,L=>{yy(m,L)},()=>m.Z9(),5)):m.Z9(Error("Waiting for session status timed out."))},kZ8=
function(m,F,L,u){g.Si(m.L);
m.L=0;K8R(m.V,F,q=>{q||u<0?L(q):m.L=g.M9(()=>{kZ8(m,F,L,u-1)},300)})},S0R=function(m,F,L){m.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(F)}`);
const u=new wP(F);kZ8(m,u,q=>{q?(qS(m.V,u),yy(m,u),l9(m,L)):(g.vT(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(F)} is not online.`)),m.Z9())},5)},wy=function(m){return new Promise(F=>{m.hF=R_();
if(m.tF){const L=new chrome.cast.DialLaunchResponse(!0,hfG(m));F(L);W86(m)}else m.T=()=>{g.Si(m.XN);m.T=()=>{};
m.XN=NaN;const L=new chrome.cast.DialLaunchResponse(!0,hfG(m));F(L);W86(m)},m.XN=g.M9(()=>{m.T()},100)})},OUZ=function(m){g.Si(m.L);
m.L=0;g.Si(m.Z);m.Z=0;m.O();m.O=()=>{};
g.Si(m.XN)},Vy=function(m){return!(!m.config_.enableDialLoungeToken||!m.G?.getDialAppInfo)},jD=function(m,F){m.info(`getDialAppInfoWithTimeout_ ${F}`);
Vy(m)&&(g.Si(m.Z),m.Z=0,F==0?QlR(m):m.Z=g.M9(()=>{QlR(m)},F))},W86=function(m){m.O=m.V.jw(m.hF,m.B.label,m.B.friendlyName,Vy(m),(F,L)=>{m.O=()=>{};
yy(m,F);F.idType=="shortLived"&&L>0&&jD(m,L)},F=>{m.O=()=>{};
m.Z9(F)})},hfG=function(m){var F={};
F.pairingCode=m.hF;F.theme=m.OR;DBN()&&(F.env_useStageMdx=1);return g.PM(F)},sle=function(m,F){const L=m.W.receiver.label,u=m.B.friendlyName;
return(new Promise(q=>{NgR(m.V,L,F,u,A=>{A&&A.token&&yy(m,A);q(A)},A=>{G3(m,"Failed to get DIAL screen: "+A);
q(null)})})).then(q=>q&&q.token?new chrome.cast.DialLaunchResponse(!1):wy(m))},cGm=function(m,F,L){m.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(F)}`);
const u=new wP(F);return(new Promise(q=>{bUC(m,u,A=>{A?(qS(m.V,u),yy(m,u),jD(m,L)):g.vT(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(F)} is not online.`));q(A)},5)})).then(q=>q?new chrome.cast.DialLaunchResponse(!1):wy(m))},bUC=function(m,F,L,u){g.Si(m.L);
m.L=0;K8R(m.V,F,q=>{q||u<0?L(q):m.L=g.M9(()=>{bUC(m,F,L,u-1)},300)})},QlR=function(m){Vy(m)&&m.G.getDialAppInfo(F=>{m.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(F)}`);
F=F.extraData||{};let L=null;F.loungeToken?m.X?.token==F.loungeToken&&(L="staleLoungeToken"):L="missingLoungeToken";L?jD(m,3E4):(ZU6(m,F.loungeToken),jD(m,F.loungeTokenRefreshIntervalMs))},F=>{m.info(`getDialAppInfo error: ${F}`);
jD(m,3E4)})},w3N=function(m){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(m)},na8=function(m){const F=m.B.YK();
let L=m.X&&m.X.B;m=g.iq(F,function(u){L&&VS(u,L.label)&&(L=null);const q=u.uuid?u.uuid:u.id;let A=ddC(this,u);A?(A.label=q,A.friendlyName=u.name):(A=new chrome.cast.Receiver(q,u.name),A.receiverType=chrome.cast.ReceiverType.CUSTOM);return A},m);
L&&(L.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(L=new chrome.cast.Receiver(L.label,L.friendlyName),L.receiverType=chrome.cast.ReceiverType.CUSTOM),m.push(L));return m},Ix=function(m){return m.Z||!!m.G.length||!!m.X},Rx=function(m){QI("Controller",m)},$L=function(m,F,L){F!=m.X&&(g.Lx(m.X),(m.X=F)?(L?m.publish("yt-remote-cast2-receiver-resumed",F.B):m.publish("yt-remote-cast2-receiver-selected",F.B),F.subscribe("sessionScreen",(0,g.FZ)(m.XN,m,F)),F.subscribe("sessionFailed",()=>Bg6(m,F)),F.X?
m.publish("yt-remote-cast2-session-change",F.X):L&&m.X.j(null)):m.publish("yt-remote-cast2-session-change",null))},ddC=function(m,F){return F?g.DC(m.G,function(L){return VS(F,L.label)},m):null},Bg6=function(m,F){m.X==F&&m.publish("yt-remote-cast2-session-failed")},LYe=function(m,F,L,u){u.disableCastApi?eD("Cannot initialize because disabled by Mdx config."):HUf()?JGq(F,u)&&(P7(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?Cvq(m,L):(window.__onGCastApiAvailable=function(q,A){q?Cvq(m,L):(i9("Failed to load cast API: "+
A),gy(!1),P7(!1),g.yC("yt-remote-cast-available"),g.yC("yt-remote-cast-receiver"),mx8(),L(!1))},u.loadCastApiSetupScript?g.GB(FYG):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?Tq()>=60&&MON():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?pO():Tq()>=89?S6C():(KO(),Np(ZFc.map(K3C))))):eD("Cannot initialize because not running Chrome")},mx8=function(){eD("dispose");
const m=z3();m&&m.dispose();g.Qv("yt.mdx.remote.cloudview.instance_",null);u22(!1);g.rO(YL);YL.length=0},ax=function(){return!!g.rc("yt-remote-cast-installed")},qgR=function(){const m=g.rc("yt-remote-cast-receiver");
return m?m.friendlyName:null},AIm=function(){eD("clearCurrentReceiver");
g.yC("yt-remote-cast-receiver")},rIC=function(){return ax()?z3()?z3().getCastSession():(i9("getCastSelector: Cast is not initialized."),null):(i9("getCastSelector: Cast API is not installed!"),null)},T3=function(){ax()?z3()?Ds()?(eD("Requesting cast selector."),z3().requestSession()):(eD("Wait for cast API to be ready to request the session."),YL.push(g.Ad("yt-remote-cast2-api-ready",T3))):i9("requestCastSelector: Cast is not initialized."):i9("requestCastSelector: Cast API is not installed!")},NS=
function(m,F){Ds()?z3().setConnectedScreenStatus(m,F):i9("setConnectedScreenStatus called before ready.")},HUf=function(){var m=g.D5().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.Qh||m},yI6=function(m,F){z3().init(m,F)},JGq=function(m,F){let L=!1;
z3()||(m=new pf(m,F),m.subscribe("yt-remote-cast2-availability-change",function(u){g.AW("yt-remote-cast-available",u);D_("yt-remote-cast2-availability-change",u)}),m.subscribe("yt-remote-cast2-receiver-selected",function(u){eD("onReceiverSelected: "+u.friendlyName);
g.AW("yt-remote-cast-receiver",u);D_("yt-remote-cast2-receiver-selected",u)}),m.subscribe("yt-remote-cast2-receiver-resumed",function(u){eD("onReceiverResumed: "+u.friendlyName);
g.AW("yt-remote-cast-receiver",u);D_("yt-remote-cast2-receiver-resumed",u)}),m.subscribe("yt-remote-cast2-session-change",function(u){eD("onSessionChange: "+j8(u));
u||g.yC("yt-remote-cast-receiver");D_("yt-remote-cast2-session-change",u)}),g.Qv("yt.mdx.remote.cloudview.instance_",m),L=!0);
eD("cloudview.createSingleton_: "+L);return L},z3=function(){return g.sn("yt.mdx.remote.cloudview.instance_")},Cvq=function(m,F){gy(!0);
P7(!1);yI6(m,function(L){L?(u22(!0),g.yL("yt-remote-cast2-api-ready")):(i9("Failed to initialize cast API."),gy(!1),g.yC("yt-remote-cast-available"),g.yC("yt-remote-cast-receiver"),mx8());F(L)})},eD=function(m){QI("cloudview",m)},i9=function(m){QI("cloudview",m)},gy=function(m){eD("setCastInstalled_ "+m);
g.AW("yt-remote-cast-installed",m)},Ds=function(){return!!g.sn("yt.mdx.remote.cloudview.apiReady_")},u22=function(m){eD("setApiReady_ "+m);
g.Qv("yt.mdx.remote.cloudview.apiReady_",m)},P7=function(m){g.Qv("yt.mdx.remote.cloudview.initializing_",m)},Kf=function(m){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.O=this.j=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.G=this.L=this.B=0;this.X=NaN;this.V=!1;this.reset(m)},ff=function(m){m.audioTrackId=null;
m.trackData=null;m.playerState=-1;m.hasPrevious=!1;m.hasNext=!1;m.j=0;m.O=g.Af();m.B=0;m.L=0;m.G=0;m.loadedTime=0;m.X=NaN;m.V=!1},xL=function(m){return m.isPlaying()?(g.Af()-m.O)/1E3:0},MS=function(m,F){m.j=F;
m.O=g.Af()},Zs=function(m){switch(m.playerState){case 1:case 1081:return(g.Af()-m.O)/1E3+m.j;
case -1E3:return 0}return m.j},G1C=function(m){return m.V?m.L+xL(m):m.L},SD=function(m,F,L){const u=m.videoId;
m.videoId=F;m.index=L;F!=u&&ff(m)},ox=function(m){const F={};
F.index=m.index;F.listId=m.listId;F.videoId=m.videoId;F.playerState=m.playerState;F.volume=m.volume;F.muted=m.muted;F.audioTrackId=m.audioTrackId;F.trackData=g.v5(m.trackData);F.hasPrevious=m.hasPrevious;F.hasNext=m.hasNext;F.playerTime=m.j;F.playerTimeAt=m.O;F.seekableStart=m.B;F.seekableEnd=m.L;F.duration=m.G;F.loadedTime=m.loadedTime;F.liveIngestionTime=m.X;return F},v$Z=function(m){g.eC("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(F){this.L.push(this.V.subscribe(F,g.qN(this.xC,F),this))},m)},Xi=function(m,F){m.B&&(m.B.removeUpdateListener(m.T),m.B.removeMediaListener(m.W),m.j(null));
m.B=F;m.B&&(sV("Setting cast session: "+m.B.sessionId),m.B.addUpdateListener(m.T),m.B.addMediaListener(m.W),m.B.media.length&&m.j(m.B.media[0]))},tT=function(m){return new Kf(m.V.getPlayerContextData())},EB=function(m){return m.getState()==1},kL=function(m,F,L){return(0,g.FZ)(function(u){this.P2("Failed to "+F+" with cast v2 channel. Error code: "+u.code);
u.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.P2("Retrying "+F+" using MDx browser channel."),UB(this,F,L))},m)},UB=function(m,F,L){m.V.sendMessage(F,L)},W7=function(m,F,L){const u=tT(m);
MS(u,L);u.playerState!=-1E3&&(u.playerState=F);hT(m,u)},OB=function(m,F){var L=m.O;
L.X.length+L.B.length<50&&m.O.enqueue(F)},hT=function(m,F){leC(m);
m.V.setPlayerContextData(ox(F));v$Z(m)},leC=function(m){g.eC(m.L,function(F){this.V.unsubscribeByKey(F)},m);
m.L.length=0},wV2=function(m){const F=m.X.media,L=m.X.customData;
if(F&&L){var u=tT(m);F.contentId!=u.videoId&&sV("Cast changing video to: "+F.contentId);u.videoId=F.contentId;u.playerState=L.playerState;MS(u,m.X.getEstimatedTime());hT(m,u)}else sV("No cast media video. Ignoring state update.")},VTG=function(m){Qy("Channel opened");
m.M0&&(m.M0=!1,sB(m),m.Hb=g.M9(()=>{Qy("Timing out waiting for a screen.");m.L(1)},15E3))},DxC=function(m,F){F=F.message;
F.params?Qy("Received: action="+F.action+", params="+g.gJ(F.params)):Qy("Received: action="+F.action+" {}");switch(F.action){case "loungeStatus":F=rP(F.params.devices);m.G=g.iq(F,function(u){return new lP(u)});
F=!!g.DC(m.G,function(u){return u.type=="LOUNGE_SCREEN"});
jbe(m,F);F=m.JF("mlm");m.publish("multiStateLoopEnabled",F);break;case "loungeScreenDisconnected":g.xe(m.G,function(u){return u.type=="LOUNGE_SCREEN"});
jbe(m,!1);break;case "remoteConnected":let L=new lP(rP(F.params.device));g.DC(m.G,function(u){return u.equals(L)})||L3q(m.G,L);
break;case "remoteDisconnected":L=new lP(rP(F.params.device));g.xe(m.G,function(u){return u.equals(L)});
break;case "gracefulDisconnect":break;case "playlistModified":IeR(m,F,"QUEUE_MODIFIED");break;case "nowPlaying":Rdt(m,F);break;case "onStateChange":$xZ(m,F);break;case "onAdStateChange":edC(m,F);break;case "onVolumeChanged":PoZ(m,F);break;case "onSubtitlesTrackChanged":i4C(m,F);break;case "nowAutoplaying":g$C(m,F);break;case "autoplayDismissed":m.publish("autoplayDismissed");break;case "autoplayUpNext":zdC(m,F);break;case "onAutoplayModeChanged":Yg8(m,F);break;case "onHasPreviousNextChanged":aeZ(m,
F);break;case "requestAssistedSignIn":m.publish("assistedSignInRequested",F.params.authCode);break;case "onLoopModeChanged":m.publish("loopModeChange",F.params.loopMode);break;default:Qy("Unrecognized action: "+F.action)}},Qy=function(m){QI("conn",m)},TEe=function(m){m.j=g.M9(()=>{Qy("Connecting timeout");
m.L(1)},2E4)},b9=function(m,F){m.publish("proxyStateChange",F)},c7=function(m){g.Si(m.j);
m.j=NaN},dy=function(m){g.Si(m.b9);
m.b9=NaN},sB=function(m){g.Si(m.Hb);
m.Hb=NaN},NE6=function(m){return g.DC(m.G,function(F){return F.type=="LOUNGE_SCREEN"})},nf=function(m,F,L){L?Qy("Sending: action="+F+", params="+g.gJ(L)):Qy("Sending: action="+F);
m.B.sendMessage(F,L)},pVm=function(m){dy(m);
m.b9=g.M9(()=>{nf(m,"getNowPlaying")},2E4)},KYq=function(m){g.Si(m.T);
m.T=g.M9(()=>{m.L(1)},864E5)},jbe=function(m,F){var L=null;
if(F){const u=NE6(m);u&&(L={clientName:u.clientName,deviceMake:u.brand,deviceModel:u.model,osVersion:u.osVersion})}g.Qv("yt.mdx.remote.remoteClient_",L);F&&(c7(m),sB(m));L=m.B.uX()&&isNaN(m.j);F==L?F&&(b9(m,1),nf(m,"getSubtitlesTrack")):F?(m.sR()&&m.X.reset(),b9(m,1),nf(m,"getNowPlaying"),KYq(m)):m.L(1)},i4C=function(m,F){const L=F.params.videoId;
delete F.params.videoId;L==m.X.videoId&&(g.qT(F.params)?m.X.trackData=null:m.X.trackData=F.params,m.publish("remotePlayerChange"))},IeR=function(m,F,L){const u=F.params.videoId||F.params.video_id,q=parseInt(F.params.currentIndex,10);
m.X.listId=F.params.listId||m.X.listId;SD(m.X,u,q);m.publish("remoteQueueChange",L)},$xZ=function(m,F){var L=parseInt(F.params.currentTime||F.params.current_time,10);
MS(m.X,isNaN(L)?0:L);L=parseInt(F.params.state,10);L=isNaN(L)?-1:L;L==-1&&m.X.playerState==-1E3&&(L=-1E3);m.X.playerState=L;L=Number(F.params.loadedTime);m.X.loadedTime=isNaN(L)?0:L;m.X.Z7(Number(F.params.duration));L=m.X;var u=Number(F.params.liveIngestionTime);L.X=u;L.V=isNaN(u)?!1:!0;L=m.X;u=Number(F.params.seekableStartTime);F=Number(F.params.seekableEndTime);L.B=isNaN(u)?0:u;L.L=isNaN(F)?0:F;m.X.playerState==1?pVm(m):dy(m);m.publish("remotePlayerChange")},Rdt=function(m,F){F.params=F.params||
{};
IeR(m,F,"NOW_PLAYING_MAY_CHANGE");$xZ(m,F);m.publish("autoplayDismissed")},edC=function(m,F){if(m.X.playerState!=-1E3){var L=1085;
switch(parseInt(F.params.adState,10)){case 1:L=1081;break;case 2:L=1084;break;case 0:L=1083}m.X.playerState=L;F=parseInt(F.params.currentTime,10);MS(m.X,isNaN(F)?0:F);m.publish("remotePlayerChange")}},PoZ=function(m,F){const L=F.params.muted=="true";
m.X.volume=parseInt(F.params.volume,10);m.X.muted=L;m.publish("remotePlayerChange")},g$C=function(m,F){m.Z=F.params.videoId;
m.publish("nowAutoplaying",parseInt(F.params.timeout,10))},zdC=function(m,F){m.Z=F.params.videoId||null;
m.publish("autoplayUpNext",m.Z)},Yg8=function(m,F){m.O=F.params.autoplayMode;
m.publish("autoplayModeChange",m.O);m.O=="DISABLED"&&m.publish("autoplayDismissed")},aeZ=function(m,F){const L=F.params.hasNext=="true";
m.X.hasPrevious=F.params.hasPrevious=="true";m.X.hasNext=L;m.publish("previousNextChange")},Z4q=function(m,F){aDC();
if(!a_||!a_.get("yt-remote-disable-remote-module-for-dev")){F=g.k("MDX_CONFIG")||F;$Bf();zq();B7||(B7=new kT(F?F.loungeApiHost:void 0),DBN()&&(B7.X="/api/loungedev"));H7||(H7=g.sn("yt.mdx.remote.deferredProxies_")||[],g.Qv("yt.mdx.remote.deferredProxies_",H7));fet();var L=JT();if(!L){const q=new u9(B7,F?F.disableAutomaticScreenCache||!1:!1);g.Qv("yt.mdx.remote.screenService_",q);L=JT();var u={};F&&(u={appId:F.appId,disableDial:F.disableDial,theme:F.theme,loadCastApiSetupScript:F.loadCastApiSetupScript,
disableCastApi:F.disableCastApi,enableDialLoungeToken:F.enableDialLoungeToken,enableCastLoungeToken:F.enableCastLoungeToken,forceMirroring:F.forceMirroring});g.Qv("yt.mdx.remote.enableConnectWithInitialState_",F?F.enableConnectWithInitialState||!1:!1);LYe(m,q,function(A){A?Cf()&&NS(Cf(),"YouTube TV"):q.subscribe("onlineScreenChange",function(){D_("yt-remote-receiver-availability-change")})},u)}F&&!g.sn("yt.mdx.remote.initialized_")&&(g.Qv("yt.mdx.remote.initialized_",!0),mE("Initializing: "+g.gJ(F)),
F4.push(g.Ad("yt-remote-cast2-api-ready",function(){D_("yt-remote-api-ready")})),F4.push(g.Ad("yt-remote-cast2-availability-change",function(){D_("yt-remote-receiver-availability-change")})),F4.push(g.Ad("yt-remote-cast2-receiver-selected",function(){LL(null);
D_("yt-remote-auto-connect","cast-selector-receiver")})),F4.push(g.Ad("yt-remote-cast2-receiver-resumed",function(){D_("yt-remote-receiver-resumed","cast-selector-receiver")})),F4.push(g.Ad("yt-remote-cast2-session-change",xx8)),F4.push(g.Ad("yt-remote-connection-change",function(q){q?NS(Cf(),"YouTube TV"):uY()||(NS(null,null),AIm())})),F4.push(g.Ad("yt-remote-cast2-session-failed",()=>{D_("yt-remote-connection-failed")})),m=qG(),F.isAuto&&(m.id+="#dial"),u=F.capabilities||[],u.length>0&&(m.capabilities=
u),m.name=F.device,m.app=F.app,(F=F.theme)&&(m.theme=F),mE(" -- with channel params: "+g.gJ(m)),m?(g.AW("yt-remote-session-app",m.app),g.AW("yt-remote-session-name",m.name)):(g.yC("yt-remote-session-app"),g.yC("yt-remote-session-name")),g.Qv("yt.mdx.remote.channelParams_",m),L.start(),Cf()||MTq())}},Sge=function(){var m=JT().Su.$_gos();
const F=A8();F&&rX()&&($m(m,F)||m.push(F));return RVC(m)},yd=function(){let m=o$C();
!m&&ax()&&qgR()&&(m={key:"cast-selector-receiver",name:qgR()});return m},o$C=function(){const m=Sge();
let F=A8();F||(F=uY());return g.DC(m,function(L){return F&&VS(F,L.key)?!0:!1})},A8=function(){const m=Cf();
if(!m)return null;const F=JT().Xu();return e8(F,m)},xx8=function(m){mE("remote.onCastSessionChange_: "+j8(m));
if(m){var F=A8();if(F&&F.id==m.id){if(NS(F.id,"YouTube TV"),m.idType=="shortLived"&&(m=m.token))GY&&(GY.token=m),(F=rX())&&F.M4(m)}else F&&vA(),lY(m,1)}else rX()&&vA()},vA=function(){Ds()?z3().stopSession():i9("stopSession called before API ready.");
const m=rX();m&&(m.disconnect(1),wX(null))},Vd=function(){const m=rX();
return!!m&&m.getProxyState()!=3},mE=function(m){QI("remote",m)},JT=function(){if(!jN){const m=g.sn("yt.mdx.remote.screenService_");
jN=m?new XVC(m):null}return jN},Cf=function(){return g.sn("yt.mdx.remote.currentScreenId_")},tTR=function(m){g.Qv("yt.mdx.remote.currentScreenId_",m)},E$m=function(){return g.sn("yt.mdx.remote.connectData_")},LL=function(m){g.Qv("yt.mdx.remote.connectData_",m)},rX=function(){return g.sn("yt.mdx.remote.connection_")},wX=function(m){const F=rX();
LL(null);m||tTR("");g.Qv("yt.mdx.remote.connection_",m);H7&&(g.eC(H7,function(L){L(m)}),H7.length=0);
F&&!m?D_("yt-remote-connection-change",!1):!F&&m&&D_("yt-remote-connection-change",!0)},uY=function(){const m=g.Gk();
if(!m)return null;var F=JT();if(!F)return null;F=F.Xu();return e8(F,m)},lY=function(m,F){Cf();
A8()&&A8();if(In)GY=m;else{tTR(m.id);var L=g.sn("yt.mdx.remote.enableConnectWithInitialState_")||!1;m=new Rn(m,L);m.connect(F,E$m());m.subscribe("beforeDisconnect",function(u){D_("yt-remote-before-disconnect",u)});
m.subscribe("beforeDispose",function(){rX()&&(rX(),wX(null))});
m.subscribe("browserChannelAuthError",()=>{const u=A8();u&&u.idType=="shortLived"&&(Ds()?z3().handleBrowserChannelAuthError():i9("refreshLoungeToken called before API ready."))});
wX(m)}},MTq=function(){const m=uY();
m?(mE("Resume connection to: "+j8(m)),lY(m,0)):(Ym(),AIm(),mE("Skipping connecting because no session screen found."))},fet=function(){var m=qG();
if(g.qT(m)){m=gP();var F=g.rc("yt-remote-session-name")||"";const L=g.rc("yt-remote-session-app")||"";m={device:"REMOTE_CONTROL",id:m,name:F,app:L,mdxVersion:3};m.authuser=String(g.k("SESSION_INDEX","0"));(F=g.k("DELEGATED_SESSION_ID"))&&(m.pageId=String(F));g.Qv("yt.mdx.remote.channelParams_",m)}},qG=function(){return g.sn("yt.mdx.remote.channelParams_")||{}},Ux8=function(m,F){if($O(m)){m.qs.unsubscribe("remotePlayerChange",m.O,m);
const L=Math.round(F.volume);F=!!F.muted;const u=tT(m.qs);if(L!==u.volume||F!==u.muted)m.qs.setVolume(L,F),m.T.start();m.qs.subscribe("remotePlayerChange",m.O,m)}},$O=function(m){return tT(m.qs).videoId===eN(m).videoId},PA=function(m,F){let L,u;
var q=m.Y.getPlaylist();q?.listId&&(L=q.index,u=q.listId.toString());q=eN(m);m.qs.playVideo(q.videoId,F,L,u,q.playerParams,q.hF,F3t(q));m.ul(new g.W4(1))},iY=function(m,F){if($O(m)&&!m.j){let L=null;
F&&(L={style:m.Y.getSubtitlesUserSettings()},Object.assign(L,F));m.qs.Z(eN(m).videoId,L);m.V=tT(m.qs).trackData}},k1f=function(m,F){if(F){const L=m.Y.getOption("captions","tracklist",{X$:1});
L&&L.length?(m.Y.setOption("captions","track",F),m.j=!1):(m.Y.loadModule("captions"),m.j=!0)}else m.Y.setOption("captions","track",{})},hdC=function(m){m.sM(0);
m.B.stop();m.ul(new g.W4(64))},eN=function(m){return m.Y.getVideoData({playerType:1})},WYZ=function(m){const F=m.player.K();
return!F.N("mdx_enable_privacy_disclosure_ui")||m.isLoggedIn()||m.Q2||!m.Bc?!1:g.mm(F)||g.u3(F)},O4G=function(m,F,L){m.FZ=L;
m.player.publish("presentingplayerstatechange",new g.JF(L,F))},gX=function(m,F,...L){m.loaded&&m.wy.I_(F,...L)},zY=function(m){m.M7&&(m.player.removeEventListener("presentingplayerstatechange",m.M7),m.M7=null)},YO=function(m,F){if(F.key!==m.I1.key)if(F.key===m.kh.key)vA();
else if(WYZ(m)&&QbR(m),m.I1=F,!g.Qf(m.player.K())){{const A=m.player.getPlaylistId();var L=m.player.getVideoData({playerType:1});const r=L.videoId;if(!A&&!r||(m.player.getAppState()===2||m.player.getAppState()===1)&&m.player.K().N("should_clear_video_data_on_player_cued_unstarted"))L=null;else{var u=m.player.getPlaylist();if(u){var q=[];for(let y=0;y<u.length;y++)q[y]=g.R4(u,y).videoId}else q=[r];u=m.player.getCurrentTime(1);m={videoIds:q,listId:A,videoId:r,playerParams:L.playerParams,clickTrackingParams:L.hF,
index:Math.max(m.player.getPlaylistIndex(),0),currentTime:u===0?void 0:u};(L=F3t(L))&&(m.locationInfo=L);L=m}}mE("Connecting to: "+g.gJ(F));F.key=="cast-selector-receiver"?(LL(L||null),F=L||null,Ds()?z3().setLaunchParams(F):i9("setLaunchParams called before ready.")):!L&&Vd()&&Cf()==F.key?D_("yt-remote-connection-change",!0):(vA(),LL(L||null),L=JT().Xu(),(F=e8(L,F.key))&&lY(F,1))}},QbR=function(m){m.player.getPlayerStateObject().isPlaying()?m.player.pauseVideo():(m.M7=F=>{!m.Q2&&F.aH(8)&&(m.player.pauseVideo(),
zY(m))},m.player.addEventListener("presentingplayerstatechange",m.M7));
m.Bc&&m.Bc.pA();rX()||(In=!0)};
g.H8.prototype.iI=g.fM(46,function(){this.app.ju().iI()});
g.Mz.prototype.iI=g.fM(45,function(){this.Ta=null});
g.H8.prototype.Tr=g.fM(44,function(m){this.app.ju().Tr(m)});
g.Mz.prototype.Tr=g.fM(43,function(m){this.Ta=m});
g.Qm.prototype.mJ=g.fM(1,function(){return g.lR(this,3)});
g.AE.prototype.mJ=g.fM(0,function(){return g.lR(this,11)});
var sOm=class{constructor(){var m=g.cF();this.B=m;g.wJ(m,"/client_streamz/youtube/living_room/mdx/channel/opened",g.Nx("channel_type"))}X(m){g.j4(this.B,"/client_streamz/youtube/living_room/mdx/channel/opened",m)}},bxC=class{constructor(){var m=g.cF();this.B=m;g.wJ(m,"/client_streamz/youtube/living_room/mdx/channel/closed",g.Nx("channel_type"))}X(m){g.j4(this.B,"/client_streamz/youtube/living_room/mdx/channel/closed",m)}},dtC=class{constructor(){var m=g.cF();this.B=m;g.wJ(m,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.Nx("channel_type"))}X(m){g.j4(this.B,"/client_streamz/youtube/living_room/mdx/channel/message_received",m)}},ct2=class{constructor(){var m=g.cF();this.B=m;g.wJ(m,"/client_streamz/youtube/living_room/mdx/channel/success")}X(){g.j4(this.B,"/client_streamz/youtube/living_room/mdx/channel/success")}},n3e=class{constructor(){var m=g.cF();this.B=m;g.wJ(m,"/client_streamz/youtube/living_room/mdx/channel/error",g.Nx("channel_type"),g.Nx("error_type"))}X(m,F){g.j4(this.B,"/client_streamz/youtube/living_room/mdx/channel/error",
m,F)}},Bvc=class{constructor(){var m=g.cF();this.B=m;g.wJ(m,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}X(){g.j4(this.B,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},Hx6=class{constructor(){var m=g.cF();this.B=m;g.wJ(m,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}X(){g.j4(this.B,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.T=Gq.prototype;
g.T.bE=function(){vi(this);const m=[];for(let F=0;F<this.X.length;F++)m.push(this.B[this.X[F]]);return m};
g.T.z7=function(){vi(this);return this.X.concat()};
g.T.has=function(m){return yS(this.B,m)};
g.T.equals=function(m,F){if(this===m)return!0;if(this.size!=m.size)return!1;F=F||rpc;vi(this);let L;for(let u=0;L=this.X[u];u++)if(!F(this.get(L),m.get(L)))return!1;return!0};
g.T.isEmpty=function(){return this.size==0};
g.T.clear=function(){this.B={};this.y7=this.size=this.X.length=0};
g.T.remove=function(m){return this.delete(m)};
g.T.delete=function(m){return yS(this.B,m)?(delete this.B[m],--this.size,this.y7++,this.X.length>2*this.size&&vi(this),!0):!1};
g.T.get=function(m,F){return yS(this.B,m)?this.B[m]:F};
g.T.set=function(m,F){yS(this.B,m)||(this.size+=1,this.X.push(m),this.y7++);this.B[m]=F};
g.T.forEach=function(m,F){const L=this.z7();for(let u=0;u<L.length;u++){const q=L[u],A=this.get(q);m.call(F,A,q,this)}};
g.T.clone=function(){return new Gq(this)};
g.T.keys=function(){return g.Pn(this.fn(!0)).X()};
g.T.values=function(){return g.Pn(this.fn(!1)).X()};
g.T.entries=function(){const m=this;return Ap8(this.keys(),function(F){return[F,m.get(F)]})};
g.T.fn=function(m){vi(this);let F=0;const L=this.y7,u=this,q=new g.aO;q.next=function(){if(L!=u.y7)throw Error("The map has changed since the iterator was created");if(F>=u.X.length)return g.SU;const A=u.X[F++];return g.DT(m?A:u.B[A])};
return q};
var lDq={G_:"atp",fCR:"ska",VY9:"que",T4:"mus",WPW:"sus",BB:"dsp",LPb:"seq",CB:"mic",v5:"dpa",mX:"mlm",H5:"dsdtr",XT:"ntb",AWN:"vsp",Lp:"scn",lCY:"rpe",B5:"dcn",b7:"dcp",jL:"pas",IS:"drq",vE:"opf",NQ:"els",j2:"isg",iu0:"svq",Pt:"mvp",GH:"ads",gCF:"stcp",KPR:"sads",GZ:"dloc",kT:"dcw",H6:"asw",IT:"apw",VO:"wrc",nM:"pcw",h3:"ipv",HE:"ndt",Wk:"ctops",yF:"gsrm"},wMC={iIu:"u",Zy:"cl",I2:"k",Zu:"i",qA:"cr",qE:"m",RS:"g",jZ:"up"},CMq={I4:"adPlaying",Xg:"onAdStateChange"},mdR={GS:"nowPlaying",O8:"onStateChange",
I4:"adPlaying",Xg:"onAdStateChange",zt:"nowPlayingShorts",Be:"onShortsStateChange"},F8C={zt:"nowPlayingShorts",Be:"onShortsStateChange"};lP.prototype.equals=function(m){return m?this.id==m.id:!1};
var iP="",a_=null,xBZ=Tie("loadCastFramework")||Tie("loadCastApplicationFramework"),ZFc=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.Gt(fO,g.qt);g.T=fO.prototype;g.T.o4=function(m){this.V=arguments;this.X=!1;this.KA?this.G=g.Af()+this.CY:this.KA=g.qc(this.O,this.CY)};
g.T.stop=function(){this.KA&&(g.On.clearTimeout(this.KA),this.KA=null);this.G=null;this.X=!1;this.V=[]};
g.T.pause=function(){++this.B};
g.T.resume=function(){this.B&&(--this.B,!this.B&&this.X&&(this.X=!1,this.j.apply(null,this.V)))};
g.T.IW=function(){this.stop();fO.Kw.IW.call(this)};
g.T.A0=function(){this.KA&&(g.On.clearTimeout(this.KA),this.KA=null);this.G?(this.KA=g.qc(this.O,this.G-g.Af()),this.G=null):this.B?this.X=!0:(this.X=!1,this.j.apply(null,this.V))};var Mp=null;xm.prototype.set=function(m){this.X=m};
xm.prototype.reset=function(){this.set(g.Af())};
xm.prototype.get=function(){return this.X};g.Gt(XMf,oDt);var qj=class{stringify(m){return g.On.JSON.stringify(m,void 0)}parse(m){return g.On.JSON.parse(m,void 0)}};g.Gt(Z_,g.rL);g.Gt(S8,g.rL);var tO2=null;g.Gt(ED8,g.rL);g.Gt(UBt,g.rL);g.Gt(kGZ,g.rL);UH.prototype.debug=function(){};
UH.prototype.info=function(){};
UH.prototype.warning=function(){};var bF8={},sH={};g.T=km.prototype;g.T.setTimeout=function(m){this.FN=m};
g.T.CF=function(m){m=m.target;const F=this.sR;F&&g.Zl(m)==3?F.V():this.hE(m)};
g.T.hE=function(m){try{if(m==this.X)a:{const q=g.Zl(this.X),A=this.X.B,r=this.X.getStatus();if(!(q<3)&&(q!=3||this.X&&(this.B.B||g.X7(this.X)||g.tR(this.X)))){this.M0||q!=4||A==7||(A==8||r<=0?X8(3):X8(2));bP(this);var F=this.X.getStatus();this.aW=F;var L=smq(this);if(this.j=F==200){if(this.Pb&&!this.xC){b:{if(this.X){const y=g.US(this.X,"X-HTTP-Initial-Response");if(y&&!g.iB(y)){var u=y;break b}}u=null}if(m=u)this.xC=!0,FI(this,m);else{this.j=!1;this.O=3;t6(12);OH(this);QS(this);break a}}if(this.Hb){m=
!0;let y;for(;!this.M0&&this.L<L.length;)if(y=cpc(this,L),y==sH){q==4&&(this.O=4,t6(14),m=!1);break}else if(y==bF8){this.O=4;t6(15);m=!1;break}else FI(this,y);Qmm(this)&&this.L!=0&&(this.B.X=this.B.X.slice(this.L),this.L=0);q!=4||L.length!=0||this.B.B||(this.O=1,t6(16),m=!1);this.j=this.j&&m;m?L.length>0&&!this.T0&&(this.T0=!0,this.G.MF(this)):(OH(this),QS(this))}else FI(this,L);q==4&&OH(this);this.j&&!this.M0&&(q==4?nD8(this.G,this):(this.j=!1,Wi(this)))}else g.ES(this.X),F==400&&L.indexOf("Unknown SID")>
0?(this.O=3,t6(12)):(this.O=0,t6(13)),OH(this),QS(this)}}}catch(q){}finally{}};
g.T.cancel=function(){this.M0=!0;OH(this)};
g.T.KF=function(){this.XN=null;const m=Date.now();m-this.Cu>=0?(this.OR!=2&&(X8(3),t6(17)),OH(this),this.O=2,QS(this)):dBZ(this,this.Cu-m)};
g.T.getLastError=function(){return this.O};
g.T.Cb=function(){return this.X};var sb6=class{constructor(m,F){this.X=m;this.map=F;this.context=null}};Crt.prototype.cancel=function(){this.G=Lj(this);if(this.B)this.B.cancel(),this.B=null;else if(this.X&&this.X.size!==0){for(const m of this.X.values())m.cancel();this.X.clear()}};g.T=qlZ.prototype;g.T.X4=8;g.T.o9=1;g.T.connect=function(m,F,L,u){t6(0);this.j0=m;this.M0=F||{};L&&u!==void 0&&(this.M0.OSID=L,this.M0.OAID=u);this.sR=this.Ou;this.tF=Bi6(this,null,this.j0);m9(this)};
g.T.disconnect=function(){Atm(this);if(this.o9==3){var m=this.JF++,F=this.tF.clone();g.m1(F,"SID",this.V);g.m1(F,"RID",m);g.m1(F,"TYPE","terminate");yI(this,F);m=new km(this,this.V,m);m.OR=2;m.Z=uP(F.clone());F=!1;if(g.On.navigator&&g.On.navigator.sendBeacon)try{F=g.On.navigator.sendBeacon(m.Z.toString(),"")}catch{}!F&&g.On.Image&&((new Image).src=m.Z,F=!0);F||(m.X=OFG(m.G,null),m.X.send(m.Z));m.hF=Date.now();Wi(m)}wY2(this)};
g.T.Nw=function(){return this.o9==0};
g.T.getState=function(){return this.o9};
g.T.bz=function(m){if(this.j)if(this.j=null,this.o9==1){if(!m){this.JF=Math.floor(Math.random()*1E5);m=this.JF++;const q=new km(this,"",m);let A=this.W;this.Pb&&(A?(A=g.Gb(A),g.Va(A,this.Pb)):A=this.Pb);this.L!==null||this.Cu||(q.tF=A,A=null);if(this.RW)a:{var F=0;for(var L=0;L<this.G.length;L++){b:{var u=this.G[L];if("__data__"in u.map&&(u=u.map.__data__,typeof u==="string")){u=u.length;break b}u=void 0}if(u===void 0)break;F+=u;if(F>4096){F=L;break a}if(F===4096||L===this.G.length-1){F=L+1;break a}}F=
this.Dc}else F=this.Dc;F=G6e(this,q,F);L=this.tF.clone();g.m1(L,"RID",m);g.m1(L,"CVER",22);this.Hb&&g.m1(L,"X-HTTP-Session-Id",this.Hb);yI(this,L);A&&(this.Cu?F="headers="+g.gl(g.A2(A))+"&"+F:this.L&&g.r1(L,this.L,A));CO(this.B,q);this.cn&&g.m1(L,"TYPE","init");this.RW?(g.m1(L,"$req",F),g.m1(L,"SID","null"),q.Pb=!0,h6(q,L,null)):h6(q,L,F);this.o9=2}}else this.o9==3&&(m?v3f(this,m):this.G.length==0||mtq(this.B)||v3f(this))};
g.T.Bo=function(){this.Z=null;lT8(this);if(this.tW&&!(this.FN||this.X==null||this.FI<=0)){var m=4*this.FI;this.b9=EH((0,g.FZ)(this.Ur,this),m)}};
g.T.Ur=function(){this.b9&&(this.b9=null,this.sR=!1,this.FN=!0,t6(10),nO(this),lT8(this))};
g.T.MF=function(m){this.X==m&&this.tW&&!this.FN&&(rS(this),this.FN=!0,t6(11))};
g.T.pF=function(){this.XN!=null&&(this.XN=null,nO(this),Bi(this),t6(19))};
g.T.YI=function(m){m?t6(2):t6(1)};
g.T.isActive=function(){return!!this.O&&this.O.isActive(this)};
g.T=jOf.prototype;g.T.VX=function(){};
g.T.Ho=function(){};
g.T.If=function(){};
g.T.GA=function(){};
g.T.isActive=function(){return!0};
g.T.cX=function(){};g.Gt(vx,g.NK);vx.prototype.open=function(){this.X.O=this.G;this.L&&(this.X.xC=!0);this.X.connect(this.j,this.B||void 0)};
vx.prototype.close=function(){this.X.disconnect()};
vx.prototype.send=function(m){var F=this.X;if(typeof m==="string"){var L={};L.__data__=m;m=L}else this.O&&(L={},L.__data__=g.gJ(m),m=L);F.G.push(new sb6(F.VV++,m));F.o9==3&&m9(F)};
vx.prototype.IW=function(){this.X.O=null;delete this.G;this.X.disconnect();delete this.X;vx.Kw.IW.call(this)};
g.Gt(RUf,Z_);g.Gt($tm,S8);g.Gt(GS,jOf);GS.prototype.VX=function(){this.X.dispatchEvent("m")};
GS.prototype.Ho=function(m){this.X.dispatchEvent(new RUf(m))};
GS.prototype.If=function(m){this.X.dispatchEvent(new $tm(m))};
GS.prototype.GA=function(){this.X.dispatchEvent("n")};
vx.prototype.V=function(){return new lp(this,this.X)};
lp.prototype.B=function(){return Hi(this.X.B)};
lp.prototype.G=function(){return Vaq(this.X).map(m=>{var F=this.V;m=m.map;"__data__"in m?(m=m.__data__,F=F.O?uJ6(m):m):F=m;return F})};
lp.prototype.commit=function(m){this.X.aW=m};var VI=new g.NK,eUC=class extends g.rL{constructor(){super("statevent",VI)}};g.T=I7.prototype;g.T.IQ=null;g.T.K5=!1;g.T.cI=null;g.T.UH=null;g.T.vp=null;g.T.Qp=null;g.T.Ia=null;g.T.OZ=null;g.T.H_=null;g.T.Ig=null;g.T.eO=0;g.T.j6=null;g.T.EZ=null;g.T.Cd=null;g.T.Vu=-1;g.T.U4=!0;g.T.Hp=!1;g.T.EH=0;g.T.MY=null;var g3C={},eW={};g.T=I7.prototype;g.T.setTimeout=function(m){this.B=m};
g.T.nF=function(m){m=m.target;const F=this.MY;F&&g.Zl(m)==3?F.V():this.lz(m)};
g.T.lz=function(m){try{if(m==this.Ig)a:{const F=g.Zl(this.Ig),L=this.Ig.B,u=this.Ig.getStatus();if(g.R2&&!g.k7("420+")){if(F<4)break a}else if(F<3||F==3&&!g.X7(this.Ig))break a;this.Hp||F!=4||L==7||(L==8||u<=0?this.X.PG(3):this.X.PG(2));aTe(this);const q=this.Ig.getStatus();this.Vu=q;const A=g.X7(this.Ig);if(this.K5=q==200){F==4&&ip(this);if(this.Hb){for(m=!0;!this.Hp&&this.eO<A.length;){const r=zUZ(this,A);if(r==eW){F==4&&(this.Cd=4,jW(),m=!1);break}else if(r==g3C){this.Cd=4;jW();m=!1;break}else DtG(this,
r)}F==4&&A.length==0&&(this.Cd=1,jW(),m=!1);this.K5=this.K5&&m;m||(ip(this),Px(this))}else DtG(this,A);this.K5&&!this.Hp&&(F==4?this.X.YL(this):(this.K5=!1,$T(this)))}else this.Cd=q==400&&A.indexOf("Unknown SID")>0?3:0,jW(),ip(this),Px(this)}}catch(F){}finally{}};
g.T.cancel=function(){this.Hp=!0;ip(this)};
g.T.Dv=function(){this.cI=null;const m=Date.now();m-this.UH>=0?(this.Qp!=2&&this.X.PG(3),ip(this),this.Cd=2,jW(),Px(this)):YlR(this,this.UH-m)};
g.T.getLastError=function(){return this.Cd};g.T=pY2.prototype;g.T.sH=null;g.T.W1=null;g.T.pX=!1;g.T.jp=null;g.T.WM=null;g.T.zx=-1;g.T.UZ=null;g.T.FE=null;g.T.connect=function(m){this.jp=m;m=zS(this.X,null,this.jp);jW();Date.now();const F=this.X.W;F!=null?(this.UZ=F[0],(this.FE=F[1])?(this.WM=1,KKc(this)):(this.WM=2,DK(this))):(qp(m,"MODE","init"),this.W1=new I7(this),this.W1.IQ=this.sH,R7(this.W1,m,!1,null,!0),this.WM=0)};
g.T.MI=function(m){if(m)this.WM=2,DK(this);else{jW();var F=this.X;F.CT=F.bf.zx;ZK(F,9)}m&&this.PG(2)};
g.T.xL=function(m){return this.X.xL(m)};
g.T.abort=function(){this.W1&&(this.W1.cancel(),this.W1=null);this.zx=-1};
g.T.Nw=function(){return!1};
g.T.kK=function(m,F){this.zx=m.Vu;if(this.WM==0)if(F){try{var L=this.B.parse(F)}catch(u){m=this.X;m.CT=this.zx;ZK(m,2);return}this.UZ=L[0];this.FE=L[1]}else m=this.X,m.CT=this.zx,ZK(m,2);else this.WM==2&&(this.pX?(jW(),Date.now()):F=="11111"?(jW(),this.pX=!0,Date.now(),this.zx=200,this.W1.cancel(),jW(),a7(this.X,this,!0)):(jW(),Date.now(),this.pX=!1))};
g.T.YL=function(){this.zx=this.W1.Vu;if(this.W1.K5)this.WM==0?this.FE?(this.WM=1,KKc(this)):(this.WM=2,DK(this)):this.WM==2&&(this.pX?(jW(),a7(this.X,this,!0)):(jW(),a7(this.X,this,!1)));else{this.WM==0?jW():this.WM==2&&jW();var m=this.X;this.W1.getLastError();m.CT=this.zx;ZK(m,2)}};
g.T.l5=function(){return this.X.l5()};
g.T.isActive=function(){return this.X.isActive()};
g.T.PG=function(m){this.X.PG(m)};g.T=TS.prototype;g.T.Ru=null;g.T.kG=null;g.T.Xf=null;g.T.rb=null;g.T.LW=null;g.T.xV=null;g.T.M2=null;g.T.Nj=null;g.T.MG=0;g.T.WX=0;g.T.AK=null;g.T.C5=null;g.T.hY=null;g.T.v_=null;g.T.bf=null;g.T.rQ=null;g.T.WI=-1;g.T.O0=-1;g.T.CT=-1;g.T.rp=0;g.T.D6=0;g.T.V1=8;var b4c={OK:0,tYF:2,J3:4,IF:5,FEb:6,STOP:7,u2:8,l3:9,Hk:10,vk:11,v6:12};g.Gt(xtm,g.rL);g.Gt(MaR,g.rL);g.T=TS.prototype;
g.T.connect=function(m,F,L,u,q){jW();this.LW=F;this.kG=L||{};u&&q!==void 0&&(this.kG.OSID=u,this.kG.OAID=q);this.Z?(wS((0,g.FZ)(this.j3,this,m),100),Zx8(this)):this.j3(m)};
g.T.disconnect=function(){Slm(this);if(this.X==3){var m=this.MG++;const F=this.xV.clone();g.m1(F,"SID",this.V);g.m1(F,"RID",m);g.m1(F,"TYPE","terminate");xT(this,F);m=new I7(this,this.V,m);m.Qp=2;m.Ia=uP(F.clone());(new Image).src=m.Ia.toString();m.vp=Date.now();$T(m)}hUN(this)};
g.T.j3=function(m){this.bf=new pY2(this);this.bf.sH=this.Ru;this.bf.B=this.O;this.bf.connect(m)};
g.T.Nw=function(){return this.X==0};
g.T.getState=function(){return this.X};
g.T.tE=function(m){this.C5=null;taG(this,m)};
g.T.QX=function(){this.hY=null;this.rb=new I7(this,this.V,"rpc",this.L);this.rb.IQ=this.Ru;this.rb.EH=0;var m=this.M2.clone();g.m1(m,"RID","rpc");g.m1(m,"SID",this.V);g.m1(m,"CI",this.rQ?"0":"1");g.m1(m,"AID",this.WI);xT(this,m);g.m1(m,"TYPE","xmlhttp");R7(this.rb,m,!0,this.Nj,!1)};
g.T.kK=function(m,F){if(this.X!=0&&(this.rb==m||this.Xf==m))if(this.CT=m.Vu,this.Xf==m&&this.X==3)if(this.V1>7){try{var L=this.O.parse(F)}catch(u){L=null}if(Array.isArray(L)&&L.length==3)if(m=L,m[0]==0)a:{if(!this.hY){if(this.rb)if(this.rb.vp+3E3<this.Xf.vp)pj(this),this.rb.cancel(),this.rb=null;else break a;Mj(this);jW()}}else this.O0=m[1],0<this.O0-this.WI&&m[2]<37500&&this.rQ&&this.D6==0&&!this.v_&&(this.v_=wS((0,g.FZ)(this.R4,this),6E3));else ZK(this,11)}else F!="y2f%"&&ZK(this,11);else if(this.rb==
m&&pj(this),!g.iB(F))for(m=this.O.parse(F),F=0;F<m.length;F++)L=m[F],this.WI=L[0],L=L[1],this.X==2?L[0]=="c"?(this.V=L[1],this.Nj=L[2],L=L[3],L!=null?this.V1=L:this.V1=6,this.X=3,this.AK&&this.AK.U0(),this.M2=zS(this,this.l5()?this.Nj:null,this.LW),E3c(this)):L[0]=="stop"&&ZK(this,7):this.X==3&&(L[0]=="stop"?ZK(this,7):L[0]!="noop"&&this.AK&&this.AK.ew(L),this.D6=0)};
g.T.R4=function(){this.v_!=null&&(this.v_=null,this.rb.cancel(),this.rb=null,Mj(this),jW())};
g.T.YL=function(m){if(this.rb==m){pj(this);this.rb=null;var F=2}else if(this.Xf==m)this.Xf=null,F=1;else return;this.CT=m.Vu;if(this.X!=0)if(m.K5)if(F==1){F=m.H_?m.H_.length:0;m=Date.now()-m.vp;var L=VI;L.dispatchEvent(new xtm(L,F,m,this.rp));Nj(this);this.AK&&this.AK.xK(this,this.G);this.G.length=0}else E3c(this);else{L=m.getLastError();var u;if(!(u=L==3||L==7||L==0&&this.CT>0)){if(u=F==1)this.Xf||this.C5||this.X==1||this.rp>=2?u=!1:(this.C5=wS((0,g.FZ)(this.tE,this,m),Utm(this,this.rp)),this.rp++,
u=!0);u=!(u||F==2&&Mj(this))}if(u)switch(L){case 1:ZK(this,5);break;case 4:ZK(this,10);break;case 3:ZK(this,6);break;case 7:ZK(this,12);break;default:ZK(this,2)}}};
g.T.rT=function(m){if(!g.NN(arguments,this.X))throw Error("Unexpected channel state: "+this.X);};
g.T.sF=function(m){m?jW():(jW(),k6R(this,8))};
g.T.xL=function(m){if(m)throw Error("Can't create secondary domain capable XhrIo object.");m=new g.Nc;m.L=!1;return m};
g.T.isActive=function(){return!!this.AK&&this.AK.isActive(this)};
g.T.PG=function(m){const F=VI;F.dispatchEvent(new MaR(F,m))};
g.T.l5=function(){return!1};
new XMf;g.T=WKR.prototype;g.T.U0=function(){};
g.T.ew=function(){};
g.T.xK=function(){};
g.T.E0=function(){};
g.T.Jq=function(){};
g.T.s0=function(){return{}};
g.T.isActive=function(){return!0};g.T=Oxt.prototype;g.T.enqueue=function(m){this.B.push(m)};
g.T.isEmpty=function(){return this.X.length===0&&this.B.length===0};
g.T.clear=function(){this.X=[];this.B=[]};
g.T.contains=function(m){return g.NN(this.X,m)||g.NN(this.B,m)};
g.T.remove=function(m){{var F=this.X;const L=Array.prototype.lastIndexOf.call(F,m,F.length-1);L>=0?(g.Kc(F,L),F=!0):F=!1}return F||g.fc(this.B,m)};
g.T.bE=function(){const m=[];for(var F=this.X.length-1;F>=0;--F)m.push(this.X[F]);F=this.B.length;for(let L=0;L<F;++L)m.push(this.B[L]);return m};var cI8=class extends g.rL{constructor(m){super("channelMessage");this.message=m}},dxN=class extends g.rL{constructor(m){super("channelError");this.error=m}};g.Gt(SW,g.qt);g.T=SW.prototype;g.T.SC=function(){this.retryCount++;this.CY=Math.min(3E5,this.CY*2);this.B();this.nV&&this.start()};
g.T.mJ=function(){return this.retryCount};
g.T.start=function(){const m=this.CY+15E3*Math.random();this.X.wJ(m);this.nV=Date.now()+m};
g.T.stop=function(){this.X.stop();this.nV=0};
g.T.isActive=function(){return this.X.isActive()};
g.T.reset=function(){this.X.stop();this.retryCount=0;this.CY=5E3};g.Gt(o7,WKR);g.T=o7.prototype;g.T.subscribe=function(m,F,L){return this.Z.subscribe(m,F,L)};
g.T.unsubscribe=function(m,F,L){return this.Z.unsubscribe(m,F,L)};
g.T.iU=function(m){return this.Z.iU(m)};
g.T.publish=function(m,F){return this.Z.publish.apply(this.Z,arguments)};
g.T.dispose=function(){this.W||(this.W=!0,g.Lx(this.Z),this.disconnect(),g.Lx(this.B),this.B=null,this.tF=()=>"",this.xC=()=>g.kE({}))};
g.T.jY=function(){return this.W};
g.T.connect=async function(m,F,L){try{this.L&&await this.O}finally{if(this.W||this.X&&this.X.getState()==2&&!this.G)return;this.Hb="";this.G||this.B.stop();this.T=m||null;this.XN=F||0;const u=this.sR+"/test",q=this.sR+"/bind";m=new TS(L?L.firstTestResults:null,L?L.secondTestResults:null,this.SY);const A=this.X;A&&(A.AK=null);m.AK=this;this.X=m;if(this.L)return this.O=EV(this).then(()=>Jt8(this,u,q,A,L)),this.O.then(()=>{this.O=g.kE()});
Jt8(this,u,q,A,L)}};
g.T.disconnect=function(m){try{this.L&&(this.O.cancel(),this.O=g.kE())}finally{this.b9=m||0,this.B&&this.B.stop(),XI(this),this.X&&(this.X.getState()==3&&taG(this.X),this.X.disconnect()),this.b9=0}};
g.T.sendMessage=async function(m,F){try{this.L&&await this.O}finally{if(this.W)return;const L={_sc:m};F&&g.Va(L,F);if(this.B.isActive()||(this.X?this.X.getState():0)==2)this.V.push(L);else if(this.uX())try{this.L&&!L8e(this,m)&&await EV(this)}finally{this.uX()&&(L8e(this,m)||tm(this),XI(this),Kj(this.X,L))}}};
g.T.U0=function(){this.j&&this.B&&this.B.mJ()>0&&(this.j.XhP(this.B.mJ(),this.G,!0),this.j.BbN());this.j&&this.j.K98();this.G?(this.B.stop(),g.Lx(this.B),this.B=new SW(this.qx,this),this.G=!1):this.B.reset();this.T=null;this.XN=0;if(this.V.length)if(this.L)u$6(this);else{var m=this.V;this.V=[];var F=m.length;tm(this);for(let L=0;L<F;++L)Kj(this.X,m[L]);UV(this);UV(this)}else UV(this)};
g.T.E0=function(m){var F=m==2&&this.X.CT==401;m==4||F||(this.G&&!this.B.isActive()&&(g.Lx(this.B),this.B=new SW(this.qx,this),this.G=!1),this.B.start());this.publish("handlerError",m,F);F=Object.keys(b4c).find(L=>b4c[L]===m);
this.i9.X("BROWSER_CHANNEL",F??"UNKNOWN")};
g.T.Jq=function(m,F){if(!this.B.isActive())this.publish("handlerClosed");else if(F){const L=F.length;for(let u=0;u<L;++u){const q=F[u].map;q&&this.V.push(q)}}this.JF.X("BROWSER_CHANNEL");m&&g.VP(this.tW.B,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",m.length);F&&g.VP(this.FI.B,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",F.length)};
g.T.xK=function(m,F){F!=null&&m!=null&&this.RW.X()};
g.T.s0=function(){const m={v:2};this.Hb&&(m.gsessionid=this.Hb);this.XN!=0&&(m.ui=""+this.XN);this.b9!=0&&(m.ui=""+this.b9);this.T&&g.Va(m,this.T);return m};
g.T.ew=function(m){m[0]=="S"?this.Hb=m[1]:m[0]=="gracefulReconnect"?(this.B.start(),this.X.disconnect()):this.publish("handlerMessage",new QOq(m[0],m[1]));this.FN.X("BROWSER_CHANNEL")};
g.T.uX=function(){return!!this.X&&this.X.getState()==3};
g.T.M4=function(m){(this.hF.loungeIdToken=m)||this.B.stop();if(this.j0&&this.X){const F=this.X.Ru||{};m?F["X-YouTube-LoungeId-Token"]=m:delete F["X-YouTube-LoungeId-Token"];this.X.Ru=F}};
g.T.getDeviceId=function(){return this.hF.id};
g.T.FB=function(){return this.B.isActive()?this.B.nV-Date.now():NaN};
g.T.Tf=function(){var m=this.B;g.nd(m.X);m.start()};
g.T.qx=function(){this.B.isActive();o3t(this.X)==0&&this.connect(this.T,this.XN)};kT.prototype.sendRequest=function(m,F,L,u,q,A,r){m={format:A?"RAW":"JSON",method:m,context:this,timeout:5E3,withCredentials:!!r,onSuccess:g.qN(this.V,u,!A),onError:g.qN(this.G,q),onTimeout:g.qN(this.O,q)};L&&(m.postParams=L,m.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.Ow(F,m)};
kT.prototype.V=function(m,F,L,u){F?m(u):m({text:L.responseText})};
kT.prototype.G=function(m,F){m(Error("Request error: "+F.status))};
kT.prototype.O=function(m){m(Error("request timed out"))};var vae=class extends g.NK{constructor(m,F){super();this.handler=m();this.handler.subscribe("handlerOpened",this.X,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(L,u)=>{this.onError(u)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.B=F}connect(m,F,L){this.handler.connect(m,F,L)}disconnect(m){this.handler.disconnect(m)}Tf(){this.handler.Tf()}getDeviceId(){return this.handler.getDeviceId()}FB(){return this.handler.FB()}uX(){return this.handler.uX()}X(){this.dispatchEvent("channelOpened");var m=this.handler,F=this.B;g.AW("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!m.X.rQ,sessionId:m.X.V,arrayId:m.X.WI});g.AW("yt-remote-session-screen-id",
F);m=Pi();F=gP();g.NN(m,F)||m.push(F);Prf(m);zq()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(m){this.dispatchEvent(new cI8(m))}onError(m){this.dispatchEvent(new dxN(m?1:0))}sendMessage(m,F){this.handler.sendMessage(m,F)}M4(m){this.handler.M4(m)}dispose(){this.handler.dispose()}};var GZq=class{constructor(m,F,L=()=>""){new ITc;
var u=new g.Nf;this.pathPrefix=m;this.X=F;this.hF=L;this.O=u;this.Z=null;this.W=this.L=0;this.channel=null;this.j=0;this.G=new SW(()=>{this.G.isActive();this.channel?.V().B()===0&&this.connect(this.Z,this.L)});
this.V={};this.B={};this.XN=!1;this.logger=null;this.T=[];this.k5=void 0;this.tF=new sOm;this.b9=new bxC;this.M0=new dtC;this.Hb=new n3e}connect(m={},F=0){this.j!==2&&(this.G.stop(),this.Z=m,this.L=F,Wx(this),(m=g.k("ID_TOKEN"))?this.V["x-youtube-identity-token"]=m:delete this.V["x-youtube-identity-token"],this.X&&(this.B.device=this.X.device,this.B.name=this.X.name,this.B.app=this.X.app,this.B.id=this.X.id,this.X.TU&&(this.B.mdxVersion=`${this.X.TU}`),this.X.theme&&(this.B.theme=this.X.theme),this.X.capabilities&&
(this.B.capabilities=this.X.capabilities),this.X.F1&&(this.B.cst=this.X.F1),this.X.authuser&&(this.B.authuser=this.X.authuser),this.X.pageId&&(this.B.pageId=this.X.pageId)),this.L!==0?this.B.ui=`${this.L}`:delete this.B.ui,Object.assign(this.B,this.Z),this.channel=new vx(this.pathPrefix,{GU:"gsessionid",g5:this.V,uy:this.B}),this.channel.open(),this.j=2,rGe(this))}disconnect(m=0){this.W=m;this.G.stop();Wx(this);this.channel&&(this.W!==0?this.B.ui=`${this.W}`:delete this.B.ui,this.channel.close());
this.W=0}FB(){return this.G.isActive()?this.G.nV-Date.now():NaN}Tf(){var m=this.G;g.nd(m.X);m.start()}sendMessage(m,F){this.channel&&(Wx(this),this.channel.send({_sc:m,...F}))}M4(m){m||this.G.stop();m?this.V["X-YouTube-LoungeId-Token"]=m:delete this.V["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.X?this.X.id:""}publish(m,...F){return this.O.publish(m,...F)}subscribe(m,F,L){return this.O.subscribe(m,F,L)}unsubscribe(m,F,L){return this.O.unsubscribe(m,F,L)}iU(m){return this.O.iU(m)}dispose(){this.XN||
(this.XN=!0,g.Lx(this.O),this.disconnect(),g.Lx(this.G),this.hF=()=>"")}jY(){return this.XN}};var yGG=class extends g.NK{constructor(m){super();this.X=m();this.X.subscribe("webChannelOpened",this.B,this);this.X.subscribe("webChannelClosed",this.onClosed,this);this.X.subscribe("webChannelError",this.onError,this);this.X.subscribe("webChannelMessage",this.onMessage,this)}connect(m,F){this.X.connect(m,F)}disconnect(m){this.X.disconnect(m)}Tf(){this.X.Tf()}getDeviceId(){return this.X.getDeviceId()}FB(){return this.X.FB()}uX(){return this.X.j===3}B(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(m){this.dispatchEvent(new cI8(m))}onError(){this.dispatchEvent(new dxN(this.X.k5===
401?1:0))}sendMessage(m,F){this.X.sendMessage(m,F)}M4(m){this.X.M4(m)}dispose(){this.X.dispose()}};var eff=Date.now(),OV=null,cx=Array(50),bp=-1,dS=!1;g.Gt(nj,g.LD);nj.prototype.Xu=function(){return this.screens};
nj.prototype.contains=function(m){return!!$m(this.screens,m)};
nj.prototype.get=function(m){return m?e8(this.screens,m):null};
nj.prototype.info=function(m){QI(this.j,m)};var BEt=class extends g.LD{constructor(m,F,L,u,q){super();this.V=m;this.T=F;this.Z=L;this.XN=u;this.W=q;this.B=0;this.X=null;this.KA=NaN}start(){!this.X&&isNaN(this.KA)&&this.G()}stop(){this.X&&(this.X.abort(),this.X=null);isNaN(this.KA)||(g.Si(this.KA),this.KA=NaN)}IW(){this.stop();super.IW()}G(){this.KA=NaN;this.X=g.Ow(hm(this.V,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.T},timeout:5E3,onSuccess:(0,g.FZ)(this.j,this),onError:(0,g.FZ)(this.O,this),onTimeout:(0,g.FZ)(this.L,
this)})}j(m,F){this.X=null;m=F.screen||{};m.dialId=this.Z;m.name=this.XN;F=-1;this.W&&m.shortLivedLoungeToken&&m.shortLivedLoungeToken.value&&m.shortLivedLoungeToken.refreshIntervalMs&&(m.screenIdType="shortLived",m.loungeToken=m.shortLivedLoungeToken.value,F=m.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new wP(m),F)}O(m){this.X=null;m.status&&m.status==404?this.B>=n$m.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(m=n$m[this.B],this.KA=g.M9((0,g.FZ)(this.G,
this),m),this.B++):this.publish("pairingFailed",Error("Server error "+m.status))}L(){this.X=null;this.publish("pairingFailed",Error("Server not responding"))}},n$m=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.Gt(Hx,nj);g.T=Hx.prototype;g.T.start=function(){Bx(this)&&this.publish("screenChange");!g.rc("yt-remote-lounge-token-expiration")&&zff(this);g.Si(this.X);this.X=g.M9((0,g.FZ)(this.start,this),1E4)};
g.T.add=function(m,F){Bx(this);Pvm(this,m);Jm(this,!1);this.publish("screenChange");F(m);m.token||zff(this)};
g.T.remove=function(m,F){let L=Bx(this);gae(this,m)&&(Jm(this,!1),L=!0);F(m);L&&this.publish("screenChange")};
g.T.DD=function(m,F,L,u){let q=Bx(this);const A=this.get(m.id);A?(A.name!=F&&(A.name=F,Jm(this,!1),q=!0),L(m)):u(Error("no such local screen."));q&&this.publish("screenChange")};
g.T.IW=function(){g.Si(this.X);Hx.Kw.IW.call(this)};
g.T.yk=function(m){Bx(this);let F=this.screens.length;m=m&&m.screens||[];const L=m.length;for(let u=0;u<L;++u){const q=m[u],A=this.get(q.screenId);A&&(A.token=q.loungeToken,--F)}Jm(this,!F);F&&QI(this.j,"Missed "+F+" lounge tokens.")};
g.T.ql=function(m){QI(this.j,"Requesting lounge tokens failed: "+m)};var xdZ=class extends g.LD{constructor(m,F){super();this.j=F;F=(F=g.rc("yt-remote-online-screen-ids")||"")?F.split(","):[];const L={},u=this.j(),q=u.length;for(let A=0;A<q;++A){const r=u[A].id;L[r]=g.NN(F,r)}this.X=L;this.O=m;this.G=this.V=NaN;this.B=null;Cj("Initialized with "+g.gJ(this.X))}start(){const m=parseInt(g.rc("yt-remote-fast-check-period")||"0",10);(this.V=g.Af()-144E5<m?0:m)?mF(this):(this.V=g.Af()+3E5,g.AW("yt-remote-fast-check-period",this.V),this.L())}isEmpty(){return g.qT(this.X)}update(){Cj("Updating availability on schedule.");
const m=this.j(),F=g.bq(this.X,function(L,u){return L&&!!e8(m,u)},this);
Fi(this,F)}IW(){g.Si(this.G);this.G=NaN;this.B&&(this.B.abort(),this.B=null);super.IW()}L(){g.Si(this.G);this.G=NaN;this.B&&this.B.abort();const m=aER(this);if(A6(m)){var F=hm(this.O,"/pairing/get_screen_availability"),L={lounge_token:g.Cc(m).join(",")};this.B=this.O.sendRequest("POST",F,L,(0,g.FZ)(this.W,this,m),(0,g.FZ)(this.Z,this))}else Fi(this,{}),mF(this)}W(m,F){this.B=null;var L=g.Cc(aER(this));if(g.OR(L,g.Cc(m))){F=F.screens||[];L={};var u=F.length;for(let q=0;q<u;++q)L[m[F[q].loungeToken]]=
F[q].status=="online";Fi(this,L);mF(this)}else this.P2("Changing Screen set during request."),this.L()}Z(m){this.P2("Screen availability failed: "+m);this.B=null;mF(this)}P2(m){QI("OnlineScreenService",m)}};g.Gt(u9,nj);g.T=u9.prototype;g.T.start=function(){this.B.start();this.X.start();this.screens.length&&(this.publish("screenChange"),this.X.isEmpty()||this.publish("onlineScreenChange"))};
g.T.add=function(m,F,L){this.B.add(m,F,L)};
g.T.remove=function(m,F,L){this.B.remove(m,F,L);this.X.update()};
g.T.DD=function(m,F,L,u){this.B.contains(m)?this.B.DD(m,F,L,u):(m="Updating name of unknown screen: "+m.name,QI(this.j,m),u(Error(m)))};
g.T.Xu=function(m){return m?this.screens:g.MN(this.screens,g.P2(this.G,function(F){return!this.contains(F)},this))};
g.T.YK=function(){return g.P2(this.Xu(!0),function(m){return!!this.X.X[m.id]},this)};
g.T.jw=function(m,F,L,u,q,A){this.info("getDialScreenByPairingCode "+m+" / "+F);const r=new BEt(this.V,m,F,L,u);r.subscribe("pairingComplete",(y,G)=>{g.Lx(r);q(qS(this,y),G)});
r.subscribe("pairingFailed",y=>{g.Lx(r);A(y)});
r.start();return(0,g.FZ)(r.stop,r)};
g.T.fF=function(m,F,L,u){g.Ow(hm(this.V,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:m},timeout:5E3,onSuccess:(0,g.FZ)(function(q,A){q=new wP(A.screen||{});if(!q.name||p3m(this,q.name)){a:{A=q.name;let r=2,y=F(A,r);for(;p3m(this,y);){r++;if(r>20)break a;y=F(A,r)}A=y}q.name=A}L(qS(this,q))},this),
onError:(0,g.FZ)(function(q){u(Error("pairing request failed: "+q.status))},this),
onTimeout:(0,g.FZ)(function(){u(Error("pairing request timed out."))},this)})};
g.T.IW=function(){g.Lx(this.B);g.Lx(this.X);u9.Kw.IW.call(this)};
g.T.zU=function(){fEC(this);this.publish("screenChange");this.X.update()};
u9.prototype.dispose=u9.prototype.dispose;g.Gt(ry,g.LD);g.T=ry.prototype;g.T.Z9=function(m){this.jY()||(m&&(G3(this,""+m),this.publish("sessionFailed")),this.X=null,this.publish("sessionScreen",null))};
g.T.info=function(m){QI(this.Hb,m)};
g.T.N2=function(){return null};
g.T.m0=function(m){const F=this.B;m?(F.displayStatus=new chrome.cast.ReceiverDisplayStatus(m,[]),F.displayStatus.showStop=!0):F.displayStatus=null;chrome.cast.setReceiverDisplayStatus(F,(0,g.FZ)(function(){this.info("Updated receiver status for "+F.friendlyName+": "+m)},this),(0,g.FZ)(function(){G3(this,"Failed to update receiver status for: "+F.friendlyName)},this))};
g.T.IW=function(){this.m0("");ry.Kw.IW.call(this)};var an=class extends ry{constructor(m,F,L){super(m,F,"CastSession");this.config_=L;this.G=null;this.T=(0,g.FZ)(this.tF,this);this.hF=(0,g.FZ)(this.OR,this);this.XN=g.M9(()=>{oac(this,null)},12E4);
this.Z=this.O=this.L=this.W=0}b9(m){if(this.G){if(this.G==m)return;G3(this,"Overriding cast session with new session object");X3C(this);this.G.removeUpdateListener(this.T);this.G.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.hF)}this.G=m;this.G.addUpdateListener(this.T);this.G.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.hF);t6G(this,"getMdxSessionStatus")}j(m){this.info("launchWithParams no-op for Cast: "+g.gJ(m))}stop(){this.G?this.G.stop((0,g.FZ)(function(){this.Z9()},
this),(0,g.FZ)(function(){this.Z9(Error("Failed to stop receiver app."))},this)):this.Z9(Error("Stopping cast device without session."))}m0(){}IW(){this.info("disposeInternal");
X3C(this);this.G&&(this.G.removeUpdateListener(this.T),this.G.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.hF));this.G=null;super.IW()}OR(m,F){if(!this.jY())if(F)if(F=rP(F),g.HN(F))switch(m=""+F.type,F=F.data||{},this.info("onYoutubeMessage_: "+m+" "+g.gJ(F)),m){case "mdxSessionStatus":oac(this,F);break;case "loungeToken":Eac(this,F);break;default:G3(this,"Unknown youtube message: "+m)}else G3(this,"Unable to parse message.");else G3(this,"No data in message.")}M0(m,F,L,u){g.Si(this.W);
this.W=0;NgR(this.V,this.B.label,m,this.B.friendlyName,(0,g.FZ)(function(q){q?F(q):u>=0?(G3(this,"Screen "+m+" appears to be offline. "+u+" retries left."),this.W=g.M9((0,g.FZ)(this.M0,this,m,F,L,u-1),300)):L(Error("Unable to fetch screen."))},this),L)}N2(){return this.G}tF(m){this.jY()||m||(G3(this,"Cast session died."),this.Z9())}};var H4c=class extends ry{constructor(m,F,L,u){super(m,F,"DialSession");this.config_=u;this.G=this.W=null;this.hF="";this.OR=L;this.tF=null;this.T=()=>{};
this.XN=NaN;this.M0=(0,g.FZ)(this.xC,this);this.O=()=>{};
this.Z=this.L=0}b9(m){this.G=m;this.G.addUpdateListener(this.M0)}j(m){this.tF=m;this.T()}stop(){OUZ(this);this.G?this.G.stop((0,g.FZ)(this.Z9,this,null),(0,g.FZ)(this.Z9,this,"Failed to stop DIAL device.")):this.Z9()}IW(){OUZ(this);this.G&&this.G.removeUpdateListener(this.M0);this.G=null;super.IW()}xC(m){this.jY()||m||(G3(this,"DIAL session died."),this.O(),this.O=()=>{},this.Z9())}};var JIt=class extends ry{constructor(m,F){super(m,F,"ManualSession");this.G=g.M9((0,g.FZ)(this.j,this,null),150)}stop(){this.Z9()}b9(){}j(){g.Si(this.G);this.G=NaN;const m=e8(this.V.Xu(),this.B.label);m?yy(this,m):this.Z9(Error("No such screen"))}IW(){g.Si(this.G);this.G=NaN;super.IW()}};var pf=class extends g.LD{constructor(m,F){super();this.config_=F;this.B=m;this.b9=F.appId||"233637DE";this.V=F.theme||"cl";this.Hb=F.disableCastApi||!1;this.L=F.forceMirroring||!1;this.X=null;this.Z=!1;this.G=[];this.j=(0,g.FZ)(this.tF,this)}init(m,F){chrome.cast.timeout.requestSession=3E4;var L=new chrome.cast.SessionRequest(this.b9,[chrome.cast.Capability.AUDIO_OUT]);g.tw("desktop_enable_cast_connect")&&(L.androidReceiverCompatible=!0);this.Hb||(L.dialRequest=new chrome.cast.DialRequest("YouTube"));
const u=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;m=m||this.L?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const q=(0,g.FZ)(this.OR,this);L=new chrome.cast.ApiConfig(L,(0,g.FZ)(this.W,this),q,u,m);L.customDialLaunchCallback=(0,g.FZ)(this.M0,this);chrome.cast.initialize(L,(0,g.FZ)(function(){this.jY()||(chrome.cast.addReceiverActionListener(this.j),IEm(),this.B.subscribe("onlineScreenChange",(0,g.FZ)(this.O,this)),this.G=na8(this),chrome.cast.setCustomReceivers(this.G,
()=>{},(0,g.FZ)(function(A){this.P2("Failed to set initial custom receivers: "+g.gJ(A))},this)),this.publish("yt-remote-cast2-availability-change",Ix(this)),F(!0))},this),(0,g.FZ)(function(A){this.P2("Failed to initialize API: "+g.gJ(A));
F(!1)},this))}sR(m,F){Rx("Setting connected screen ID: "+m+" -> "+F);
if(this.X){var L=this.X.X;if(!m||L&&L.id!=m)Rx("Unsetting old screen status: "+this.X.B.friendlyName),$L(this,null)}if(m&&F){if(!this.X){m=e8(this.B.Xu(),m);if(!m){Rx("setConnectedScreenStatus: Unknown screen.");return}if(m.idType=="shortLived"){Rx("setConnectedScreenStatus: Screen with id type to be short lived.");return}L=ddC(this,m);L||(Rx("setConnectedScreenStatus: Connected receiver not custom..."),L=new chrome.cast.Receiver(m.uuid?m.uuid:m.id,m.name),L.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.G.push(L),chrome.cast.setCustomReceivers(this.G,()=>{},(0,g.FZ)(function(u){this.P2("Failed to set initial custom receivers: "+g.gJ(u))},this)));
Rx("setConnectedScreenStatus: new active receiver: "+L.friendlyName);$L(this,new JIt(this.B,L),!0)}this.X.m0(F)}else Rx("setConnectedScreenStatus: no screen.")}JF(m){this.jY()?this.P2("Setting connection data on disposed cast v2"):this.X?this.X.j(m):this.P2("Setting connection data without a session")}hF(){this.jY()?this.P2("Stopping session on disposed cast v2"):this.X?(this.X.stop(),$L(this,null)):Rx("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.FZ)(this.W,this),
(0,g.FZ)(this.xC,this))}IW(){this.B.unsubscribe("onlineScreenChange",(0,g.FZ)(this.O,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.j);var m=w3N;const F=g.sn("yt.mdx.remote.debug.handlers_");g.fc(F||[],m);g.Lx(this.X);super.IW()}P2(m){QI("Controller",m)}XN(m,F){this.X==m&&(F||$L(this,null),this.publish("yt-remote-cast2-session-change",F))}tF(m,F){if(!this.jY())if(m)switch(m.friendlyName=chrome.cast.unescape(m.friendlyName),Rx("onReceiverAction_ "+m.label+" / "+m.friendlyName+
"-- "+F),F){case chrome.cast.ReceiverAction.CAST:if(this.X)if(this.X.B.label!=m.label)Rx("onReceiverAction_: Stopping active receiver: "+this.X.B.friendlyName),this.X.stop();else{Rx("onReceiverAction_: Casting to active receiver.");this.X.X&&this.publish("yt-remote-cast2-session-change",this.X.X);break}switch(m.receiverType){case chrome.cast.ReceiverType.CUSTOM:$L(this,new JIt(this.B,m));break;case chrome.cast.ReceiverType.DIAL:$L(this,new H4c(this.B,m,this.V,this.config_));break;case chrome.cast.ReceiverType.CAST:$L(this,
new an(this.B,m,this.config_));break;default:this.P2("Unknown receiver type: "+m.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.X&&this.X.B.label==m.label?this.X.stop():this.P2("Stopping receiver w/o session: "+m.friendlyName)}else this.P2("onReceiverAction_ called without receiver.")}M0(m){if(this.jY())return Promise.reject(Error("disposed"));var F=m.receiver;F.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.P2("Not DIAL receiver: "+F.friendlyName),F.receiverType=chrome.cast.ReceiverType.DIAL);
var L=this.X?this.X.B:null;if(!L||L.label!=F.label)return this.P2("Receiving DIAL launch request for non-clicked DIAL receiver: "+F.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(L&&L.label==F.label&&L.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.X.X)return Rx("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.X.X),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.P2('Changing CAST intent from "'+L.receiverType+'" to "dial" for '+F.friendlyName);
$L(this,new H4c(this.B,F,this.V,this.config_))}F=this.X;F.W=m;F.W.appState==chrome.cast.DialAppState.RUNNING?(m=F.W.extraData||{},L=m.screenId||null,Vy(F)&&m.loungeToken?m.loungeTokenRefreshIntervalMs?m=cGm(F,{name:F.B.friendlyName,screenId:m.screenId,loungeToken:m.loungeToken,dialId:F.W.receiver.label,screenIdType:"shortLived"},m.loungeTokenRefreshIntervalMs):(g.vT(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(m)}.`)),m=sle(F,L)):m=sle(F,L)):m=wy(F);return m}W(m){if(!this.jY()&&
!this.L){Rx("New cast session ID: "+m.sessionId);var F=m.receiver;if(F.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.X)if(F.receiverType==chrome.cast.ReceiverType.CAST)Rx("Got resumed cast session before resumed mdx connection."),F.friendlyName=chrome.cast.unescape(F.friendlyName),$L(this,new an(this.B,F,this.config_),!0);else{this.P2("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var L=this.X.B,u=e8(this.B.Xu(),L.label);u&&VS(u,F.label)&&L.receiverType!=
chrome.cast.ReceiverType.CAST&&F.receiverType==chrome.cast.ReceiverType.CAST&&(Rx("onSessionEstablished_: manual to cast session change "+F.friendlyName),g.Lx(this.X),this.X=new an(this.B,F,this.config_),this.X.subscribe("sessionScreen",(0,g.FZ)(this.XN,this,this.X)),this.X.subscribe("sessionFailed",()=>Bg6(this,this.X)),this.X.j(null));
this.X.b9(m)}}}T(){return this.X?this.X.N2():null}xC(m){this.jY()||(this.P2("Failed to estabilish a session: "+g.gJ(m)),m.code!=chrome.cast.ErrorCode.CANCEL&&$L(this,null),this.publish("yt-remote-cast2-session-failed"))}OR(m){Rx("Receiver availability updated: "+m);if(!this.jY()){var F=Ix(this);this.Z=m==chrome.cast.ReceiverAvailability.AVAILABLE;Ix(this)!=F&&this.publish("yt-remote-cast2-availability-change",Ix(this))}}O(){this.jY()||(this.G=na8(this),Rx("Updating custom receivers: "+g.gJ(this.G)),
chrome.cast.setCustomReceivers(this.G,()=>{},(0,g.FZ)(function(){this.P2("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",Ix(this)))}};
pf.prototype.setLaunchParams=pf.prototype.JF;pf.prototype.setConnectedScreenStatus=pf.prototype.sR;pf.prototype.stopSession=pf.prototype.hF;pf.prototype.getCastSession=pf.prototype.T;pf.prototype.requestSession=pf.prototype.requestSession;pf.prototype.init=pf.prototype.init;pf.prototype.dispose=pf.prototype.dispose;var YL=[],FYG=(0,g.mN)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.T=Kf.prototype;
g.T.reset=function(m){this.listId="";this.index=-1;this.videoId="";ff(this);this.volume=-1;this.muted=!1;m&&(this.index=m.index,this.listId=m.listId,this.videoId=m.videoId,this.playerState=m.playerState,this.volume=m.volume,this.muted=m.muted,this.audioTrackId=m.audioTrackId,this.trackData=m.trackData,this.hasPrevious=m.hasPrevious,this.hasNext=m.hasNext,this.j=m.playerTime,this.O=m.playerTimeAt,this.B=m.seekableStart,this.L=m.seekableEnd,this.G=m.duration,this.loadedTime=m.loadedTime,this.X=m.liveIngestionTime,
this.V=!isNaN(this.X))};
g.T.isPlaying=function(){return this.playerState==1};
g.T.isBuffering=function(){return this.playerState==3};
g.T.Z7=function(m){this.G=isNaN(m)?0:m};
g.T.getDuration=function(){return this.V?this.G+xL(this):this.G};
g.T.clone=function(){return new Kf(ox(this))};var Cof=class extends g.LD{constructor(){var m=rX();super();this.G=0;this.V=m;this.L=[];this.O=new Oxt;this.B=this.X=null;this.T=(0,g.FZ)(this.tF,this);this.W=(0,g.FZ)(this.j,this);this.XN=(0,g.FZ)(this.M0,this);this.Hb=(0,g.FZ)(this.OR,this);let F=0;m?(F=m.getProxyState(),F!=3&&(m.subscribe("proxyStateChange",this.b9,this),v$Z(this))):F=3;F!=0&&g.M9(()=>{this.b9(F)},0);
(m=rIC())&&Xi(this,m);this.subscribe("yt-remote-cast2-session-change",this.Hb)}getState(){return this.G}FB(){return this.V.getReconnectTimeout()}Tf(){this.V.reconnect()}play(){EB(this)?(this.X?this.X.play(null,g.EE,kL(this,"play")):UB(this,"play"),W7(this,1,Zs(tT(this))),this.publish("remotePlayerChange")):OB(this,this.play)}pause(){EB(this)?(this.X?this.X.pause(null,g.EE,kL(this,"pause")):UB(this,"pause"),W7(this,2,Zs(tT(this))),this.publish("remotePlayerChange")):OB(this,this.pause)}seekTo(m){if(EB(this)){if(this.X){const F=
tT(this),L=new chrome.cast.media.SeekRequest;L.currentTime=m;F.isPlaying()||F.isBuffering()?L.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:L.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.X.seek(L,g.EE,kL(this,"seekTo",{newTime:m}))}else UB(this,"seekTo",{newTime:m});W7(this,3,m);this.publish("remotePlayerChange")}else OB(this,g.qN(this.seekTo,m))}stop(){if(EB(this)){this.X?this.X.stop(null,g.EE,kL(this,"stopVideo")):UB(this,"stopVideo");var m=tT(this);m.index=-1;m.videoId=
"";ff(m);hT(this,m);this.publish("remotePlayerChange")}else OB(this,this.stop)}setVolume(m,F){if(EB(this)){var L=tT(this);if(this.B){if(L.volume!=m){const u=Math.round(m)/100;this.B.setReceiverVolumeLevel(u,(0,g.FZ)(function(){sV("set receiver volume: "+u)},this),(0,g.FZ)(function(){this.P2("failed to set receiver volume.")},this))}L.muted!=F&&this.B.setReceiverMuted(F,(0,g.FZ)(function(){sV("set receiver muted: "+F)},this),(0,g.FZ)(function(){this.P2("failed to set receiver muted.")},this))}else{const u=
{volume:m,
muted:F};L.volume!=-1&&(u.delta=m-L.volume);UB(this,"setVolume",u)}L.muted=F;L.volume=m;hT(this,L)}else OB(this,g.qN(this.setVolume,m,F))}Z(m,F){if(EB(this)){var L=tT(this);m={videoId:m};F&&(L.trackData={trackName:F.name,languageCode:F.languageCode,sourceLanguageCode:F.translationLanguage?F.translationLanguage.languageCode:"",languageName:F.languageName,kind:F.kind},m.style=g.gJ(F.style),g.Va(m,L.trackData));UB(this,"setSubtitlesTrack",m);hT(this,L)}else OB(this,g.qN(this.Z,m,F))}setAudioTrack(m,
F){EB(this)?(F=F.getLanguageInfo().getId(),UB(this,"setAudioTrack",{videoId:m,audioTrackId:F}),m=tT(this),m.audioTrackId=F,hT(this,m)):OB(this,g.qN(this.setAudioTrack,m,F))}playVideo(m,F,L,u=null,q=null,A=null,r=null){const y=tT(this),G={videoId:m};L!==void 0&&(G.currentIndex=L);SD(y,m,L||0);F!==void 0&&(MS(y,F),G.currentTime=F);u&&(G.listId=u);q&&(G.playerParams=q);A&&(G.clickTrackingParams=A);r&&(G.locationInfo=g.gJ(r));UB(this,"setPlaylist",G);u||hT(this,y)}jH(m,F){if(EB(this)){if(m&&F){const L=
tT(this);SD(L,m,F);hT(this,L)}UB(this,"previous")}else OB(this,g.qN(this.jH,m,F))}nextVideo(m,F){if(EB(this)){if(m&&F){const L=tT(this);SD(L,m,F);hT(this,L)}UB(this,"next")}else OB(this,g.qN(this.nextVideo,m,F))}Q9(){if(EB(this)){UB(this,"clearPlaylist");var m=tT(this);m.reset();hT(this,m);this.publish("remotePlayerChange")}else OB(this,this.Q9)}hF(){EB(this)?UB(this,"dismissAutoplay"):OB(this,this.hF)}dispose(){if(this.G!=3){const m=this.G;this.G=3;this.publish("proxyStateChange",m,this.G)}super.dispose()}IW(){leC(this);
this.V=null;this.O.clear();Xi(this,null);super.IW()}b9(m){if((m!=this.G||m==2)&&this.G!=3&&m!=0){var F=this.G;this.G=m;this.publish("proxyStateChange",F,m);if(m==1)for(;!this.O.isEmpty();)F=m=this.O,F.X.length===0&&(F.X=F.B,F.X.reverse(),F.B=[]),m.X.pop().apply(this);else m==3&&this.dispose()}}xC(m,F){this.publish(m,F)}tF(m){if(!m)this.j(null),Xi(this,null);else if(this.B.receiver.volume){m=this.B.receiver.volume;const F=tT(this),L=Math.round(100*m.level||0);if(F.volume!=L||F.muted!=m.muted)sV("Cast volume update: "+
m.level+(m.muted?" muted":"")),F.volume=L,F.muted=!!m.muted,hT(this,F)}}j(m){sV("Cast media: "+!!m);this.X&&this.X.removeUpdateListener(this.XN);if(this.X=m)this.X.addUpdateListener(this.XN),wV2(this),this.publish("remotePlayerChange")}M0(m){m?(wV2(this),this.publish("remotePlayerChange")):this.j(null)}Lv(){UB(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}OR(){const m=rIC();m&&Xi(this,m)}P2(m){QI("CP",m)}};var Rn=class extends g.LD{constructor(m,F=!1){var L=B7,u=qG();super();this.j=NaN;this.M0=!1;this.T=this.XN=this.b9=this.Hb=NaN;this.hF=[];this.O=this.Z=this.V=this.X=this.B=null;this.i9=L;this.xC=F;this.hF.push(g.HS(window,"beforeunload",()=>{this.L(2)}));
this.G=[];this.X=new Kf;this.Cu=m.id;this.OR=m.idType;this.B=lEt(this.i9,u,this.tF,this.OR=="shortLived",this.Cu);this.B.listen("channelOpened",()=>{VTG(this)});
this.B.listen("channelClosed",()=>{Qy("Channel closed");isNaN(this.j)?Ym(!0):Ym();this.dispose()});
this.B.listen("channelError",q=>{Ym();isNaN(this.W())?(q==1&&this.OR=="shortLived"&&this.publish("browserChannelAuthError",q),Qy(`Channel error: ${q} without reconnection`),this.dispose()):(this.M0=!0,Qy("Channel error: "+q+" with reconnection in "+this.W()+" ms"),b9(this,2))});
this.B.listen("channelMessage",q=>{DxC(this,q)});
this.B.M4(m.token);this.subscribe("remoteQueueChange",()=>{var q=this.X.videoId;g.Gk()&&g.AW("yt-remote-session-video-id",q)})}connect(m,F){if(F){var L=F.listId;
const u=F.videoId,q=F.videoIds,A=F.playerParams,r=F.clickTrackingParams,y=F.index,G={videoId:u},v=F.currentTime,l=F.locationInfo;F=F.loopMode;v!==void 0&&(G.currentTime=v<=5?0:v);A&&(G.playerParams=A);l&&(G.locationInfo=l);r&&(G.clickTrackingParams=r);L&&(G.listId=L);q&&q.length>0&&(G.videoIds=q.join(","));y!==void 0&&(G.currentIndex=y);this.xC&&(G.loopMode=F||"LOOP_MODE_OFF");L&&(this.X.listId=L);this.X.videoId=u;this.X.index=y||0;this.X.state=3;MS(this.X,v);this.O="UNSUPPORTED";L=this.xC?"setInitialState":
"setPlaylist";Qy(`Connecting with ${L} and params: ${g.gJ(G)}`);this.B.connect({method:L,params:g.gJ(G)},m,iFC())}else Qy("Connecting without params"),this.B.connect({},m,iFC());TEe(this)}M4(m){this.B.M4(m)}dispose(){this.jY()||(g.Qv("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),b9(this,3));super.dispose()}IW(){c7(this);dy(this);sB(this);g.Si(this.XN);this.XN=NaN;g.Si(this.T);this.T=NaN;this.V=null;g.J5(this.hF);this.hF.length=0;this.B.dispose();super.IW();this.O=this.Z=this.G=
this.X=this.B=null}JF(m){if(!this.G||this.G.length===0)return!1;for(const F of this.G)if(!F.capabilities.has(m))return!1;return!0}T0(){let m=3;this.jY()||(m=0,isNaN(this.W())?this.B.uX()&&isNaN(this.j)&&(m=1):m=2);return m}L(m){Qy("Disconnecting with "+m);g.Qv("yt.mdx.remote.remoteClient_",null);c7(this);this.publish("beforeDisconnect",m);m==1&&Ym();this.B.disconnect(m);this.dispose()}Pb(){let m=this.X;this.V&&(m=this.X.clone(),SD(m,this.V,m.index));return ox(m)}XI(m){const F=new Kf(m);F.videoId&&
F.videoId!=this.X.videoId&&(this.V=F.videoId,g.Si(this.XN),this.XN=g.M9(()=>{if(this.V){const u=this.V;this.V=null;this.X.videoId!=u&&nf(this,"getNowPlaying")}},5E3));
const L=[];this.X.listId==F.listId&&this.X.videoId==F.videoId&&this.X.index==F.index||L.push("remoteQueueChange");this.X.playerState==F.playerState&&this.X.volume==F.volume&&this.X.muted==F.muted&&Zs(this.X)==Zs(F)&&g.gJ(this.X.trackData)==g.gJ(F.trackData)||L.push("remotePlayerChange");this.X.reset(m);g.eC(L,function(u){this.publish(u)},this)}sR(){const m=this.B.getDeviceId(),F=g.DC(this.G,function(L){return L.type=="REMOTE_CONTROL"&&L.id!=m});
return F?F.id:""}W(){return this.B.FB()}RW(){return this.O||"UNSUPPORTED"}aW(){return this.Z||""}FN(){!isNaN(this.W())&&this.B.Tf()}SY(m,F){nf(this,m,F);KYq(this)}tF(){var m=g.A5("SAPISID","")||g.A5("__Secure-1PAPISID")||"",F=g.A5("__Secure-3PAPISID","")||"";if(!m&&!F)return"";m=g.hP(g.Ez(m),2);F=g.hP(g.Ez(F),2);return g.hP(g.Ez(`,${m},${F}`),2)}};Rn.prototype.subscribe=Rn.prototype.subscribe;Rn.prototype.unsubscribeByKey=Rn.prototype.iU;Rn.prototype.getProxyState=Rn.prototype.T0;
Rn.prototype.disconnect=Rn.prototype.L;Rn.prototype.getPlayerContextData=Rn.prototype.Pb;Rn.prototype.setPlayerContextData=Rn.prototype.XI;Rn.prototype.getOtherConnectedRemoteId=Rn.prototype.sR;Rn.prototype.getReconnectTimeout=Rn.prototype.W;Rn.prototype.getAutoplayMode=Rn.prototype.RW;Rn.prototype.getAutoplayVideoId=Rn.prototype.aW;Rn.prototype.reconnect=Rn.prototype.FN;Rn.prototype.sendMessage=Rn.prototype.SY;Rn.prototype.getXsrfToken=Rn.prototype.tF;
Rn.prototype.isCapabilitySupportedOnConnectedDevices=Rn.prototype.JF;var XVC=class extends nj{constructor(m){super("ScreenServiceProxy");this.Su=m;this.X=[];this.X.push(this.Su.$_s("screenChange",(0,g.FZ)(this.B,this)));this.X.push(this.Su.$_s("onlineScreenChange",(0,g.FZ)(this.G,this)))}Xu(m){return this.Su.$_gs(m)}contains(m){return!!this.Su.$_c(m)}get(m){return this.Su.$_g(m)}start(){this.Su.$_st()}add(m,F,L){this.Su.$_a(m,F,L)}remove(m,F,L){this.Su.$_r(m,F,L)}DD(m,F,L,u){this.Su.$_un(m,F,L,u)}IW(){const m=this.X.length;for(let F=0;F<m;++F)this.Su.$_ubk(this.X[F]);
this.X.length=0;this.Su=null;super.IW()}B(){this.publish("screenChange")}G(){this.publish("onlineScreenChange")}};u9.prototype.$_st=u9.prototype.start;u9.prototype.$_gspc=u9.prototype.fF;u9.prototype.$_gsppc=u9.prototype.jw;u9.prototype.$_c=u9.prototype.contains;u9.prototype.$_g=u9.prototype.get;u9.prototype.$_a=u9.prototype.add;u9.prototype.$_un=u9.prototype.DD;u9.prototype.$_r=u9.prototype.remove;u9.prototype.$_gs=u9.prototype.Xu;u9.prototype.$_gos=u9.prototype.YK;u9.prototype.$_s=u9.prototype.subscribe;
u9.prototype.$_ubk=u9.prototype.iU;var GY=null,In=!1,B7=null,H7=null,jN=null,F4=[];var mKm=class extends g.qt{constructor(m,F,L){super();this.X=m;this.Y=F;this.qs=L;this.events=new g.uf(this);this.j=!1;this.Z=new g.W4(64);this.B=new g.d1(this.tF,500,this);this.G=new g.d1(this.OR,1E3,this);this.XN=new fO(this.Cu,0,this);this.V={};this.T=new g.d1(this.sR,1E3,this);this.W=new g.FX(this.seekTo,1E3,this);this.JF=this.events.A(this.Y,"onVolumeChange",u=>{Ux8(this,u)});
g.Z(this,this.events);this.events.A(F,"onCaptionsTrackListChanged",this.FN);this.events.A(F,"captionschanged",this.i9);this.events.A(F,"captionssettingschanged",this.xC);this.events.A(F,"videoplayerreset",this.L);this.events.A(F,"mdxautoplaycancel",()=>{this.qs.hF()});
F.N("enable_mdx_video_play_directly")&&this.events.A(F,"videodatachange",()=>{WYZ(this.X)||$O(this)||PA(this,0)});
m=this.qs;m.jY();m.subscribe("proxyStateChange",this.M0,this);m.subscribe("remotePlayerChange",this.O,this);m.subscribe("remoteQueueChange",this.L,this);m.subscribe("previousNextChange",this.Hb,this);m.subscribe("nowAutoplaying",this.b9,this);m.subscribe("autoplayDismissed",this.hF,this);g.Z(this,this.B);g.Z(this,this.G);g.Z(this,this.XN);g.Z(this,this.T);g.Z(this,this.W);this.xC();this.L();this.O()}IW(){super.IW();this.B.stop();this.G.stop();this.XN.stop();const m=this.qs;m.unsubscribe("proxyStateChange",
this.M0,this);m.unsubscribe("remotePlayerChange",this.O,this);m.unsubscribe("remoteQueueChange",this.L,this);m.unsubscribe("previousNextChange",this.Hb,this);m.unsubscribe("nowAutoplaying",this.b9,this);m.unsubscribe("autoplayDismissed",this.hF,this);this.qs=this.X=null}I_(m,...F){if(this.qs.G!=2)if($O(this)){if(tT(this.qs).playerState!=1081||m!=="control_seek")switch(m){case "control_toggle_play_pause":tT(this.qs).isPlaying()?this.qs.pause():this.qs.play();break;case "control_play":this.qs.play();
break;case "control_pause":this.qs.pause();break;case "control_seek":this.W.V(F[0],F[1]);break;case "control_subtitles_set_track":iY(this,F[0]);break;case "control_set_audio_track":this.setAudioTrack(F[0])}}else switch(m){case "control_toggle_play_pause":case "control_play":case "control_pause":m=this.Y.getCurrentTime();PA(this,m===0?void 0:m);break;case "control_seek":PA(this,F[0]);break;case "control_subtitles_set_track":iY(this,F[0]);break;case "control_set_audio_track":this.setAudioTrack(F[0])}}i9(m){this.XN.o4(m)}Cu(m){this.I_("control_subtitles_set_track",
g.qT(m)?null:m)}xC(){const m=this.Y.getOption("captions","track");g.qT(m)||iY(this,m)}sM(m){this.X.sM(m,this.Y.getVideoData().lengthSeconds)}FN(){g.qT(this.V)||k1f(this,this.V);this.j=!1}M0(m,F){this.G.stop();F===2&&this.OR()}O(){if($O(this)){this.B.stop();var m=tT(this.qs);switch(m.playerState){case 1080:case 1081:case 1084:case 1085:this.X.PO=1;break;case 1082:case 1083:this.X.PO=0;break;default:this.X.PO=-1}switch(m.playerState){case 1081:case 1:this.ul(new g.W4(8));this.tF();break;case 1085:case 3:this.ul(new g.W4(9));
break;case 1083:case 0:this.ul(new g.W4(2));this.W.stop();this.sM(this.Y.getVideoData().lengthSeconds);break;case 1084:this.ul(new g.W4(4));break;case 2:this.ul(new g.W4(4));this.sM(Zs(m));break;case -1:this.ul(new g.W4(64));break;case -1E3:this.ul(new g.W4(128,{errorCode:"mdx.remoteerror",errorMessage:"This video is not available for remote playback.",qV:2}))}const L=tT(this.qs).trackData;m=L;var F=this.V;(m||F?m&&F&&m.trackName==F.trackName&&m.languageCode==F.languageCode&&m.languageName==F.languageName&&
m.kind==F.kind:1)||(this.V=L,k1f(this,L));m=tT(this.qs);m.volume===-1||Math.round(this.Y.getVolume())===m.volume&&this.Y.isMuted()===m.muted||this.T.isActive()||this.sR()}else hdC(this)}Hb(){this.Y.publish("mdxpreviousnextchange")}L(){$O(this)||hdC(this)}b9(m){isNaN(m)||this.Y.publish("mdxnowautoplaying",m)}hF(){this.Y.publish("mdxautoplaycanceled")}setAudioTrack(m){$O(this)&&this.qs.setAudioTrack(eN(this).videoId,m)}seekTo(m,F){tT(this.qs).playerState===-1?PA(this,m):F&&this.qs.seekTo(m)}sR(){if($O(this)){var m=
tT(this.qs);this.events.xW(this.JF);m.muted?this.Y.mute():this.Y.unMute();this.Y.setVolume(m.volume);this.JF=this.events.A(this.Y,"onVolumeChange",F=>{Ux8(this,F)})}}tF(){this.B.stop();
if(!this.qs.jY()){var m=tT(this.qs);m.isPlaying()&&this.ul(new g.W4(8));this.sM(Zs(m));this.B.start()}}OR(){this.G.stop();this.B.stop();const m=this.qs.FB();this.qs.G==2&&!isNaN(m)&&this.G.start()}ul(m){this.G.stop();const F=this.Z;if(!g.dq(F,m)){const L=m.X(2);L!==this.Z.X(2)&&this.Y.sX(L);this.Z=m;O4G(this.X,F,m)}}};var FfG=class extends g.xR{constructor(m,F){super(m);this.X=F}getCurrentTime(){return this.X.getCurrentTime()}getDuration(){return this.X.getDuration()}IK(){return this.X.IK()}uv(){return this.X.uv()}B1(){return this.X.B1()}LC(){return this.X.LC()}getPlayerState(){return this.X.FZ}isAtLiveHead(){return this.X.isAtLiveHead()}pauseVideo(){gX(this.X,"control_pause")}async playVideo(){gX(this.X,"control_play")}seekTo(m,F){gX(this.X,"control_seek",m,!F?.FW)}sE(m){gX(this.X,"control_set_audio_track",m);
return!0}};var Lfq=class extends g.H{constructor(){super({U:"div",J:"ytp-mdx-popup-dialog",C:{role:"dialog"},D:[{U:"div",J:"ytp-mdx-popup-dialog-inner-content",D:[{U:"div",J:"ytp-mdx-popup-title",G0:"You're signed out"},{U:"div",J:"ytp-mdx-popup-description",G0:"Videos that you watch may be added to the TV's watch history and influence TV recommendations. To avoid this, cancel and sign in to YouTube on your computer."},{U:"div",J:"ytp-mdx-privacy-popup-buttons",D:[{U:"button",UR:["ytp-button","ytp-mdx-privacy-popup-cancel"],
G0:"Cancel"},{U:"button",UR:["ytp-button","ytp-mdx-privacy-popup-confirm"],G0:"Confirm"}]}]}]});this.fade=new g.NX(this,250);this.cancelButton=this.Vc("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.Vc("ytp-mdx-privacy-popup-confirm");g.Z(this,this.fade);this.A(this.cancelButton,"click",this.X);this.A(this.confirmButton,"click",this.B)}pA(){this.fade.show()}Ns(){this.fade.hide()}X(){D_("mdx-privacy-popup-cancel");this.Ns()}B(){D_("mdx-privacy-popup-confirm");this.Ns()}};var u3q=class extends g.H{constructor(m){super({U:"div",J:"ytp-remote",D:[{U:"div",J:"ytp-remote-display-status",D:[{U:"div",J:"ytp-remote-display-status-icon",D:[g.taZ()]},{U:"div",J:"ytp-remote-display-status-text",G0:"{{statustext}}"}]}]});this.api=m;this.fade=new g.NX(this,250);g.Z(this,this.fade);this.A(m,"presentingplayerstatechange",this.onStateChange);this.Nm(m.getPlayerStateObject())}onStateChange(m){this.Nm(m.state)}Nm(m){if(this.api.getPresentingPlayerType()===3){const F={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};m=m.X(128)?g.vI("Error on $RECEIVER_NAME",F):m.isPlaying()||m.isPaused()?g.vI("Playing on $RECEIVER_NAME",F):g.vI("Connected to $RECEIVER_NAME",F);this.updateValue("statustext",m);this.fade.show()}else this.fade.hide()}};var qu8=class extends g.ey{constructor(m,F){super("Play on",1,m,F);this.Y=m;this.xp={};this.A(m,"onMdxReceiversChange",this.j);this.A(m,"presentingplayerstatechange",this.j);this.j()}j(){var m=this.Y.getOption("remote","receivers");m&&m.length>1&&!this.Y.getOption("remote","quickCast")?(this.xp=g.sR(m,this.O,this),this.V(g.iq(m,this.O)),m=this.Y.getOption("remote","currentReceiver"),m=this.O(m),this.options[m]&&this.B(m),this.enable(!0)):this.enable(!1)}O(m){return m.key}G(m){return m==="cast-selector-receiver"?
"Cast...":this.xp[m].name}X(m){super.X(m);this.Y.setOption("remote","currentReceiver",this.xp[m]);this.hW.Ns()}};g.PC("remote",class extends g.gB{constructor(m){super(m);this.kh={key:R_(),name:"This computer"};this.wy=null;this.subscriptions=[];this.h1=this.qs=null;this.xp=[this.kh];this.I1=this.kh;this.FZ=new g.W4(64);this.j4=0;this.PO=-1;this.Q2=!1;this.Ta=this.M7=this.Bc=null;if(!g.X9(this.player.K())&&!g.Qf(this.player.K())){m=this.player;var F=g.Cw(m);F&&(F=F.Oe())&&(F=new qu8(m,F),g.Z(this,F));F=new u3q(m);g.Z(this,F);g.jB(m,F.element,4);this.Bc=new Lfq;g.Z(this,this.Bc);g.jB(m,this.Bc.element,4);this.Q2=
!!uY()}}create(){var m=this.player.K();const F=g.EK(m);m={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:m.N("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:m.N("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:m.N("enable_cast_short_lived_lounge_token")};Z4q(F,m);this.subscriptions.push(g.Ad("yt-remote-before-disconnect",this.eM,this));this.subscriptions.push(g.Ad("yt-remote-connection-change",this.Ls,this));this.subscriptions.push(g.Ad("yt-remote-receiver-availability-change",
this.LD,this));this.subscriptions.push(g.Ad("yt-remote-auto-connect",this.jC,this));this.subscriptions.push(g.Ad("yt-remote-receiver-resumed",this.Ys,this));this.subscriptions.push(g.Ad("mdx-privacy-popup-confirm",this.eX,this));this.subscriptions.push(g.Ad("mdx-privacy-popup-cancel",this.Ep,this));this.LD()}load(){this.player.cancelPlayback();super.load();this.Ta=new FfG(this.player.K(),this);this.player.Tr(this.Ta);this.wy=new mKm(this,this.player,this.qs);var m=(m=E$m())?m.currentTime:0;const F=
Vd()?new Cof:null;m==0&&F&&(m=Zs(tT(F)));m!==0&&this.sM(m);O4G(this,this.FZ,this.FZ);this.player.AJ(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.iI();this.I1=this.kh;g.uM(this.wy,this.qs);this.qs=this.Ta=this.wy=null;super.unload();this.player.AJ(5);zY(this)}IW(){g.rO(this.subscriptions);super.IW()}getAdState(){return this.PO}hasPrevious(){return this.qs?tT(this.qs).hasPrevious:!1}hasNext(){return this.qs?tT(this.qs).hasNext:!1}sM(m,F){this.j4=m||0;this.player.publish("progresssync",
m,F);g.nw(this.player,"onVideoProgress",m||0)}getCurrentTime(){return this.j4}getDuration(){return tT(this.qs).getDuration()||0}IK(){var m=tT(this.qs);return m.V?m.X+xL(m):m.X}uv(){return tT(this.qs).loadedTime}B1(){return G1C(tT(this.qs))}LC(){var m=tT(this.qs);return m.B>0?m.B+xL(m):m.B}getProgressState(){const m=tT(this.qs),F=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:m.playerState!=1081&&this.player.Lr(),clipEnd:F.clipEnd,clipStart:F.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.IK(),isAtLiveHead:this.isAtLiveHead(),loaded:this.uv(),seekableEnd:this.B1(),seekableStart:this.LC(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return G1C(tT(this.qs))-this.getCurrentTime()<=1}nextVideo(){this.qs&&this.qs.nextVideo()}jH(){this.qs&&this.qs.jH()}eM(m){m===1&&(this.h1=this.qs?tT(this.qs):null)}Ls(){var m=Vd()?new Cof:null;if(m){const F=this.I1;this.loaded&&this.unload();this.qs=m;this.h1=null;F.key!==this.kh.key&&
(this.I1=F,this.load())}else g.Lx(this.qs),this.qs=null,this.loaded&&(this.unload(),(m=this.h1)&&m.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(m.videoId,Zs(m)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}LD(){var m=[this.kh],F=m.concat;const L=Sge();ax()&&g.rc("yt-remote-cast-available")&&L.push({key:"cast-selector-receiver",name:"Cast..."});this.xp=F.call(m,L);m=yd()||this.kh;YO(this,m);g.nw(this.player,"onMdxReceiversChange")}jC(){const m=
yd();YO(this,m)}Ys(){this.I1=yd()}eX(){this.Q2=!0;zY(this);In=!1;GY&&lY(GY,1);GY=null}Ep(){this.Q2=!1;zY(this);YO(this,this.kh);this.I1=this.kh;In=!1;GY=null;this.player.playVideo()}Cj(m,F){switch(m){case "casting":return this.loaded;case "receivers":return this.xp;case "currentReceiver":return F&&(F.key==="cast-selector-receiver"?T3():YO(this,F)),this.loaded?this.I1:this.kh;case "quickCast":return this.xp.length===2&&this.xp[1].key==="cast-selector-receiver"?(F&&T3(),!0):!1}}Lv(){this.qs.Lv()}EW(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.k("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.k("SESSION_INDEX")&&!g.k("LOGGED_IN"))}});})(_yt_player);
